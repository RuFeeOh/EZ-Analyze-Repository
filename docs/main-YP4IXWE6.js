import{$ as dg,$a as Dk,$b as Bt,$c as tI,A as De,Aa as Gs,Ab as Lk,Ac as Gk,B as Br,Ba as Dd,Bb as Je,Bc as Yn,C as Qr,Ca as al,Cb as Me,Cc as Qn,D as Qy,Da as it,Db as bi,Dc as Zn,E as og,Ea as wk,Eb as lb,Ec as Nd,F as Ur,Fa as xk,Fb as Fd,Fc as hg,G as sg,Ga as Xh,Gb as Vk,Gc as fg,H as mk,Ha as Ui,Hb as db,Hc as qk,I as Vi,Ia as Yh,Ib as Bk,Ic as Kk,J as Hs,Ja as ci,Jb as Jr,Jc as Tt,K as Dt,Ka as qt,Kb as Uk,Kc as qi,L as Zy,La as rb,Lb as Ge,Lc as Xk,M as zr,Ma as Ce,Mb as zk,Mc as Yk,N as Ws,Na as Zo,Nb as jk,Nc as cl,O as _o,Oa as Ek,Ob as rt,Oc as Kt,P as Jy,Pa as ol,Pb as at,Pc as Va,Q as fi,Qa as Ck,Qb as Hk,Qc as zi,R as eb,Ra as Jo,Rb as qs,Rc as Qk,S as cg,Sa as Ad,Sb as ya,Sc as en,T as rl,Ta as Qh,Tb as ba,Tc as Zk,U as $s,Ua as ab,Ub as Z,Uc as Jk,V as tb,Va as Rd,Vb as P,Vc as mg,W as pk,Wa as Md,Wb as V,Wc as mi,X as lg,Xa as Tk,Xb as Ne,Xc as Lt,Y as ib,Ya as Sk,Yb as on,Yc as Ba,Z as gk,Za as kk,Zb as un,Zc as vo,_ as nb,_a as Ik,_b as Xn,_c as eI,a as ae,aa as Si,ab as Ak,ac as Ut,ad as mn,b as kt,ba as ii,bb as Rk,bc as Gi,bd as ef,ca as pt,cb as Zr,cc as mt,cd as iI,d as il,da as _k,db as Mk,dc as Sr,dd as pg,e as js,ea as vi,eb as Ok,ec as ea,ed as nI,f as N,fa as st,fb as ob,fc as hn,fd as hb,g as Zi,ga as qh,gb as B,gc as fe,gd as bt,h as qy,ha as Tr,hb as Od,hc as Wk,hd as es,i as Li,ia as le,ib as yi,ic as ee,id as rI,j as Ky,ja as Ve,jb as Kn,jc as Ot,jd as Fe,k as $h,ka as vk,kb as Jt,kc as Qe,kd as oi,l as ge,la as se,lb as tt,lc as ft,ld as aI,m as Ji,ma as Et,mb as Zh,mc as lt,md as gg,n as Id,na as g,nb as $i,nc as ve,o as dk,oa as sr,ob as sb,oc as ye,p as uk,pa as yk,pb as ug,pc as $k,q as La,qa as Oi,qb as Fk,qc as Jh,r as ag,ra as Bi,rb as cb,rc as ub,s as Xy,sa as Ae,sb as pe,sc as wi,t as Yy,ta as Re,tb as Be,tc as fn,u as qn,ua as Fn,ub as me,uc as xe,v as He,va as Kh,vb as sl,vc as sn,w as nl,wa as bk,wb as dt,wc as Y,x as Gh,xa as $e,xb as Pk,xc as _t,y as hk,ya as et,yb as ke,yc as jt,z as fk,za as Qo,zb as Nk,zc as Pd}from"./chunk-NXNZIKRV.js";var cI=null;function wa(){return cI}function fb(i){cI??=i}var tf=class{},mb=(()=>{class i{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:()=>g(lI),providedIn:"platform"})}return i})();var lI=(()=>{class i extends mb{_location;_history;_doc=g(et);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wa().getBaseHref(this._doc)}onPopState(e){let n=wa().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){let n=wa().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){this._history.pushState(e,n,r)}replaceState(e,n,r){this._history.replaceState(e,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:()=>new i,providedIn:"platform"})}return i})();function dI(i,t){return i?t?i.endsWith("/")?t.startsWith("/")?i+t.slice(1):i+t:t.startsWith("/")?i+t:`${i}/${t}`:i:t}function oI(i){let t=i.search(/#|\?|$/);return i[t-1]==="/"?i.slice(0,t-1)+i.slice(t):i}function Ks(i){return i&&i[0]!=="?"?`?${i}`:i}var Ld=(()=>{class i{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:()=>g(hI),providedIn:"root"})}return i})(),uI=new se(""),hI=(()=>{class i extends Ld{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??g(et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return dI(this._baseHref,e)}path(e=!1){let n=this._platformLocation.pathname+Ks(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,a){let o=this.prepareExternalUrl(r+Ks(a));this._platformLocation.pushState(e,n,o)}replaceState(e,n,r,a){let o=this.prepareExternalUrl(r+Ks(a));this._platformLocation.replaceState(e,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||i)(Et(mb),Et(uI,8))};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Xs=(()=>{class i{_subject=new ge;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let n=this._locationStrategy.getBaseHref();this._basePath=W3(oI(sI(n))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+Ks(n))}normalize(e){return i.stripTrailingSlash(H3(this._basePath,sI(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ks(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ks(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n??void 0,complete:r??void 0})}static normalizeQueryParams=Ks;static joinWithSlash=dI;static stripTrailingSlash=oI;static \u0275fac=function(n){return new(n||i)(Et(Ld))};static \u0275prov=le({token:i,factory:()=>j3(),providedIn:"root"})}return i})();function j3(){return new Xs(Et(Ld))}function H3(i,t){if(!i||!t.startsWith(i))return t;let e=t.substring(i.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function sI(i){return i.replace(/\/index.html$/,"")}function W3(i){if(new RegExp("^(https?:)?//").test(i)){let[,e]=i.split(/\/\/[^\/]+/);return e}return i}var kg=(function(i){return i[i.Decimal=0]="Decimal",i[i.Percent=1]="Percent",i[i.Currency=2]="Currency",i[i.Scientific=3]="Scientific",i})(kg||{});var cr=(function(i){return i[i.Format=0]="Format",i[i.Standalone=1]="Standalone",i})(cr||{}),pi=(function(i){return i[i.Narrow=0]="Narrow",i[i.Abbreviated=1]="Abbreviated",i[i.Wide=2]="Wide",i[i.Short=3]="Short",i})(pi||{}),jr=(function(i){return i[i.Short=0]="Short",i[i.Medium=1]="Medium",i[i.Long=2]="Long",i[i.Full=3]="Full",i})(jr||{}),Pn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function vI(i){return ea(i)[hn.LocaleId]}function yI(i,t,e){let n=ea(i),r=[n[hn.DayPeriodsFormat],n[hn.DayPeriodsStandalone]],a=Ea(r,t);return Ea(a,e)}function bI(i,t,e){let n=ea(i),r=[n[hn.DaysFormat],n[hn.DaysStandalone]],a=Ea(r,t);return Ea(a,e)}function wI(i,t,e){let n=ea(i),r=[n[hn.MonthsFormat],n[hn.MonthsStandalone]],a=Ea(r,t);return Ea(a,e)}function xI(i,t){let n=ea(i)[hn.Eras];return Ea(n,t)}function nf(i,t){let e=ea(i);return Ea(e[hn.DateFormat],t)}function rf(i,t){let e=ea(i);return Ea(e[hn.TimeFormat],t)}function af(i,t){let n=ea(i)[hn.DateTimeFormat];return Ea(n,t)}function xa(i,t){let e=ea(i),n=e[hn.NumberSymbols][t];if(typeof n>"u"){if(t===Pn.CurrencyDecimal)return e[hn.NumberSymbols][Pn.Decimal];if(t===Pn.CurrencyGroup)return e[hn.NumberSymbols][Pn.Group]}return n}function Eb(i,t){return ea(i)[hn.NumberFormats][t]}function EI(i){if(!i[hn.ExtraData])throw new st(2303,!1)}function CI(i){let t=ea(i);return EI(t),(t[hn.ExtraData][2]||[]).map(n=>typeof n=="string"?pb(n):[pb(n[0]),pb(n[1])])}function TI(i,t,e){let n=ea(i);EI(n);let r=[n[hn.ExtraData][0],n[hn.ExtraData][1]],a=Ea(r,t)||[];return Ea(a,e)||[]}function Ea(i,t){for(let e=t;e>-1;e--)if(typeof i[e]<"u")return i[e];throw new st(2304,!1)}function pb(i){let[t,e]=i.split(":");return{hours:+t,minutes:+e}}var $3=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_g={},G3=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function SI(i,t,e,n){let r=tV(i);t=ts(e,t)||t;let o=[],s;for(;t;)if(s=G3.exec(t),s){o=o.concat(s.slice(1));let d=o.pop();if(!d)break;t=d}else{o.push(t);break}let c=r.getTimezoneOffset();n&&(c=II(n,c),r=eV(r,n));let l="";return o.forEach(d=>{let h=Z3(d);l+=h?h(r,e,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function xg(i,t,e){let n=new Date(0);return n.setFullYear(i,t,e),n.setHours(0,0,0),n}function ts(i,t){let e=vI(i);if(_g[e]??={},_g[e][t])return _g[e][t];let n="";switch(t){case"shortDate":n=nf(i,jr.Short);break;case"mediumDate":n=nf(i,jr.Medium);break;case"longDate":n=nf(i,jr.Long);break;case"fullDate":n=nf(i,jr.Full);break;case"shortTime":n=rf(i,jr.Short);break;case"mediumTime":n=rf(i,jr.Medium);break;case"longTime":n=rf(i,jr.Long);break;case"fullTime":n=rf(i,jr.Full);break;case"short":let r=ts(i,"shortTime"),a=ts(i,"shortDate");n=vg(af(i,jr.Short),[r,a]);break;case"medium":let o=ts(i,"mediumTime"),s=ts(i,"mediumDate");n=vg(af(i,jr.Medium),[o,s]);break;case"long":let c=ts(i,"longTime"),l=ts(i,"longDate");n=vg(af(i,jr.Long),[c,l]);break;case"full":let d=ts(i,"fullTime"),h=ts(i,"fullDate");n=vg(af(i,jr.Full),[d,h]);break}return n&&(_g[e][t]=n),n}function vg(i,t){return t&&(i=i.replace(/\{([^}]+)}/g,function(e,n){return t!=null&&n in t?t[n]:e})),i}function Ua(i,t,e="-",n,r){let a="";(i<0||r&&i<=0)&&(r?i=-i+1:(i=-i,a=e));let o=String(i);for(;o.length<t;)o="0"+o;return n&&(o=o.slice(o.length-t)),a+o}function q3(i,t){return Ua(i,3).substring(0,t)}function pn(i,t,e=0,n=!1,r=!1){return function(a,o){let s=K3(i,a);if((e>0||s>-e)&&(s+=e),i===3)s===0&&e===-12&&(s=12);else if(i===6)return q3(s,t);let c=xa(o,Pn.MinusSign);return Ua(s,t,c,n,r)}}function K3(i,t){switch(i){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new st(2301,!1)}}function ki(i,t,e=cr.Format,n=!1){return function(r,a){return X3(r,a,i,t,e,n)}}function X3(i,t,e,n,r,a){switch(e){case 2:return wI(t,r,n)[i.getMonth()];case 1:return bI(t,r,n)[i.getDay()];case 0:let o=i.getHours(),s=i.getMinutes();if(a){let l=CI(t),d=TI(t,r,n),h=l.findIndex(f=>{if(Array.isArray(f)){let[m,v]=f,_=o>=m.hours&&s>=m.minutes,y=o<v.hours||o===v.hours&&s<v.minutes;if(m.hours<v.hours){if(_&&y)return!0}else if(_||y)return!0}else if(f.hours===o&&f.minutes===s)return!0;return!1});if(h!==-1)return d[h]}return yI(t,r,n)[o<12?0:1];case 3:return xI(t,n)[i.getFullYear()<=0?0:1];default:let c=e;throw new st(2302,!1)}}function yg(i){return function(t,e,n){let r=-1*n,a=xa(e,Pn.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(i){case 0:return(r>=0?"+":"")+Ua(o,2,a)+Ua(Math.abs(r%60),2,a);case 1:return"GMT"+(r>=0?"+":"")+Ua(o,1,a);case 2:return"GMT"+(r>=0?"+":"")+Ua(o,2,a)+":"+Ua(Math.abs(r%60),2,a);case 3:return n===0?"Z":(r>=0?"+":"")+Ua(o,2,a)+":"+Ua(Math.abs(r%60),2,a);default:throw new st(2302,!1)}}}var Y3=0,wg=4;function Q3(i){let t=xg(i,Y3,1).getDay();return xg(i,0,1+(t<=wg?wg:wg+7)-t)}function kI(i){let t=i.getDay(),e=t===0?-3:wg-t;return xg(i.getFullYear(),i.getMonth(),i.getDate()+e)}function gb(i,t=!1){return function(e,n){let r;if(t){let a=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();r=1+Math.floor((o+a)/7)}else{let a=kI(e),o=Q3(a.getFullYear()),s=a.getTime()-o.getTime();r=1+Math.round(s/6048e5)}return Ua(r,i,xa(n,Pn.MinusSign))}}function bg(i,t=!1){return function(e,n){let a=kI(e).getFullYear();return Ua(a,i,xa(n,Pn.MinusSign),t)}}var _b={};function Z3(i){if(_b[i])return _b[i];let t;switch(i){case"G":case"GG":case"GGG":t=ki(3,pi.Abbreviated);break;case"GGGG":t=ki(3,pi.Wide);break;case"GGGGG":t=ki(3,pi.Narrow);break;case"y":t=pn(0,1,0,!1,!0);break;case"yy":t=pn(0,2,0,!0,!0);break;case"yyy":t=pn(0,3,0,!1,!0);break;case"yyyy":t=pn(0,4,0,!1,!0);break;case"Y":t=bg(1);break;case"YY":t=bg(2,!0);break;case"YYY":t=bg(3);break;case"YYYY":t=bg(4);break;case"M":case"L":t=pn(1,1,1);break;case"MM":case"LL":t=pn(1,2,1);break;case"MMM":t=ki(2,pi.Abbreviated);break;case"MMMM":t=ki(2,pi.Wide);break;case"MMMMM":t=ki(2,pi.Narrow);break;case"LLL":t=ki(2,pi.Abbreviated,cr.Standalone);break;case"LLLL":t=ki(2,pi.Wide,cr.Standalone);break;case"LLLLL":t=ki(2,pi.Narrow,cr.Standalone);break;case"w":t=gb(1);break;case"ww":t=gb(2);break;case"W":t=gb(1,!0);break;case"d":t=pn(2,1);break;case"dd":t=pn(2,2);break;case"c":case"cc":t=pn(7,1);break;case"ccc":t=ki(1,pi.Abbreviated,cr.Standalone);break;case"cccc":t=ki(1,pi.Wide,cr.Standalone);break;case"ccccc":t=ki(1,pi.Narrow,cr.Standalone);break;case"cccccc":t=ki(1,pi.Short,cr.Standalone);break;case"E":case"EE":case"EEE":t=ki(1,pi.Abbreviated);break;case"EEEE":t=ki(1,pi.Wide);break;case"EEEEE":t=ki(1,pi.Narrow);break;case"EEEEEE":t=ki(1,pi.Short);break;case"a":case"aa":case"aaa":t=ki(0,pi.Abbreviated);break;case"aaaa":t=ki(0,pi.Wide);break;case"aaaaa":t=ki(0,pi.Narrow);break;case"b":case"bb":case"bbb":t=ki(0,pi.Abbreviated,cr.Standalone,!0);break;case"bbbb":t=ki(0,pi.Wide,cr.Standalone,!0);break;case"bbbbb":t=ki(0,pi.Narrow,cr.Standalone,!0);break;case"B":case"BB":case"BBB":t=ki(0,pi.Abbreviated,cr.Format,!0);break;case"BBBB":t=ki(0,pi.Wide,cr.Format,!0);break;case"BBBBB":t=ki(0,pi.Narrow,cr.Format,!0);break;case"h":t=pn(3,1,-12);break;case"hh":t=pn(3,2,-12);break;case"H":t=pn(3,1);break;case"HH":t=pn(3,2);break;case"m":t=pn(4,1);break;case"mm":t=pn(4,2);break;case"s":t=pn(5,1);break;case"ss":t=pn(5,2);break;case"S":t=pn(6,1);break;case"SS":t=pn(6,2);break;case"SSS":t=pn(6,3);break;case"Z":case"ZZ":case"ZZZ":t=yg(0);break;case"ZZZZZ":t=yg(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=yg(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=yg(2);break;default:return null}return _b[i]=t,t}function II(i,t){i=i.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(e)?t:e}function J3(i,t){return i=new Date(i.getTime()),i.setMinutes(i.getMinutes()+t),i}function eV(i,t,e){let r=i.getTimezoneOffset(),a=II(t,r);return J3(i,-1*(a-r))}function tV(i){if(fI(i))return i;if(typeof i=="number"&&!isNaN(i))return new Date(i);if(typeof i=="string"){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){let[r,a=1,o=1]=i.split("-").map(s=>+s);return xg(r,a-1,o)}let e=parseFloat(i);if(!isNaN(i-e))return new Date(e);let n;if(n=i.match($3))return iV(n)}let t=new Date(i);if(!fI(t))throw new st(2302,!1);return t}function iV(i){let t=new Date(0),e=0,n=0,r=i[8]?t.setUTCFullYear:t.setFullYear,a=i[8]?t.setUTCHours:t.setHours;i[9]&&(e=Number(i[9]+i[10]),n=Number(i[9]+i[11])),r.call(t,Number(i[1]),Number(i[2])-1,Number(i[3]));let o=Number(i[4]||0)-e,s=Number(i[5]||0)-n,c=Number(i[6]||0),l=Math.floor(parseFloat("0."+(i[7]||0))*1e3);return a.call(t,o,s,c,l),t}function fI(i){return i instanceof Date&&!isNaN(i.valueOf())}var nV=/^(\d+)?\.((\d+)(-(\d+))?)?$/,mI=22,Eg=".",of="0",rV=";",aV=",",vb="#";var oV="%";function DI(i,t,e,n,r,a,o=!1){let s="",c=!1;if(!isFinite(i))s=xa(e,Pn.Infinity);else{let l=cV(i);o&&(l=sV(l));let d=t.minInt,h=t.minFrac,f=t.maxFrac;if(a){let D=a.match(nV);if(D===null)throw new st(2306,!1);let T=D[1],G=D[3],K=D[5];T!=null&&(d=yb(T)),G!=null&&(h=yb(G)),K!=null?f=yb(K):G!=null&&h>f&&(f=h)}lV(l,h,f);let m=l.digits,v=l.integerLen,_=l.exponent,y=[];for(c=m.every(D=>!D);v<d;v++)m.unshift(0);for(;v<0;v++)m.unshift(0);v>0?y=m.splice(v,m.length):(y=m,m=[0]);let S=[];for(m.length>=t.lgSize&&S.unshift(m.splice(-t.lgSize,m.length).join(""));m.length>t.gSize;)S.unshift(m.splice(-t.gSize,m.length).join(""));m.length&&S.unshift(m.join("")),s=S.join(xa(e,n)),y.length&&(s+=xa(e,r)+y.join("")),_&&(s+=xa(e,Pn.Exponential)+"+"+_)}return i<0&&!c?s=t.negPre+s+t.negSuf:s=t.posPre+s+t.posSuf,s}function AI(i,t,e){let n=Eb(t,kg.Percent),r=MI(n,xa(t,Pn.MinusSign));return DI(i,r,t,Pn.Group,Pn.Decimal,e,!0).replace(new RegExp(oV,"g"),xa(t,Pn.PercentSign))}function RI(i,t,e){let n=Eb(t,kg.Decimal),r=MI(n,xa(t,Pn.MinusSign));return DI(i,r,t,Pn.Group,Pn.Decimal,e)}function MI(i,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=i.split(rV),r=n[0],a=n[1],o=r.indexOf(Eg)!==-1?r.split(Eg):[r.substring(0,r.lastIndexOf(of)+1),r.substring(r.lastIndexOf(of)+1)],s=o[0],c=o[1]||"";e.posPre=s.substring(0,s.indexOf(vb));for(let d=0;d<c.length;d++){let h=c.charAt(d);h===of?e.minFrac=e.maxFrac=d+1:h===vb?e.maxFrac=d+1:e.posSuf+=h}let l=s.split(aV);if(e.gSize=l[1]?l[1].length:0,e.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,a){let d=r.length-e.posPre.length-e.posSuf.length,h=a.indexOf(vb);e.negPre=a.substring(0,h).replace(/'/g,""),e.negSuf=a.slice(h+d).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function sV(i){if(i.digits[0]===0)return i;let t=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(t===0?i.digits.push(0,0):t===1&&i.digits.push(0),i.integerLen+=2),i}function cV(i){let t=Math.abs(i)+"",e=0,n,r,a,o,s;for((r=t.indexOf(Eg))>-1&&(t=t.replace(Eg,"")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charAt(a)===of;a++);if(a===(s=t.length))n=[0],r=1;else{for(s--;t.charAt(s)===of;)s--;for(r-=a,n=[],o=0;a<=s;a++,o++)n[o]=Number(t.charAt(a))}return r>mI&&(n=n.splice(0,mI-1),e=r-1,r=1),{digits:n,exponent:e,integerLen:r}}function lV(i,t,e){if(t>e)throw new st(2307,!1);let n=i.digits,r=n.length-i.integerLen,a=Math.min(Math.max(t,r),e),o=a+i.integerLen,s=n[o];if(o>0){n.splice(Math.max(i.integerLen,o));for(let h=o;h<n.length;h++)n[h]=0}else{r=Math.max(0,r),i.integerLen=1,n.length=Math.max(1,o=a+1),n[0]=0;for(let h=1;h<o;h++)n[h]=0}if(s>=5)if(o-1<0){for(let h=0;h>o;h--)n.unshift(0),i.integerLen++;n.unshift(1),i.integerLen++}else n[o-1]++;for(;r<Math.max(0,a);r++)n.push(0);let c=a!==0,l=t+i.integerLen,d=n.reduceRight(function(h,f,m,v){return f=f+h,v[m]=f<10?f:f-10,c&&(v[m]===0&&m>=l?v.pop():c=!1),f>=10?1:0},0);d&&(n.unshift(d),i.integerLen++)}function yb(i){let t=parseInt(i);if(isNaN(t))throw new st(2305,!1);return t}var bb=/\s+/,pI=[],sf=(()=>{class i{_ngEl;_renderer;initialClasses=pI;rawClass;stateMap=new Map;constructor(e,n){this._ngEl=e,this._renderer=n}set klass(e){this.initialClasses=e!=null?e.trim().split(bb):pI}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(bb):e}ngDoCheck(){for(let n of this.initialClasses)this._updateState(n,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let n of e)this._updateState(n,!0);else if(e!=null)for(let n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){e=e.trim(),e.length>0&&e.split(bb).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(n){return new(n||i)(tt(Ce),tt(Jt))};static \u0275dir=me({type:i,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return i})();var Cg=class{$implicit;ngForOf;index;count;constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ys=(()=>{class i{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let n=this._viewContainer;e.forEachOperation((r,a,o)=>{if(r.previousIndex==null)n.createEmbeddedView(this._template,new Cg(r.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)n.remove(a===null?void 0:a);else if(a!==null){let s=n.get(a);n.move(s,o),gI(s,r)}});for(let r=0,a=n.length;r<a;r++){let s=n.get(r).context;s.index=r,s.count=a,s.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let a=n.get(r.currentIndex);gI(a,r)})}static ngTemplateContextGuard(e,n){return!0}static \u0275fac=function(n){return new(n||i)(tt($i),tt(yi),tt(es))};static \u0275dir=me({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return i})();function gI(i,t){i.context.$implicit=t.item}var Ki=(()=>{class i{_viewContainer;_context=new Tg;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,n){this._viewContainer=e,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){_I(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){_I(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,n){return!0}static \u0275fac=function(n){return new(n||i)(tt($i),tt(yi))};static \u0275dir=me({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return i})(),Tg=class{$implicit=null;ngIf=null};function _I(i,t){if(i&&!i.createEmbeddedView)throw new st(2020,!1)}var Sg=class{_viewContainerRef;_templateRef;_created=!1;constructor(t,e){this._viewContainerRef=t,this._templateRef=e}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}},is=(()=>{class i{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(e){this._ngSwitch=e,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let n=e===this._ngSwitch;return this._lastCasesMatched||=n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let n of this._defaultViews)n.enforceState(e)}}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return i})(),ll=(()=>{class i{ngSwitch;_view;ngSwitchCase;constructor(e,n,r){this.ngSwitch=r,r._addCase(),this._view=new Sg(e,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(n){return new(n||i)(tt($i),tt(yi),tt(is,9))};static \u0275dir=me({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return i})(),dl=(()=>{class i{constructor(e,n,r){r._addDefault(new Sg(e,n))}static \u0275fac=function(n){return new(n||i)(tt($i),tt(yi),tt(is,9))};static \u0275dir=me({type:i,selectors:[["","ngSwitchDefault",""]]})}return i})();var ul=(()=>{class i{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,n,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,n,r):!1,get:(e,n,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,r)}})}static \u0275fac=function(n){return new(n||i)(tt($i))};static \u0275dir=me({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[ci]})}return i})();function Vd(i,t){return new st(2100,!1)}var wb=class{createSubscription(t,e,n){return mi(()=>t.subscribe({next:e,error:n}))}dispose(t){mi(()=>t.unsubscribe())}},xb=class{createSubscription(t,e,n){return t.then(r=>e?.(r),r=>n?.(r)),{unsubscribe:()=>{e=null,n=null}}}dispose(t){t.unsubscribe()}},dV=new xb,uV=new wb,ns=(()=>{class i{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=g(Dd);constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,n=>this._updateLatestValue(e,n),n=>this.applicationErrorHandler(n))}_selectStrategy(e){if(Fd(e))return dV;if(Vk(e))return uV;throw Vd(i,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,n){e===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(n){return new(n||i)(tt(bt,16))};static \u0275pipe=sl({name:"async",type:i,pure:!1})}return i})();var Cb=(()=>{class i{transform(e){if(e==null)return null;if(typeof e!="string")throw Vd(i,e);return e.toUpperCase()}static \u0275fac=function(n){return new(n||i)};static \u0275pipe=sl({name:"uppercase",type:i,pure:!0})}return i})(),hV="mediumDate",OI=new se(""),FI=new se(""),hl=(()=>{class i{locale;defaultTimezone;defaultOptions;constructor(e,n,r){this.locale=e,this.defaultTimezone=n,this.defaultOptions=r}transform(e,n,r,a){if(e==null||e===""||e!==e)return null;try{let o=n??this.defaultOptions?.dateFormat??hV,s=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return SI(e,o,a||this.locale,s)}catch(o){throw Vd(i,o.message)}}static \u0275fac=function(n){return new(n||i)(tt(mg,16),tt(OI,24),tt(FI,24))};static \u0275pipe=sl({name:"date",type:i,pure:!0})}return i})();var fl=(()=>{class i{_locale;constructor(e){this._locale=e}transform(e,n,r){if(!PI(e))return null;r||=this._locale;try{let a=NI(e);return RI(a,r,n)}catch(a){throw Vd(i,a.message)}}static \u0275fac=function(n){return new(n||i)(tt(mg,16))};static \u0275pipe=sl({name:"number",type:i,pure:!0})}return i})(),Tb=(()=>{class i{_locale;constructor(e){this._locale=e}transform(e,n,r){if(!PI(e))return null;r||=this._locale;try{let a=NI(e);return AI(a,r,n)}catch(a){throw Vd(i,a.message)}}static \u0275fac=function(n){return new(n||i)(tt(mg,16))};static \u0275pipe=sl({name:"percent",type:i,pure:!0})}return i})();function PI(i){return!(i==null||i===""||i!==i)}function NI(i){if(typeof i=="string"&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if(typeof i!="number")throw new st(2309,!1);return i}var Sb=(()=>{class i{transform(e,n,r){if(e==null)return null;if(!(typeof e=="string"||Array.isArray(e)))throw Vd(i,e);return e.slice(n,r)}static \u0275fac=function(n){return new(n||i)};static \u0275pipe=sl({name:"slice",type:i,pure:!1})}return i})();var ni=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({})}return i})();function kb(i,t){t=encodeURIComponent(t);for(let e of i.split(";")){let n=e.indexOf("="),[r,a]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===t)return decodeURIComponent(a)}return null}var cf=class{};var Ib="browser";function LI(i){return i===Ib}var Dg=new se(""),Ob=(()=>{class i{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r,a){return this._findPluginFor(n).addEventListener(e,n,r,a)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(a=>a.supports(e)),!n)throw new st(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||i)(Et(Dg),Et(Me))};static \u0275prov=le({token:i,factory:i.\u0275fac})}return i})(),lf=class{_doc;constructor(t){this._doc=t}manager},Db="ng-app-id";function VI(i){for(let t of i)t.remove()}function BI(i,t){let e=t.createElement("style");return e.textContent=i,e}function fV(i,t,e,n){let r=i.head?.querySelectorAll(`style[${Db}="${t}"],link[${Db}="${t}"]`);if(r)for(let a of r)a.removeAttribute(Db),a instanceof HTMLLinkElement?n.set(a.href.slice(a.href.lastIndexOf("/")+1),{usage:0,elements:[a]}):a.textContent&&e.set(a.textContent,{usage:0,elements:[a]})}function Rb(i,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",i),e}var Fb=(()=>{class i{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,n,r,a={}){this.doc=e,this.appId=n,this.nonce=r,fV(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let r of e)this.addUsage(r,this.inline,BI);n?.forEach(r=>this.addUsage(r,this.external,Rb))}removeStyles(e,n){for(let r of e)this.removeUsage(r,this.inline);n?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,n,r){let a=n.get(e);a?a.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,r(e,this.doc)))})}removeUsage(e,n){let r=n.get(e);r&&(r.usage--,r.usage<=0&&(VI(r.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])VI(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:r}]of this.inline)r.push(this.addElement(e,BI(n,this.doc)));for(let[n,{elements:r}]of this.external)r.push(this.addElement(e,Rb(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),e.appendChild(n)}static \u0275fac=function(n){return new(n||i)(Et(et),Et(ol),Et(Qh,8),Et(Jo))};static \u0275prov=le({token:i,factory:i.\u0275fac})}return i})(),Ab={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Pb=/%COMP%/g;var zI="%COMP%",mV=`_nghost-${zI}`,pV=`_ngcontent-${zI}`,gV=!0,_V=new se("",{providedIn:"root",factory:()=>gV});function vV(i){return pV.replace(Pb,i)}function yV(i){return mV.replace(Pb,i)}function jI(i,t){return t.map(e=>e.replace(Pb,i))}var hf=(()=>{class i{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(e,n,r,a,o,s,c,l=null,d,h,f=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=a,this.doc=o,this.platformId=s,this.ngZone=c,this.nonce=l,this.animationDisabled=d,this.maxAnimationTimeout=h,this.tracingService=f,this.platformIsServer=!1,this.defaultRenderer=new df(e,o,c,this.platformIsServer,this.tracingService,this.registry=bk(),this.maxAnimationTimeout)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,n);return r instanceof Ig?r.applyToHost(e):r instanceof uf&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,a=r.get(n.id);if(!a){let o=this.doc,s=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer,f=this.tracingService;switch(n.encapsulation){case ab.Emulated:a=new Ig(c,l,n,this.appId,d,o,s,h,f,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case ab.ShadowDom:return new Mb(c,l,e,n,o,s,this.nonce,h,f,this.registry,this.maxAnimationTimeout);default:a=new uf(c,l,n,d,o,s,h,f,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}r.set(n.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||i)(Et(Ob),Et(Fb),Et(ol),Et(_V),Et(et),Et(Jo),Et(Me),Et(Qh),Et(zk),Et(jk),Et(Lk,8))};static \u0275prov=le({token:i,factory:i.\u0275fac})}return i})(),df=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,n,r,a,o,s){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.tracingService=a,this.registry=o,this.maxAnimationTimeout=s}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Ab[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(UI(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(UI(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){let{elements:n}=this.registry;if(n){n.animate(e,()=>e.remove(),this.maxAnimationTimeout);return}e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new st(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;let a=Ab[r];a?t.setAttributeNS(a,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let r=Ab[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(Od.DashCase|Od.Important)?t.style.setProperty(e,n,r&Od.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Od.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n,r){if(typeof t=="string"&&(t=wa().getGlobalEventTarget(this.doc,t),!t))throw new st(5102,!1);let a=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(a=this.tracingService.wrapEventListener(t,e,a)),this.eventManager.addEventListener(t,e,a,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function UI(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Mb=class extends df{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,n,r,a,o,s,c,l,d,h){super(t,a,o,c,l,d,h),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=r.styles;f=jI(r.id,f);for(let v of f){let _=document.createElement("style");s&&_.setAttribute("nonce",s),_.textContent=v,this.shadowRoot.appendChild(_)}let m=r.getExternalStyles?.();if(m)for(let v of m){let _=Rb(v,a);s&&_.setAttribute("nonce",s),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},uf=class extends df{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(t,e,n,r,a,o,s,c,l,d,h,f){super(t,a,o,s,c,l,h),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this._animationDisabled=d;let m=n.styles;this.styles=f?jI(f,m):m,this.styleUrls=n.getExternalStyles?.(f)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},Ig=class extends uf{contentAttr;hostAttr;constructor(t,e,n,r,a,o,s,c,l,d,h,f){let m=r+"-"+n.id;super(t,e,n,a,o,s,c,l,d,h,f,m),this.contentAttr=vV(m),this.hostAttr=yV(m)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}};var Ag=class i extends tf{supportsDOMEvents=!0;static makeCurrent(){fb(new i)}onAndCancel(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=wV();return e==null?null:xV(e)}resetBaseElement(){ff=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return kb(document.cookie,t)}},ff=null;function wV(){return ff=ff||document.head.querySelector("base"),ff?ff.getAttribute("href"):null}function xV(i){return new URL(i,document.baseURI).pathname}var EV=(()=>{class i{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac})}return i})(),WI=(()=>{class i extends lf{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r,a){return e.addEventListener(n,r,a),()=>this.removeEventListener(e,n,r,a)}removeEventListener(e,n,r,a){return e.removeEventListener(n,r,a)}static \u0275fac=function(n){return new(n||i)(Et(et))};static \u0275prov=le({token:i,factory:i.\u0275fac})}return i})(),HI=["alt","control","meta","shift"],CV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TV={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},$I=(()=>{class i extends lf{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,n,r,a){let o=i.parseEventName(n),s=i.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wa().onAndCancel(e,o.domEventName,s,a))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let a=i._normalizeKey(n.pop()),o="",s=n.indexOf("code");if(s>-1&&(n.splice(s,1),o="code."),HI.forEach(l=>{let d=n.indexOf(l);d>-1&&(n.splice(d,1),o+=l+".")}),o+=a,n.length!=0||a.length===0)return null;let c={};return c.domEventName=r,c.fullKey=o,c}static matchEventFullKeyCode(e,n){let r=CV[e.key]||e.key,a="";return n.indexOf("code.")>-1&&(r=e.code,a="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),HI.forEach(o=>{if(o!==r){let s=TV[o];s(e)&&(a+=o+".")}}),a+=r,a===n)}static eventCallback(e,n,r){return a=>{i.matchEventFullKeyCode(a,e)&&r.runGuarded(()=>n(a))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||i)(Et(et))};static \u0275prov=le({token:i,factory:i.\u0275fac})}return i})();function Nb(i,t){let e=ae({rootComponent:i},SV(t));return rI(e)}function SV(i){return{appProviders:[...RV,...i?.providers??[]],platformProviders:AV}}function kV(){Ag.makeCurrent()}function IV(){return new Gs}function DV(){return Ek(document),document}var AV=[{provide:Jo,useValue:Ib},{provide:Ck,useValue:kV,multi:!0},{provide:et,useFactory:DV}];var RV=[{provide:yk,useValue:"root"},{provide:Gs,useFactory:IV},{provide:Dg,useClass:WI,multi:!0,deps:[et]},{provide:Dg,useClass:$I,multi:!0,deps:[et]},hf,Fb,Ob,{provide:Kn,useExisting:hf},{provide:cf,useClass:EV},[]];var Vb=class{};var ml=class i{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let r=e.slice(0,n),a=e.slice(n+1).trim();this.addHeaderEntry(r,a)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":let a=t.value;if(!a)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(s=>a.indexOf(s)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}addHeaderEntry(t,e){let n=t.toLowerCase();this.maybeSetNormalizedName(t,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(t,e){let n=(Array.isArray(e)?e:[e]).map(a=>a.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Bb=class{encodeKey(t){return GI(t)}encodeValue(t){return GI(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function MV(i,t){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let a=r.indexOf("="),[o,s]=a==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,a)),t.decodeValue(r.slice(a+1))],c=e.get(o)||[];c.push(s),e.set(o,c)}),e}var OV=/%(\d[a-f0-9])/gi,FV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function GI(i){return encodeURIComponent(i).replace(OV,(t,e)=>FV[e]??t)}function Rg(i){return`${i}`}var rs=class i{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Bb,t.fromString){if(t.fromObject)throw new st(2805,!1);this.map=MV(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let n=t.fromObject[e],r=Array.isArray(n)?n.map(Rg):[Rg(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(a=>{e.push({param:n,value:a,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Rg(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(Rg(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Ub=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function PV(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function qI(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function KI(i){return typeof Blob<"u"&&i instanceof Blob}function XI(i){return typeof FormData<"u"&&i instanceof FormData}function NV(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var LV="X-Request-URL",YI="text/plain",QI="application/json",yoe=`${QI}, ${YI}, */*`,Bd=class i{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,n,r){this.url=e,this.method=t.toUpperCase();let a;if(PV(this.method)||r?(this.body=n!==void 0?n:null,a=r):a=n,a){if(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,this.keepalive=!!a.keepalive,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params),a.priority&&(this.priority=a.priority),a.cache&&(this.cache=a.cache),a.credentials&&(this.credentials=a.credentials),typeof a.timeout=="number"){if(a.timeout<1||!Number.isInteger(a.timeout))throw new st(2822,"");this.timeout=a.timeout}a.mode&&(this.mode=a.mode),a.redirect&&(this.redirect=a.redirect),a.integrity&&(this.integrity=a.integrity),a.referrer&&(this.referrer=a.referrer),this.transferCache=a.transferCache}if(this.headers??=new ml,this.context??=new Ub,!this.params)this.params=new rs,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let s=e.indexOf("?"),c=s===-1?"?":s<e.length-1?"&":"";this.urlWithParams=e+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||qI(this.body)||KI(this.body)||XI(this.body)||NV(this.body)?this.body:this.body instanceof rs?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||XI(this.body)?null:KI(this.body)?this.body.type||null:qI(this.body)?null:typeof this.body=="string"?YI:this.body instanceof rs?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?QI:null}clone(t={}){let e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,a=t.keepalive??this.keepalive,o=t.priority||this.priority,s=t.cache||this.cache,c=t.mode||this.mode,l=t.redirect||this.redirect,d=t.credentials||this.credentials,h=t.referrer||this.referrer,f=t.integrity||this.integrity,m=t.transferCache??this.transferCache,v=t.timeout??this.timeout,_=t.body!==void 0?t.body:this.body,y=t.withCredentials??this.withCredentials,S=t.reportProgress??this.reportProgress,D=t.headers||this.headers,T=t.params||this.params,G=t.context??this.context;return t.setHeaders!==void 0&&(D=Object.keys(t.setHeaders).reduce((K,j)=>K.set(j,t.setHeaders[j]),D)),t.setParams&&(T=Object.keys(t.setParams).reduce((K,j)=>K.set(j,t.setParams[j]),T)),new i(e,n,_,{params:T,headers:D,context:G,reportProgress:S,responseType:r,withCredentials:y,transferCache:m,keepalive:a,cache:s,priority:o,timeout:v,mode:c,redirect:l,credentials:d,referrer:h,integrity:f})}},jb=(function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i})(jb||{}),zb=class{headers;status;statusText;url;ok;type;redirected;constructor(t,e=200,n="OK"){this.headers=t.headers||new ml,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}};var Mg=class i extends zb{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=jb.Response;clone(t={}){return new i({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}};function Lb(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,credentials:i.credentials,transferCache:i.transferCache,timeout:i.timeout,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,integrity:i.integrity,referrer:i.referrer}}var Hb=(()=>{class i{handler;constructor(e){this.handler=e}request(e,n,r={}){let a;if(e instanceof Bd)a=e;else{let c;r.headers instanceof ml?c=r.headers:c=new ml(r.headers);let l;r.params&&(r.params instanceof rs?l=r.params:l=new rs({fromObject:r.params})),a=new Bd(e,n,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,integrity:r.integrity,timeout:r.timeout})}let o=He(a).pipe(Ws(c=>this.handler.handle(c)));if(e instanceof Bd||r.observe==="events")return o;let s=o.pipe(Dt(c=>c instanceof Mg));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return s.pipe(De(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new st(2806,!1);return c.body}));case"blob":return s.pipe(De(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new st(2807,!1);return c.body}));case"text":return s.pipe(De(c=>{if(c.body!==null&&typeof c.body!="string")throw new st(2808,!1);return c.body}));case"json":default:return s.pipe(De(c=>c.body))}case"response":return s;default:throw new st(2809,!1)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new rs().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,Lb(r,n))}post(e,n,r={}){return this.request("POST",e,Lb(r,n))}put(e,n,r={}){return this.request("PUT",e,Lb(r,n))}static \u0275fac=function(n){return new(n||i)(Et(Vb))};static \u0275prov=le({token:i,factory:i.\u0275fac})}return i})();var boe=RegExp(`^${LV}:`,"m");var ZI=(()=>{class i{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||i)(Et(et))};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Wb=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=Et(zV),r},providedIn:"root"})}return i})(),zV=(()=>{class i extends Wb{_doc;constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case Zr.NONE:return n;case Zr.HTML:return Md(n,"HTML")?Rd(n):Rk(this._doc,String(n)).toString();case Zr.STYLE:return Md(n,"Style")?Rd(n):n;case Zr.SCRIPT:if(Md(n,"Script"))return Rd(n);throw new st(5200,!1);case Zr.URL:return Md(n,"URL")?Rd(n):Ak(String(n));case Zr.RESOURCE_URL:if(Md(n,"ResourceURL"))return Rd(n);throw new st(5201,!1);default:throw new st(5202,!1)}}bypassSecurityTrustHtml(e){return Tk(e)}bypassSecurityTrustStyle(e){return Sk(e)}bypassSecurityTrustScript(e){return kk(e)}bypassSecurityTrustUrl(e){return Ik(e)}bypassSecurityTrustResourceUrl(e){return Dk(e)}static \u0275fac=function(n){return new(n||i)(Et(et))};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var At="primary",If=Symbol("RouteTitle"),Xb=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function _l(i){return new Xb(i)}function sD(i,t,e){let n=e.path.split("/");if(n.length>i.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<i.length))return null;let r={};for(let a=0;a<n.length;a++){let o=n[a],s=i[a];if(o[0]===":")r[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function jV(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!yo(i[e],t[e]))return!1;return!0}function yo(i,t){let e=i?Yb(i):void 0,n=t?Yb(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let a=0;a<e.length;a++)if(r=e[a],!cD(i[r],t[r]))return!1;return!0}function Yb(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function cD(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;let e=[...i].sort(),n=[...t].sort();return e.every((r,a)=>n[a]===r)}else return i===t}function lD(i){return i.length>0?i[i.length-1]:null}function ss(i){return Gh(i)?i:Fd(i)?qn(Promise.resolve(i)):He(i)}var HV={exact:uD,subset:hD},dD={exact:WV,subset:$V,ignored:()=>!0};function eD(i,t,e){return HV[e.paths](i.root,t.root,e.matrixParams)&&dD[e.queryParams](i.queryParams,t.queryParams)&&!(e.fragment==="exact"&&i.fragment!==t.fragment)}function WV(i,t){return yo(i,t)}function uD(i,t,e){if(!pl(i.segments,t.segments)||!Pg(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!i.children[n]||!uD(i.children[n],t.children[n],e))return!1;return!0}function $V(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>cD(i[e],t[e]))}function hD(i,t,e){return fD(i,t,t.segments,e)}function fD(i,t,e,n){if(i.segments.length>e.length){let r=i.segments.slice(0,e.length);return!(!pl(r,e)||t.hasChildren()||!Pg(r,e,n))}else if(i.segments.length===e.length){if(!pl(i.segments,e)||!Pg(i.segments,e,n))return!1;for(let r in t.children)if(!i.children[r]||!hD(i.children[r],t.children[r],n))return!1;return!0}else{let r=e.slice(0,i.segments.length),a=e.slice(i.segments.length);return!pl(i.segments,r)||!Pg(i.segments,r,n)||!i.children[At]?!1:fD(i.children[At],t,a,n)}}function Pg(i,t,e){return t.every((n,r)=>dD[e](i[r].parameters,n.parameters))}var wo=class{root;queryParams;fragment;_queryParamMap;constructor(t=new si([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=_l(this.queryParams),this._queryParamMap}toString(){return KV.serialize(this)}},si=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ng(this)}},Qs=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=_l(this.parameters),this._parameterMap}toString(){return pD(this)}};function GV(i,t){return pl(i,t)&&i.every((e,n)=>yo(e.parameters,t[n].parameters))}function pl(i,t){return i.length!==t.length?!1:i.every((e,n)=>e.path===t[n].path)}function qV(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===At&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==At&&(e=e.concat(t(r,n)))}),e}var Df=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:()=>new vl,providedIn:"root"})}return i})(),vl=class{parse(t){let e=new Zb(t);return new wo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${mf(t.root,!0)}`,n=QV(t.queryParams),r=typeof t.fragment=="string"?`#${XV(t.fragment)}`:"";return`${e}${n}${r}`}},KV=new vl;function Ng(i){return i.segments.map(t=>pD(t)).join("/")}function mf(i,t){if(!i.hasChildren())return Ng(i);if(t){let e=i.children[At]?mf(i.children[At],!1):"",n=[];return Object.entries(i.children).forEach(([r,a])=>{r!==At&&n.push(`${r}:${mf(a,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=qV(i,(n,r)=>r===At?[mf(i.children[At],!1)]:[`${r}:${mf(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[At]!=null?`${Ng(i)}/${e[0]}`:`${Ng(i)}/(${e.join("//")})`}}function mD(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Og(i){return mD(i).replace(/%3B/gi,";")}function XV(i){return encodeURI(i)}function Qb(i){return mD(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lg(i){return decodeURIComponent(i)}function tD(i){return Lg(i.replace(/\+/g,"%20"))}function pD(i){return`${Qb(i.path)}${YV(i.parameters)}`}function YV(i){return Object.entries(i).map(([t,e])=>`;${Qb(t)}=${Qb(e)}`).join("")}function QV(i){let t=Object.entries(i).map(([e,n])=>Array.isArray(n)?n.map(r=>`${Og(e)}=${Og(r)}`).join("&"):`${Og(e)}=${Og(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var ZV=/^[^\/()?;#]+/;function $b(i){let t=i.match(ZV);return t?t[0]:""}var JV=/^[^\/()?;=#]+/;function eB(i){let t=i.match(JV);return t?t[0]:""}var tB=/^[^=?&#]+/;function iB(i){let t=i.match(tB);return t?t[0]:""}var nB=/^[^&#]+/;function rB(i){let t=i.match(nB);return t?t[0]:""}var Zb=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new si([],{}):new si([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[At]=new si(t,e)),n}parseSegment(){let t=$b(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new st(4009,!1);return this.capture(t),new Qs(Lg(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=eB(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=$b(this.remaining);r&&(n=r,this.capture(n))}t[Lg(e)]=Lg(n)}parseQueryParam(t){let e=iB(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let o=rB(this.remaining);o&&(n=o,this.capture(n))}let r=tD(e),a=tD(n);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(a)}else t[r]=a}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=$b(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new st(4010,!1);let a;n.indexOf(":")>-1?(a=n.slice(0,n.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=At);let o=this.parseChildren();e[a]=Object.keys(o).length===1?o[At]:new si([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new st(4011,!1)}};function gD(i){return i.segments.length>0?new si([],{[At]:i}):i}function _D(i){let t={};for(let[n,r]of Object.entries(i.children)){let a=_D(r);if(n===At&&a.segments.length===0&&a.hasChildren())for(let[o,s]of Object.entries(a.children))t[o]=s;else(a.segments.length>0||a.hasChildren())&&(t[n]=a)}let e=new si(i.segments,t);return aB(e)}function aB(i){if(i.numberOfChildren===1&&i.children[At]){let t=i.children[At];return new si(i.segments.concat(t.segments),t.children)}return i}function Zs(i){return i instanceof wo}function vD(i,t,e=null,n=null){let r=yD(i);return bD(r,t,e,n)}function yD(i){let t;function e(a){let o={};for(let c of a.children){let l=e(c);o[c.outlet]=l}let s=new si(a.url,o);return a===i&&(t=s),s}let n=e(i.root),r=gD(n);return t??r}function bD(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(t.length===0)return Gb(r,r,r,e,n);let a=oB(t);if(a.toRoot())return Gb(r,r,new si([],{}),e,n);let o=sB(a,r,i),s=o.processChildren?gf(o.segmentGroup,o.index,a.commands):xD(o.segmentGroup,o.index,a.commands);return Gb(r,o.segmentGroup,s,e,n)}function Vg(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function yf(i){return typeof i=="object"&&i!=null&&i.outlets}function Gb(i,t,e,n,r){let a={};n&&Object.entries(n).forEach(([c,l])=>{a[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let o;i===t?o=e:o=wD(i,t,e);let s=gD(_D(o));return new wo(s,a,r)}function wD(i,t,e){let n={};return Object.entries(i.children).forEach(([r,a])=>{a===t?n[r]=e:n[r]=wD(a,t,e)}),new si(i.segments,n)}var Bg=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Vg(n[0]))throw new st(4003,!1);let r=n.find(yf);if(r&&r!==lD(n))throw new st(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oB(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new Bg(!0,0,i);let t=0,e=!1,n=i.reduce((r,a,o)=>{if(typeof a=="object"&&a!=null){if(a.outlets){let s={};return Object.entries(a.outlets).forEach(([c,l])=>{s[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:s}]}if(a.segmentPath)return[...r,a.segmentPath]}return typeof a!="string"?[...r,a]:o===0?(a.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?e=!0:s===".."?t++:s!=""&&r.push(s))}),r):[...r,a]},[]);return new Bg(e,t,n)}var jd=class{segmentGroup;processChildren;index;constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function sB(i,t,e){if(i.isAbsolute)return new jd(t,!0,0);if(!e)return new jd(t,!1,NaN);if(e.parent===null)return new jd(e,!0,0);let n=Vg(i.commands[0])?0:1,r=e.segments.length-1+n;return cB(e,r,i.numberOfDoubleDots)}function cB(i,t,e){let n=i,r=t,a=e;for(;a>r;){if(a-=r,n=n.parent,!n)throw new st(4005,!1);r=n.segments.length}return new jd(n,!1,r-a)}function lB(i){return yf(i[0])?i[0].outlets:{[At]:i}}function xD(i,t,e){if(i??=new si([],{}),i.segments.length===0&&i.hasChildren())return gf(i,t,e);let n=dB(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let a=new si(i.segments.slice(0,n.pathIndex),{});return a.children[At]=new si(i.segments.slice(n.pathIndex),i.children),gf(a,0,r)}else return n.match&&r.length===0?new si(i.segments,{}):n.match&&!i.hasChildren()?Jb(i,t,e):n.match?gf(i,0,r):Jb(i,t,e)}function gf(i,t,e){if(e.length===0)return new si(i.segments,{});{let n=lB(e),r={};if(Object.keys(n).some(a=>a!==At)&&i.children[At]&&i.numberOfChildren===1&&i.children[At].segments.length===0){let a=gf(i.children[At],t,e);return new si(i.segments,a.children)}return Object.entries(n).forEach(([a,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[a]=xD(i.children[a],t,o))}),Object.entries(i.children).forEach(([a,o])=>{n[a]===void 0&&(r[a]=o)}),new si(i.segments,r)}}function dB(i,t,e){let n=0,r=t,a={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return a;let o=i.segments[r],s=e[n];if(yf(s))break;let c=`${s}`,l=n<e.length-1?e[n+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!nD(c,l,o))return a;n+=2}else{if(!nD(c,{},o))return a;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function Jb(i,t,e){let n=i.segments.slice(0,t),r=0;for(;r<e.length;){let a=e[r];if(yf(a)){let c=uB(a.outlets);return new si(n,c)}if(r===0&&Vg(e[0])){let c=i.segments[t];n.push(new Qs(c.path,iD(e[0]))),r++;continue}let o=yf(a)?a.outlets[At]:`${a}`,s=r<e.length-1?e[r+1]:null;o&&s&&Vg(s)?(n.push(new Qs(o,iD(s))),r+=2):(n.push(new Qs(o,{})),r++)}return new si(n,{})}function uB(i){let t={};return Object.entries(i).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=Jb(new si([],{}),0,n))}),t}function iD(i){let t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function nD(i,t,e){return i==e.path&&yo(t,e.parameters)}var _f="imperative",Nn=(function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i})(Nn||{}),na=class{id;url;constructor(t,e){this.id=t,this.url=e}},yl=class extends na{type=Nn.NavigationStart;navigationTrigger;restoredState;constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ja=class extends na{urlAfterRedirects;type=Nn.NavigationEnd;constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},kr=(function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i[i.Aborted=4]="Aborted",i})(kr||{}),bf=(function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i})(bf||{}),bo=class extends na{reason;code;type=Nn.NavigationCancel;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},as=class extends na{reason;code;type=Nn.NavigationSkipped;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}},Wd=class extends na{error;target;type=Nn.NavigationError;constructor(t,e,n,r){super(t,e),this.error=n,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wf=class extends na{urlAfterRedirects;state;type=Nn.RoutesRecognized;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ug=class extends na{urlAfterRedirects;state;type=Nn.GuardsCheckStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zg=class extends na{urlAfterRedirects;state;shouldActivate;type=Nn.GuardsCheckEnd;constructor(t,e,n,r,a){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},jg=class extends na{urlAfterRedirects;state;type=Nn.ResolveStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hg=class extends na{urlAfterRedirects;state;type=Nn.ResolveEnd;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wg=class{route;type=Nn.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$g=class{route;type=Nn.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Gg=class{snapshot;type=Nn.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qg=class{snapshot;type=Nn.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kg=class{snapshot;type=Nn.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xg=class{snapshot;type=Nn.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var xf=class{},$d=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function hB(i){return!(i instanceof xf)&&!(i instanceof $d)}function fB(i,t){return i.providers&&!i._injector&&(i._injector=cb(i.providers,t,`Route: ${i.path}`)),i._injector??t}function za(i){return i.outlet||At}function mB(i,t){let e=i.filter(n=>za(n)===t);return e.push(...i.filter(n=>za(n)!==t)),e}function Kd(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Yg=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Kd(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Xd(this.rootInjector)}},Xd=(()=>{class i{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Yg(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||i)(Et(Oi))};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Qg=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=ew(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=ew(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=tw(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return tw(t,this._root).map(e=>e.value)}};function ew(i,t){if(i===t.value)return t;for(let e of t.children){let n=ew(i,e);if(n)return n}return null}function tw(i,t){if(i===t.value)return[t];for(let e of t.children){let n=tw(i,e);if(n.length)return n.unshift(t),n}return[]}var ia=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function zd(i){let t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}var Ef=class extends Qg{snapshot;constructor(t,e){super(t),this.snapshot=e,lw(this,t)}toString(){return this.snapshot.toString()}};function ED(i){let t=pB(i),e=new Ji([new Qs("",{})]),n=new Ji({}),r=new Ji({}),a=new Ji({}),o=new Ji(""),s=new os(e,n,a,o,r,At,i,t.root);return s.snapshot=t.root,new Ef(new ia(s,[]),t)}function pB(i){let t={},e={},n={},a=new gl([],t,n,"",e,At,i,null,{});return new Cf("",new ia(a,[]))}var os=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,n,r,a,o,s,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=a,this.outlet=o,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(De(l=>l[If]))??He(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(De(t=>_l(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(De(t=>_l(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Zg(i,t,e="emptyOnly"){let n,{routeConfig:r}=i;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:ae(ae({},t.params),i.params),data:ae(ae({},t.data),i.data),resolve:ae(ae(ae(ae({},i.data),t.data),r?.data),i._resolvedData)}:n={params:ae({},i.params),data:ae({},i.data),resolve:ae(ae({},i.data),i._resolvedData??{})},r&&TD(r)&&(n.resolve[If]=r.title),n}var gl=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[If]}constructor(t,e,n,r,a,o,s,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=a,this.outlet=o,this.component=s,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_l(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_l(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Cf=class extends Qg{url;constructor(t,e){super(e),this.url=t,lw(this,e)}toString(){return CD(this._root)}};function lw(i,t){t.value._routerState=i,t.children.forEach(e=>lw(i,e))}function CD(i){let t=i.children.length>0?` { ${i.children.map(CD).join(", ")} } `:"";return`${i.value}${t}`}function qb(i){if(i.snapshot){let t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,yo(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),yo(t.params,e.params)||i.paramsSubject.next(e.params),jV(t.url,e.url)||i.urlSubject.next(e.url),yo(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function iw(i,t){let e=yo(i.params,t.params)&&GV(i.url,t.url),n=!i.parent!=!t.parent;return e&&!n&&(!i.parent||iw(i.parent,t.parent))}function TD(i){return typeof i.title=="string"||i.title===null}var SD=new se(""),Af=(()=>{class i{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=At;activateEvents=new Je;deactivateEvents=new Je;attachEvents=new Je;detachEvents=new Je;routerOutletData=mn(void 0);parentContexts=g(Xd);location=g($i);changeDetector=g(bt);inputBinder=g(i0,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new st(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new st(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new st(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new st(4013,!1);this._activatedRoute=e;let r=this.location,o=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new nw(e,s,r.injector,this.routerOutletData);this.activated=r.createComponent(o,{index:r.length,injector:c,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ci]})}return i})(),nw=class{route;childContexts;parent;outletData;constructor(t,e,n,r){this.route=t,this.childContexts=e,this.parent=n,this.outletData=r}get(t,e){return t===os?this.route:t===Xd?this.childContexts:t===SD?this.outletData:this.parent.get(t,e)}},i0=new se("");var dw=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,r){n&1&&Ne(0,"router-outlet")},dependencies:[Af],encapsulation:2})}return i})();function uw(i){let t=i.children&&i.children.map(uw),e=t?kt(ae({},i),{children:t}):ae({},i);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==At&&(e.component=dw),e}function gB(i,t,e){let n=Tf(i,t._root,e?e._root:void 0);return new Ef(n,t)}function Tf(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let r=_B(i,t,e);return new ia(n,r)}else{if(i.shouldAttach(t.value)){let a=i.retrieve(t.value);if(a!==null){let o=a.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(s=>Tf(i,s)),o}}let n=vB(t.value),r=t.children.map(a=>Tf(i,a));return new ia(n,r)}}function _B(i,t,e){return t.children.map(n=>{for(let r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return Tf(i,n,r);return Tf(i,n)})}function vB(i){return new os(new Ji(i.url),new Ji(i.params),new Ji(i.queryParams),new Ji(i.fragment),new Ji(i.data),i.outlet,i.component,i)}var Gd=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},kD="ngNavigationCancelingError";function Jg(i,t){let{redirectTo:e,navigationBehaviorOptions:n}=Zs(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=ID(!1,kr.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function ID(i,t){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[kD]=!0,e.cancellationCode=t,e}function yB(i){return DD(i)&&Zs(i.url)}function DD(i){return!!i&&i[kD]}var bB=(i,t,e,n)=>De(r=>(new rw(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)),rw=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,n,r,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=a}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),qb(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let r=zd(e);t.children.forEach(a=>{let o=a.value.outlet;this.deactivateRoutes(a,r[o],n),delete r[o]}),Object.values(r).forEach(a=>{this.deactivateRouteAndItsChildren(a,n)})}deactivateRoutes(t,e,n){let r=t.value,a=e?e.value:null;if(r===a)if(r.component){let o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else a&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,a=zd(t);for(let o of Object.values(a))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){let o=n.outlet.detach(),s=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,a=zd(t);for(let o of Object.values(a))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let r=zd(e);t.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],n),this.forwardEvent(new Xg(a.value.snapshot))}),t.children.length&&this.forwardEvent(new qg(t.value.snapshot))}activateRoutes(t,e,n){let r=t.value,a=e?e.value:null;if(qb(r),r===a)if(r.component){let o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){let o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),qb(s.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)}},e0=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Hd=class{component;route;constructor(t,e){this.component=t,this.route=e}};function wB(i,t,e){let n=i._root,r=t?t._root:null;return pf(n,r,e,[n.value])}function xB(i){let t=i.routeConfig?i.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:i,guards:t}}function Yd(i,t){let e=Symbol(),n=t.get(i,e);return n===e?typeof i=="function"&&!vk(i)?i:t.get(i):n}function pf(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let a=zd(t);return i.children.forEach(o=>{EB(o,a[o.value.outlet],e,n.concat([o.value]),r),delete a[o.value.outlet]}),Object.entries(a).forEach(([o,s])=>vf(s,e.getContext(o),r)),r}function EB(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let a=i.value,o=t?t.value:null,s=e?e.getContext(i.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){let c=CB(o,a,a.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new e0(n)):(a.data=o.data,a._resolvedData=o._resolvedData),a.component?pf(i,t,s?s.children:null,n,r):pf(i,t,e,n,r),c&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new Hd(s.outlet.component,o))}else o&&vf(t,s,r),r.canActivateChecks.push(new e0(n)),a.component?pf(i,null,s?s.children:null,n,r):pf(i,null,e,n,r);return r}function CB(i,t,e){if(typeof e=="function")return e(i,t);switch(e){case"pathParamsChange":return!pl(i.url,t.url);case"pathParamsOrQueryParamsChange":return!pl(i.url,t.url)||!yo(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iw(i,t)||!yo(i.queryParams,t.queryParams);case"paramsChange":default:return!iw(i,t)}}function vf(i,t,e){let n=zd(i),r=i.value;Object.entries(n).forEach(([a,o])=>{r.component?t?vf(o,t.children.getContext(a),e):vf(o,null,e):vf(o,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Hd(t.outlet.component,r)):e.canDeactivateChecks.push(new Hd(null,r)):e.canDeactivateChecks.push(new Hd(null,r))}function Rf(i){return typeof i=="function"}function TB(i){return typeof i=="boolean"}function SB(i){return i&&Rf(i.canLoad)}function kB(i){return i&&Rf(i.canActivate)}function IB(i){return i&&Rf(i.canActivateChild)}function DB(i){return i&&Rf(i.canDeactivate)}function AB(i){return i&&Rf(i.canMatch)}function AD(i){return i instanceof hk||i?.name==="EmptyError"}var Fg=Symbol("INITIAL_VALUE");function qd(){return ii(i=>Br(i.map(t=>t.pipe(fi(1),Si(Fg)))).pipe(De(t=>{for(let e of t)if(e!==!0){if(e===Fg)return Fg;if(e===!1||RB(e))return e}return!0}),Dt(t=>t!==Fg),fi(1)))}function RB(i){return Zs(i)||i instanceof Gd}function MB(i,t){return Qr(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:o}}=e;return o.length===0&&a.length===0?He(kt(ae({},e),{guardsResult:!0})):OB(o,n,r,i).pipe(Qr(s=>s&&TB(s)?FB(n,a,i,t):He(s)),De(s=>kt(ae({},e),{guardsResult:s})))})}function OB(i,t,e,n){return qn(i).pipe(Qr(r=>BB(r.component,r.route,e,t,n)),$s(r=>r!==!0,!0))}function FB(i,t,e,n){return qn(t).pipe(Ws(r=>og(NB(r.route.parent,n),PB(r.route,n),VB(i,r.path,e),LB(i,r.route,e))),$s(r=>r!==!0,!0))}function PB(i,t){return i!==null&&t&&t(new Kg(i)),He(!0)}function NB(i,t){return i!==null&&t&&t(new Gg(i)),He(!0)}function LB(i,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return He(!0);let r=n.map(a=>Ur(()=>{let o=Kd(t)??e,s=Yd(a,o),c=kB(s)?s.canActivate(t,i):Bi(o,()=>s(t,i));return ss(c).pipe($s())}));return He(r).pipe(qd())}function VB(i,t,e){let n=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(o=>xB(o)).filter(o=>o!==null).map(o=>Ur(()=>{let s=o.guards.map(c=>{let l=Kd(o.node)??e,d=Yd(c,l),h=IB(d)?d.canActivateChild(n,i):Bi(l,()=>d(n,i));return ss(h).pipe($s())});return He(s).pipe(qd())}));return He(a).pipe(qd())}function BB(i,t,e,n,r){let a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||a.length===0)return He(!0);let o=a.map(s=>{let c=Kd(t)??r,l=Yd(s,c),d=DB(l)?l.canDeactivate(i,t,e,n):Bi(c,()=>l(i,t,e,n));return ss(d).pipe($s())});return He(o).pipe(qd())}function UB(i,t,e,n){let r=t.canLoad;if(r===void 0||r.length===0)return He(!0);let a=r.map(o=>{let s=Yd(o,i),c=SB(s)?s.canLoad(t,e):Bi(i,()=>s(t,e));return ss(c)});return He(a).pipe(qd(),RD(n))}function RD(i){return qy(vi(t=>{if(typeof t!="boolean")throw Jg(i,t)}),De(t=>t===!0))}function zB(i,t,e,n){let r=t.canMatch;if(!r||r.length===0)return He(!0);let a=r.map(o=>{let s=Yd(o,i),c=AB(s)?s.canMatch(t,e):Bi(i,()=>s(t,e));return ss(c)});return He(a).pipe(qd(),RD(n))}var Sf=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},kf=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Ud(i){return nl(new Sf(i))}function jB(i){return nl(new st(4e3,!1))}function HB(i){return nl(ID(!1,kr.GuardRejected))}var aw=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return He(n);if(r.numberOfChildren>1||!r.children[At])return jB(`${t.redirectTo}`);r=r.children[At]}}applyRedirectCommands(t,e,n,r,a){return WB(e,r,a).pipe(De(o=>{if(o instanceof wo)throw new kf(o);let s=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),t,n);if(o[0]==="/")throw new kf(s);return s}))}applyRedirectCreateUrlTree(t,e,n,r){let a=this.createSegmentGroup(t,e.root,n,r);return new wo(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([r,a])=>{if(typeof a=="string"&&a[0]===":"){let s=a.substring(1);n[r]=e[s]}else n[r]=a}),n}createSegmentGroup(t,e,n,r){let a=this.createSegments(t,e.segments,n,r),o={};return Object.entries(e.children).forEach(([s,c])=>{o[s]=this.createSegmentGroup(t,c,n,r)}),new si(a,o)}createSegments(t,e,n,r){return e.map(a=>a.path[0]===":"?this.findPosParam(t,a,r):this.findOrReturn(a,n))}findPosParam(t,e,n){let r=n[e.path.substring(1)];if(!r)throw new st(4001,!1);return r}findOrReturn(t,e){let n=0;for(let r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}};function WB(i,t,e){if(typeof i=="string")return He(i);let n=i,{queryParams:r,fragment:a,routeConfig:o,url:s,outlet:c,params:l,data:d,title:h}=t;return ss(Bi(e,()=>n({params:l,data:d,queryParams:r,fragment:a,routeConfig:o,url:s,outlet:c,title:h})))}var ow={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $B(i,t,e,n,r){let a=MD(i,t,e);return a.matched?(n=fB(t,n),zB(n,t,e,r).pipe(De(o=>o===!0?a:ae({},ow)))):He(a)}function MD(i,t,e){if(t.path==="**")return GB(e);if(t.path==="")return t.pathMatch==="full"&&(i.hasChildren()||e.length>0)?ae({},ow):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||sD)(e,i,t);if(!r)return ae({},ow);let a={};Object.entries(r.posParams??{}).forEach(([s,c])=>{a[s]=c.path});let o=r.consumed.length>0?ae(ae({},a),r.consumed[r.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function GB(i){return{matched:!0,parameters:i.length>0?lD(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function rD(i,t,e,n){return e.length>0&&XB(i,e,n)?{segmentGroup:new si(t,KB(n,new si(e,i.children))),slicedSegments:[]}:e.length===0&&YB(i,e,n)?{segmentGroup:new si(i.segments,qB(i,e,n,i.children)),slicedSegments:e}:{segmentGroup:new si(i.segments,i.children),slicedSegments:e}}function qB(i,t,e,n){let r={};for(let a of e)if(n0(i,t,a)&&!n[za(a)]){let o=new si([],{});r[za(a)]=o}return ae(ae({},n),r)}function KB(i,t){let e={};e[At]=t;for(let n of i)if(n.path===""&&za(n)!==At){let r=new si([],{});e[za(n)]=r}return e}function XB(i,t,e){return e.some(n=>n0(i,t,n)&&za(n)!==At)}function YB(i,t,e){return e.some(n=>n0(i,t,n))}function n0(i,t,e){return(i.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function QB(i,t,e){return t.length===0&&!i.children[e]}var sw=class{};function ZB(i,t,e,n,r,a,o="emptyOnly"){return new cw(i,t,e,n,r,o,a).recognize()}var JB=31,cw=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,n,r,a,o,s){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=a,this.paramsInheritanceStrategy=o,this.urlSerializer=s,this.applyRedirects=new aw(this.urlSerializer,this.urlTree)}noMatchError(t){return new st(4002,`'${t.segmentGroup}'`)}recognize(){let t=rD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(De(({children:e,rootSnapshot:n})=>{let r=new ia(n,e),a=new Cf("",r),o=vD(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(o),{state:a,tree:o}}))}match(t){let e=new gl([],Object.freeze({}),Object.freeze(ae({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),At,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,At,e).pipe(De(n=>({children:n,rootSnapshot:e})),zr(n=>{if(n instanceof kf)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Sf?this.noMatchError(n):n}))}processSegmentGroup(t,e,n,r,a){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,e,n,a):this.processSegment(t,e,n,n.segments,r,!0,a).pipe(De(o=>o instanceof ia?[o]:[]))}processChildren(t,e,n,r){let a=[];for(let o of Object.keys(n.children))o==="primary"?a.unshift(o):a.push(o);return qn(a).pipe(Ws(o=>{let s=n.children[o],c=mB(e,o);return this.processSegmentGroup(t,c,s,o,r)}),ib((o,s)=>(o.push(...s),o)),Jy(null),pk(),Qr(o=>{if(o===null)return Ud(n);let s=OD(o);return e6(s),He(s)}))}processSegment(t,e,n,r,a,o,s){return qn(e).pipe(Ws(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,n,r,a,o,s).pipe(zr(l=>{if(l instanceof Sf)return He(null);throw l}))),$s(c=>!!c),zr(c=>{if(AD(c))return QB(n,r,a)?He(new sw):Ud(n);throw c}))}processSegmentAgainstRoute(t,e,n,r,a,o,s,c){return za(n)!==o&&(o===At||!n0(r,a,n))?Ud(r):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,a,o,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,a,o,c):Ud(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,a,o,s){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:h,remainingSegments:f}=MD(e,r,a);if(!c)return Ud(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>JB&&(this.allowRedirects=!1));let m=new gl(a,l,Object.freeze(ae({},this.urlTree.queryParams)),this.urlTree.fragment,aD(r),za(r),r.component??r._loadedComponent??null,r,oD(r)),v=Zg(m,s,this.paramsInheritanceStrategy);return m.params=Object.freeze(v.params),m.data=Object.freeze(v.data),this.applyRedirects.applyRedirectCommands(d,r.redirectTo,h,m,t).pipe(ii(y=>this.applyRedirects.lineralizeSegments(r,y)),Qr(y=>this.processSegment(t,n,e,y.concat(f),o,!1,s)))}matchSegmentAgainstRoute(t,e,n,r,a,o){let s=$B(e,n,r,t,this.urlSerializer);return n.path==="**"&&(e.children={}),s.pipe(ii(c=>c.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(ii(({routes:l})=>{let d=n._loadedInjector??t,{parameters:h,consumedSegments:f,remainingSegments:m}=c,v=new gl(f,h,Object.freeze(ae({},this.urlTree.queryParams)),this.urlTree.fragment,aD(n),za(n),n.component??n._loadedComponent??null,n,oD(n)),_=Zg(v,o,this.paramsInheritanceStrategy);v.params=Object.freeze(_.params),v.data=Object.freeze(_.data);let{segmentGroup:y,slicedSegments:S}=rD(e,f,m,l);if(S.length===0&&y.hasChildren())return this.processChildren(d,l,y,v).pipe(De(T=>new ia(v,T)));if(l.length===0&&S.length===0)return He(new ia(v,[]));let D=za(n)===a;return this.processSegment(d,l,y,S,D?At:a,!0,v).pipe(De(T=>new ia(v,T instanceof ia?[T]:[])))}))):Ud(e)))}getChildConfig(t,e,n){return e.children?He({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?He({routes:e._loadedRoutes,injector:e._loadedInjector}):UB(t,e,n,this.urlSerializer).pipe(Qr(r=>r?this.configLoader.loadChildren(t,e).pipe(vi(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):HB(e))):He({routes:[],injector:t})}};function e6(i){i.sort((t,e)=>t.value.outlet===At?-1:e.value.outlet===At?1:t.value.outlet.localeCompare(e.value.outlet))}function t6(i){let t=i.value.routeConfig;return t&&t.path===""}function OD(i){let t=[],e=new Set;for(let n of i){if(!t6(n)){t.push(n);continue}let r=t.find(a=>n.value.routeConfig===a.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):t.push(n)}for(let n of e){let r=OD(n.children);t.push(new ia(n.value,r))}return t.filter(n=>!e.has(n))}function aD(i){return i.data||{}}function oD(i){return i.resolve||{}}function i6(i,t,e,n,r,a){return Qr(o=>ZB(i,t,e,n,o.extractedUrl,r,a).pipe(De(({state:s,tree:c})=>kt(ae({},o),{targetSnapshot:s,urlAfterRedirects:c}))))}function n6(i,t){return Qr(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return He(e);let a=new Set(r.map(c=>c.route)),o=new Set;for(let c of a)if(!o.has(c))for(let l of FD(c))o.add(l);let s=0;return qn(o).pipe(Ws(c=>a.has(c)?r6(c,n,i,t):(c.data=Zg(c,c.parent,i).resolve,He(void 0))),vi(()=>s++),tb(1),Qr(c=>s===o.size?He(e):La))})}function FD(i){let t=i.children.map(e=>FD(e)).flat();return[i,...t]}function r6(i,t,e,n){let r=i.routeConfig,a=i._resolve;return r?.title!==void 0&&!TD(r)&&(a[If]=r.title),Ur(()=>(i.data=Zg(i,i.parent,e).resolve,a6(a,i,t,n).pipe(De(o=>(i._resolvedData=o,i.data=ae(ae({},i.data),o),null)))))}function a6(i,t,e,n){let r=Yb(i);if(r.length===0)return He({});let a={};return qn(r).pipe(Qr(o=>o6(i[o],t,e,n).pipe($s(),vi(s=>{if(s instanceof Gd)throw Jg(new vl,s);a[o]=s}))),tb(1),De(()=>a),zr(o=>AD(o)?La:nl(o)))}function o6(i,t,e,n){let r=Kd(t)??n,a=Yd(i,r),o=a.resolve?a.resolve(t,e):Bi(r,()=>a(t,e));return ss(o)}function Kb(i){return ii(t=>{let e=i(t);return e?qn(e).pipe(De(()=>t)):He(t)})}var hw=(()=>{class i{buildTitle(e){let n,r=e.root;for(;r!==void 0;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(a=>a.outlet===At);return n}getResolvedTitleForRoute(e){return e.data[If]}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:()=>g(PD),providedIn:"root"})}return i})(),PD=(()=>{class i extends hw{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||i)(Et(ZI))};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Qd=new se("",{providedIn:"root",factory:()=>({})}),Mf=new se(""),ND=(()=>{class i{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=g(Zk);loadComponent(e,n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return He(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ss(Bi(e,()=>n.loadComponent())).pipe(De(VD),ii(BD),vi(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),rl(()=>{this.componentLoaders.delete(n)})),a=new $h(r,()=>new ge).pipe(Ky());return this.componentLoaders.set(n,a),a}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return He({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let a=LD(n,this.compiler,e,this.onLoadEndListener).pipe(rl(()=>{this.childrenLoaders.delete(n)})),o=new $h(a,()=>new ge).pipe(Ky());return this.childrenLoaders.set(n,o),o}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function LD(i,t,e,n){return ss(Bi(e,()=>i.loadChildren())).pipe(De(VD),ii(BD),Qr(r=>r instanceof Fk||Array.isArray(r)?He(r):qn(t.compileModuleAsync(r))),De(r=>{n&&n(i);let a,o,s=!1;return Array.isArray(r)?(o=r,s=!0):(a=r.create(e).injector,o=a.get(Mf,[],{optional:!0,self:!0}).flat()),{routes:o.map(uw),injector:a}}))}function s6(i){return i&&typeof i=="object"&&"default"in i}function VD(i){return s6(i)?i.default:i}function BD(i){return He(i)}var r0=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:()=>g(c6),providedIn:"root"})}return i})(),c6=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),UD=new se("");var zD=new se(""),jD=(()=>{class i{currentNavigation=it(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ge;transitionAbortWithErrorSubject=new ge;configLoader=g(ND);environmentInjector=g(Oi);destroyRef=g(Qo);urlSerializer=g(Df);rootContexts=g(Xd);location=g(Xs);inputBindingEnabled=g(i0,{optional:!0})!==null;titleStrategy=g(hw);options=g(Qd,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=g(r0);createViewTransition=g(UD,{optional:!0});navigationErrorHandler=g(zD,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>He(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Wg(r)),n=r=>this.events.next(new $g(r));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;mi(()=>{this.transitions?.next(kt(ae({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:n}))})}setupNavigations(e){return this.transitions=new Ji(null),this.transitions.pipe(Dt(n=>n!==null),ii(n=>{let r=!1;return He(n).pipe(ii(a=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",kr.SupersededByNewNavigation),La;this.currentTransition=n,this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?kt(ae({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>a.abortController.abort()});let o=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=a.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!o&&s!=="reload")return this.events.next(new as(a.id,this.urlSerializer.serialize(a.rawUrl),"",bf.IgnoredSameUrlNavigation)),a.resolve(!1),La;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return He(a).pipe(ii(c=>(this.events.next(new yl(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?La:Promise.resolve(c))),i6(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),vi(c=>{n.targetSnapshot=c.targetSnapshot,n.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=c.urlAfterRedirects,d));let l=new wf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(o&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:c,extractedUrl:l,source:d,restoredState:h,extras:f}=a,m=new yl(c,this.urlSerializer.serialize(l),d,h);this.events.next(m);let v=ED(this.rootComponentType).snapshot;return this.currentTransition=n=kt(ae({},a),{targetSnapshot:v,urlAfterRedirects:l,extras:kt(ae({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(_=>(_.finalUrl=l,_)),He(n)}else return this.events.next(new as(a.id,this.urlSerializer.serialize(a.extractedUrl),"",bf.IgnoredByUrlHandlingStrategy)),a.resolve(!1),La}),vi(a=>{let o=new Ug(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(o)}),De(a=>(this.currentTransition=n=kt(ae({},a),{guards:wB(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),n)),MB(this.environmentInjector,a=>this.events.next(a)),vi(a=>{if(n.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Jg(this.urlSerializer,a.guardsResult);let o=new zg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(o)}),Dt(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",kr.GuardRejected),!1)),Kb(a=>{if(a.guards.canActivateChecks.length!==0)return He(a).pipe(vi(o=>{let s=new jg(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ii(o=>{let s=!1;return He(o).pipe(n6(this.paramsInheritanceStrategy,this.environmentInjector),vi({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(o,"",kr.NoDataFromResolver)}}))}),vi(o=>{let s=new Hg(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}))}),Kb(a=>{let o=s=>{let c=[];if(s.routeConfig?.loadComponent){let l=Kd(s)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,s.routeConfig).pipe(vi(d=>{s.component=d}),De(()=>{})))}for(let l of s.children)c.push(...o(l));return c};return Br(o(a.targetSnapshot.root)).pipe(Jy(null),fi(1))}),Kb(()=>this.afterPreactivation()),ii(()=>{let{currentSnapshot:a,targetSnapshot:o}=n,s=this.createViewTransition?.(this.environmentInjector,a.root,o.root);return s?qn(s).pipe(De(()=>n)):He(n)}),De(a=>{let o=gB(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=n=kt(ae({},a),{targetRouterState:o}),this.currentNavigation.update(s=>(s.targetRouterState=o,s)),n}),vi(()=>{this.events.next(new xf)}),bB(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),fi(1),pt(new Li(a=>{let o=n.abortController.signal,s=()=>a.next();return o.addEventListener("abort",s),()=>o.removeEventListener("abort",s)}).pipe(Dt(()=>!r&&!n.targetRouterState),vi(()=>{this.cancelNavigationTransition(n,n.abortController.signal.reason+"",kr.Aborted)}))),vi({next:a=>{r=!0,this.lastSuccessfulNavigation=mi(this.currentNavigation),this.events.next(new ja(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),pt(this.transitionAbortWithErrorSubject.pipe(vi(a=>{throw a}))),rl(()=>{r||this.cancelNavigationTransition(n,"",kr.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),zr(a=>{if(this.destroyed)return n.resolve(!1),La;if(r=!0,DD(a))this.events.next(new bo(n.id,this.urlSerializer.serialize(n.extractedUrl),a.message,a.cancellationCode)),yB(a)?this.events.next(new $d(a.url,a.navigationBehaviorOptions)):n.resolve(!1);else{let o=new Wd(n.id,this.urlSerializer.serialize(n.extractedUrl),a,n.targetSnapshot??void 0);try{let s=Bi(this.environmentInjector,()=>this.navigationErrorHandler?.(o));if(s instanceof Gd){let{message:c,cancellationCode:l}=Jg(this.urlSerializer,s);this.events.next(new bo(n.id,this.urlSerializer.serialize(n.extractedUrl),c,l)),this.events.next(new $d(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(o),a}catch(s){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(s)}}return La}))}))}cancelNavigationTransition(e,n,r){let a=new bo(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(a),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=mi(this.currentNavigation),r=n?.targetBrowserUrl??n?.extractedUrl;return e.toString()!==r?.toString()&&!n?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function l6(i){return i!==_f}var HD=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:()=>g(d6),providedIn:"root"})}return i})(),t0=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},d6=(()=>{class i extends t0{static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),WD=(()=>{class i{urlSerializer=g(Df);options=g(Qd,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=g(Xs);urlHandlingStrategy=g(r0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new wo;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:n,targetBrowserUrl:r}){let a=e!==void 0?this.urlHandlingStrategy.merge(e,n):n,o=r??a;return o instanceof wo?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:e,finalUrl:n,initialUrl:r}){n&&e?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,r),this.routerState=e):this.rawUrlTree=r}routerState=ED(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:()=>g(u6),providedIn:"root"})}return i})(),u6=(()=>{class i extends WD{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{e(n.url,n.state,"popstate")})})}handleRouterEvent(e,n){e instanceof yl?this.updateStateMemento():e instanceof as?this.commitTransition(n):e instanceof wf?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof xf?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof bo&&e.code!==kr.SupersededByNewNavigation&&e.code!==kr.Redirect?this.restoreHistory(n):e instanceof Wd?this.restoreHistory(n,!0):e instanceof ja&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:n,id:r}){let{replaceUrl:a,state:o}=n;if(this.location.isCurrentPathEqualTo(e)||a){let s=this.browserPageId,c=ae(ae({},o),this.generateNgRouterState(r,s));this.location.replaceState(e,"",c)}else{let s=ae(ae({},o),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,a=this.currentPageId-r;a!==0?this.location.historyGo(a):this.getCurrentUrlTree()===e.finalUrl&&a===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function fw(i,t){i.events.pipe(Dt(e=>e instanceof ja||e instanceof bo||e instanceof Wd||e instanceof as),De(e=>e instanceof ja||e instanceof as?0:(e instanceof bo?e.code===kr.Redirect||e.code===kr.SupersededByNewNavigation:!1)?2:1),Dt(e=>e!==2),fi(1)).subscribe(()=>{t()})}var h6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},f6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xo=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=g(lb);stateManager=g(WD);options=g(Qd,{optional:!0})||{};pendingTasks=g(xk);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=g(jD);urlSerializer=g(Df);location=g(Xs);urlHandlingStrategy=g(r0);injector=g(Oi);_events=new ge;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=g(HD);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=g(Mf,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!g(i0,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Zi;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let r=this.navigationTransitions.currentTransition,a=mi(this.navigationTransitions.currentNavigation);if(r!==null&&a!==null){if(this.stateManager.handleRouterEvent(n,a),n instanceof bo&&n.code!==kr.Redirect&&n.code!==kr.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof ja)this.navigated=!0;else if(n instanceof $d){let o=n.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),c=ae({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||l6(r.source)},o);this.scheduleNavigation(s,_f,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}hB(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_f,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n,r)=>{this.navigateToSyncWithBrowser(e,r,n)})}navigateToSyncWithBrowser(e,n,r){let a={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let c=ae({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(a.state=c)}let s=this.parseUrl(e);this.scheduleNavigation(s,n,o,a).catch(c=>{this.disposed||this.injector.get(Dd)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return mi(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(uw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:r,queryParams:a,fragment:o,queryParamsHandling:s,preserveFragment:c}=n,l=c?this.currentUrlTree.fragment:o,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=ae(ae({},this.currentUrlTree.queryParams),a);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=a||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=r?r.snapshot:this.routerState.snapshot.root;h=yD(f)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),h=this.currentUrlTree.root}return bD(h,e,d,l??null)}navigateByUrl(e,n={skipLocationChange:!1}){let r=Zs(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,_f,null,n)}navigate(e,n={skipLocationChange:!1}){return m6(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let r;if(n===!0?r=ae({},h6):n===!1?r=ae({},f6):r=n,Zs(e))return eD(this.currentUrlTree,e,r);let a=this.parseUrl(e);return eD(this.currentUrlTree,a,r)}removeEmptyProps(e){return Object.entries(e).reduce((n,[r,a])=>(a!=null&&(n[r]=a),n),{})}scheduleNavigation(e,n,r,a,o){if(this.disposed)return Promise.resolve(!1);let s,c,l;o?(s=o.resolve,c=o.reject,l=o.promise):l=new Promise((h,f)=>{s=h,c=f});let d=this.pendingTasks.add();return fw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:a,resolve:s,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function m6(i){for(let t=0;t<i.length;t++)if(i[t]==null)throw new st(4008,!1)}var Zd=(()=>{class i{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=it(null);get href(){return mi(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ge;applicationErrorHandler=g(Dd);options=g(Qd,{optional:!0});constructor(e,n,r,a,o,s){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=a,this.el=o,this.locationStrategy=s,this.reactiveHref.set(g(new vo("href"),{optional:!0}));let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,n=r=>r==="merge"||r==="preserve";e||=n(this.queryParamsHandling),e||=!this.queryParamsHandling&&!n(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(r=>{r instanceof ja&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Zs(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,r,a,o){let s=this.urlTree;if(s===null||this.isAnchorElement&&(e!==0||n||r||a||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,n){let r=this.renderer,a=this.el.nativeElement;n!==null?r.setAttribute(a,e,n):r.removeAttribute(a,e)}get urlTree(){return this.routerLinkInput===null?null:Zs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||i)(tt(xo),tt(os),rb("tabindex"),tt(Jt),tt(Ce),tt(Ld))};static \u0275dir=me({type:i,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(n,r){n&1&&fe("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),n&2&&Ge("href",r.reactiveHref(),Mk)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Fe],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Fe],replaceUrl:[2,"replaceUrl","replaceUrl",Fe],routerLink:"routerLink"},features:[ci]})}return i})(),mw=(()=>{class i{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Je;constructor(e,n,r,a,o){this.router=e,this.element=n,this.renderer=r,this.cdr=a,this.link=o,this.routerEventsSubscription=e.events.subscribe(s=>{s instanceof ja&&this.update()})}ngAfterContentInit(){He(this.links.changes,He(null)).pipe(Qy()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=qn(e).pipe(Qy()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){let n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let n=g6(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let a=r.urlTree;return a?e.isActive(a,n):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(n){return new(n||i)(tt(xo),tt(Ce),tt(Jt),tt(bt),tt(Zd,8))};static \u0275dir=me({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,a){if(n&1&&ft(a,Zd,5),n&2){let o;ve(o=ye())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[ci]})}return i})();function g6(i){return!!i.paths}var _6=new se("");function pw(i,...t){return sr([{provide:Mf,multi:!0,useValue:i},[],{provide:os,useFactory:v6,deps:[xo]},{provide:Bk,multi:!0,useFactory:y6},t.map(e=>e.\u0275providers)])}function v6(i){return i.routerState.root}function y6(){let i=g($e);return t=>{let e=i.get(Jr);if(t!==e.components[0])return;let n=i.get(xo),r=i.get(b6);i.get(w6)===1&&n.initialNavigation(),i.get(x6,null,{optional:!0})?.setUpPreloading(),i.get(_6,null,{optional:!0})?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var b6=new se("",{factory:()=>new ge}),w6=new se("",{providedIn:"root",factory:()=>1});var x6=new se("");var a0=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=pe({type:i,selectors:[["app-home"]],decls:3,vars:0,consts:[[1,"container"]],template:function(e,n){e&1&&(on(0,"div",0)(1,"h1"),Y(2,"Hello My Love"),un()())},styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}"]})};var o0;function E6(){if(o0===void 0&&(o0=null,typeof window<"u")){let i=window;i.trustedTypes!==void 0&&(o0=i.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return o0}function Of(i){return E6()?.createHTML(i)||i}function $D(i){return Error(`Unable to find icon with the name "${i}"`)}function C6(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function GD(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function qD(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}var cs=class{url;svgText;options;svgElement;constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}},XD=(()=>{class i{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,n,r,a){this._httpClient=e,this._sanitizer=n,this._errorHandler=a,this._document=r}addSvgIcon(e,n,r){return this.addSvgIconInNamespace("",e,n,r)}addSvgIconLiteral(e,n,r){return this.addSvgIconLiteralInNamespace("",e,n,r)}addSvgIconInNamespace(e,n,r,a){return this._addSvgIconConfig(e,n,new cs(r,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,r,a){let o=this._sanitizer.sanitize(Zr.HTML,r);if(!o)throw qD(r);let s=Of(o);return this._addSvgIconConfig(e,n,new cs("",s,a))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,r){return this._addSvgIconSetConfig(e,new cs(n,null,r))}addSvgIconSetLiteralInNamespace(e,n,r){let a=this._sanitizer.sanitize(Zr.HTML,n);if(!a)throw qD(n);let o=Of(a);return this._addSvgIconSetConfig(e,new cs("",o,r))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let n=this._sanitizer.sanitize(Zr.RESOURCE_URL,e);if(!n)throw GD(e);let r=this._cachedIconsByUrl.get(n);return r?He(s0(r)):this._loadSvgIconFromConfig(new cs(e,null)).pipe(vi(a=>this._cachedIconsByUrl.set(n,a)),De(a=>s0(a)))}getNamedSvgIcon(e,n=""){let r=KD(n,e),a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(n,e),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);let o=this._iconSetConfigs.get(n);return o?this._getSvgFromIconSetConfigs(e,o):nl($D(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?He(s0(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(De(n=>s0(n)))}_getSvgFromIconSetConfigs(e,n){let r=this._extractIconWithNameFromAnySet(e,n);if(r)return He(r);let a=n.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(zr(s=>{let l=`Loading icon set URL: ${this._sanitizer.sanitize(Zr.RESOURCE_URL,o.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(l)),He(null)})));return sg(a).pipe(De(()=>{let o=this._extractIconWithNameFromAnySet(e,n);if(!o)throw $D(e);return o}))}_extractIconWithNameFromAnySet(e,n){for(let r=n.length-1;r>=0;r--){let a=n[r];if(a.svgText&&a.svgText.toString().indexOf(e)>-1){let o=this._svgElementFromConfig(a),s=this._extractSvgIconFromSet(o,e,a.options);if(s)return s}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(vi(n=>e.svgText=n),De(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?He(null):this._fetchIcon(e).pipe(vi(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,r){let a=e.querySelector(`[id="${n}"]`);if(!a)return null;let o=a.cloneNode(!0);if(o.removeAttribute("id"),o.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(o,r);if(o.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(o),r);let s=this._svgElementFromString(Of("<svg></svg>"));return s.appendChild(o),this._setSvgAttributes(s,r)}_svgElementFromString(e){let n=this._document.createElement("DIV");n.innerHTML=e;let r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){let n=this._svgElementFromString(Of("<svg></svg>")),r=e.attributes;for(let a=0;a<r.length;a++){let{name:o,value:s}=r[a];o!=="id"&&n.setAttribute(o,s)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[a].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){let{url:n,options:r}=e,a=r?.withCredentials??!1;if(!this._httpClient)throw C6();if(n==null)throw Error(`Cannot fetch icon from URL "${n}".`);let o=this._sanitizer.sanitize(Zr.RESOURCE_URL,n);if(!o)throw GD(n);let s=this._inProgressUrlFetches.get(o);if(s)return s;let c=this._httpClient.get(o,{responseType:"text",withCredentials:a}).pipe(De(l=>Of(l)),rl(()=>this._inProgressUrlFetches.delete(o)),gk());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(e,n,r){return this._svgIconConfigs.set(KD(e,n),r),this}_addSvgIconSetConfig(e,n){let r=this._iconSetConfigs.get(e);return r?r.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){let n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let r=0;r<this._resolvers.length;r++){let a=this._resolvers[r](n,e);if(a)return T6(a)?new cs(a.url,null,a.options):new cs(a,null)}}static \u0275fac=function(n){return new(n||i)(Et(Hb,8),Et(Wb),Et(et,8),Et(Gs))};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function s0(i){return i.cloneNode(!0)}function KD(i,t){return i+":"+t}function T6(i){return!!(i.url&&i.options)}function bl(i){return i.buttons===0||i.detail===0}function wl(i){let t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var gw;function YD(){if(gw==null){let i=typeof document<"u"?document.head:null;gw=!!(i&&(i.createShadowRoot||i.attachShadow))}return gw}function _w(i){if(YD()){let t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Jd(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){let t=i.shadowRoot.activeElement;if(t===i)break;i=t}return i}function Dr(i){return i.composedPath?i.composedPath()[0]:i.target}var vw;try{vw=typeof Intl<"u"&&Intl.v8BreakIterator}catch{vw=!1}var vt=(()=>{class i{_platformId=g(Jo);isBrowser=this._platformId?LI(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||vw)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ff;function QD(){if(Ff==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ff=!0}))}finally{Ff=Ff||!1}return Ff}function Js(i){return QD()?i:!!i.capture}function Hr(i,t=0){return c0(i)?Number(i):arguments.length===2?t:0}function c0(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function Ar(i){return i instanceof Ce?i.nativeElement:i}var ZD=new se("cdk-input-modality-detector-options"),JD={ignoreKeys:[18,17,224,91,16]},eA=650,yw={passive:!0,capture:!0},tA=(()=>{class i{_platform=g(vt);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Ji(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(n=>n===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Dr(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<eA||(this._modality.next(bl(e)?"keyboard":"mouse"),this._mostRecentTarget=Dr(e))};_onTouchstart=e=>{if(wl(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Dr(e)};constructor(){let e=g(Me),n=g(et),r=g(ZD,{optional:!0});if(this._options=ae(ae({},JD),r),this.modalityDetected=this._modality.pipe(dg(1)),this.modalityChanged=this.modalityDetected.pipe(cg()),this._platform.isBrowser){let a=g(Kn).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[a.listen(n,"keydown",this._onKeydown,yw),a.listen(n,"mousedown",this._onMousedown,yw),a.listen(n,"touchstart",this._onTouchstart,yw)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Pf=(function(i){return i[i.IMMEDIATE=0]="IMMEDIATE",i[i.EVENTUAL=1]="EVENTUAL",i})(Pf||{}),iA=new se("cdk-focus-monitor-default-options"),l0=Js({passive:!0,capture:!0}),Ln=(()=>{class i{_ngZone=g(Me);_platform=g(vt);_inputModalityDetector=g(tA);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=g(et);_stopInputModalityDetector=new ge;constructor(){let e=g(iA,{optional:!0});this._detectionMode=e?.detectionMode||Pf.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let n=Dr(e);for(let r=n;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,n=!1){let r=Ar(e);if(!this._platform.isBrowser||r.nodeType!==1)return He();let a=_w(r)||this._document,o=this._elementInfo.get(r);if(o)return n&&(o.checkChildren=!0),o.subject;let s={checkChildren:n,subject:new ge,rootNode:a};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){let n=Ar(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){let a=Ar(e),o=this._document.activeElement;a===o?this._getClosestElementsInfo(a).forEach(([s,c])=>this._originChanged(s,n,c)):(this._setOrigin(n),typeof a.focus=="function"&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Pf.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused",n==="touch"),e.classList.toggle("cdk-keyboard-focused",n==="keyboard"),e.classList.toggle("cdk-mouse-focused",n==="mouse"),e.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&n,this._detectionMode===Pf.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?eA:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,n){let r=this._elementInfo.get(n),a=Dr(e);!r||!r.checkChildren&&n!==a||this._originChanged(n,this._getFocusOrigin(a),r)}_onBlur(e,n){let r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,l0),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,l0)}),this._rootNodeFocusListenerCount.set(n,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(pt(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){let n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,l0),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,l0),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){let n=[];return this._elementInfo.forEach((r,a)=>{(a===e||r.checkChildren&&a.contains(e))&&n.push([a,r])}),n}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!n||n===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let a=e.labels;if(a){for(let o=0;o<a.length;o++)if(a[o].contains(n))return!0}return!1}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var d0=new WeakMap,ui=(()=>{class i{_appRef;_injector=g($e);_environmentInjector=g(Oi);load(e){let n=this._appRef=this._appRef||this._injector.get(Jr),r=d0.get(n);r||(r={loaders:new Set,refs:[]},d0.set(n,r),n.onDestroy(()=>{d0.get(n)?.refs.forEach(a=>a.destroy()),d0.delete(n)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(gg(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ec=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return i})();function eu(i){return Array.isArray(i)?i:[i]}var nA=new Set,xl,u0=(()=>{class i{_platform=g(vt);_nonce=g(Qh,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):k6}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&S6(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function S6(i,t){if(!nA.has(i))try{xl||(xl=document.createElement("style"),t&&xl.setAttribute("nonce",t),xl.setAttribute("type","text/css"),document.head.appendChild(xl)),xl.sheet&&(xl.sheet.insertRule(`@media ${i} {body{ }}`,0),nA.add(i))}catch(e){console.error(e)}}function k6(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var Nf=(()=>{class i{_mediaMatcher=g(u0);_zone=g(Me);_queries=new Map;_destroySubject=new ge;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return rA(eu(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=rA(eu(e)).map(o=>this._registerQuery(o).observable),a=Br(r);return a=og(a.pipe(fi(1)),a.pipe(dg(1),_o(0))),a.pipe(De(o=>{let s={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:l})=>{s.matches=s.matches||c,s.breakpoints[l]=c}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),a={observable:new Li(o=>{let s=c=>this._zone.run(()=>o.next(c));return n.addListener(s),()=>{n.removeListener(s)}}).pipe(Si(n),De(({matches:o})=>({query:e,matches:o})),pt(this._destroySubject)),mql:n};return this._queries.set(e,a),a}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function rA(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function I6(i){if(i.type==="characterData"&&i.target instanceof Comment)return!0;if(i.type==="childList"){for(let t=0;t<i.addedNodes.length;t++)if(!(i.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<i.removedNodes.length;t++)if(!(i.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var aA=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),oA=(()=>{class i{_mutationObserverFactory=g(aA);_observedElements=new Map;_ngZone=g(Me);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){let n=Ar(e);return new Li(r=>{let o=this._observeElement(n).pipe(De(s=>s.filter(c=>!I6(c))),Dt(s=>!!s.length)).subscribe(s=>{this._ngZone.run(()=>{r.next(s)})});return()=>{o.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let n=new ge,r=this._mutationObserverFactory.create(a=>n.next(a));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:n,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:n,stream:r}=this._observedElements.get(e);n&&n.disconnect(),r.complete(),this._observedElements.delete(e)}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),sA=(()=>{class i{_contentObserver=g(oA);_elementRef=g(Ce);event=new Je;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=Hr(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(_o(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",Fe],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return i})(),tu=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({providers:[aA]})}return i})();var iu=(()=>{class i{_platform=g(vt);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return A6(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let n=D6(V6(e));if(n&&(cA(n)===-1||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),a=cA(e);return e.hasAttribute("contenteditable")?a!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!N6(e)?!1:r==="audio"?e.hasAttribute("controls")?a!==-1:!1:r==="video"?a===-1?!1:a!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,n){return L6(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function D6(i){try{return i.frameElement}catch{return null}}function A6(i){return!!(i.offsetWidth||i.offsetHeight||typeof i.getClientRects=="function"&&i.getClientRects().length)}function R6(i){let t=i.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function M6(i){return F6(i)&&i.type=="hidden"}function O6(i){return P6(i)&&i.hasAttribute("href")}function F6(i){return i.nodeName.toLowerCase()=="input"}function P6(i){return i.nodeName.toLowerCase()=="a"}function uA(i){if(!i.hasAttribute("tabindex")||i.tabIndex===void 0)return!1;let t=i.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function cA(i){if(!uA(i))return null;let t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function N6(i){let t=i.nodeName.toLowerCase(),e=t==="input"&&i.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function L6(i){return M6(i)?!1:R6(i)||O6(i)||i.hasAttribute("contenteditable")||uA(i)}function V6(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}var h0=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,e,n,r,a=!1,o){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._injector=o,a||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let n=this._getFirstTabbableElement(e);return n?.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let n=0;n<e.length;n++){let r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let n=e.length-1;n>=0;n--){let r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?bi(t,{injector:this._injector}):setTimeout(t)}},Lf=(()=>{class i{_checker=g(iu);_ngZone=g(Me);_document=g(et);_injector=g($e);constructor(){g(ui).load(ec)}create(e,n=!1){return new h0(e,this._checker,this._ngZone,this._document,n,this._injector)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var hA=new se("liveAnnouncerElement",{providedIn:"root",factory:fA});function fA(){return null}var mA=new se("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),B6=0,El=(()=>{class i{_ngZone=g(Me);_defaultOptions=g(mA,{optional:!0});_liveElement;_document=g(et);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=g(hA,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...n){let r=this._defaultOptions,a,o;return n.length===1&&typeof n[0]=="number"?o=n[0]:[a,o]=n,this.clear(),clearTimeout(this._previousTimeout),a||(a=r&&r.politeness?r.politeness:"polite"),o==null&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",a),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(s=>this._currentResolve=s)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof o=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let a=0;a<n.length;a++)n[a].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${B6++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let a=n[r],o=a.getAttribute("aria-owns");o?o.indexOf(e)===-1&&a.setAttribute("aria-owns",o+" "+e):a.setAttribute("aria-owns",e)}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var tc=(function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i})(tc||{}),lA="cdk-high-contrast-black-on-white",dA="cdk-high-contrast-white-on-black",bw="cdk-high-contrast-active",f0=(()=>{class i{_platform=g(vt);_hasCheckedHighContrastMode;_document=g(et);_breakpointSubscription;constructor(){this._breakpointSubscription=g(Nf).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return tc.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return tc.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return tc.BLACK_ON_WHITE}return tc.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(bw,lA,dA),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===tc.BLACK_ON_WHITE?e.add(bw,lA):n===tc.WHITE_ON_BLACK&&e.add(bw,dA)}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Vf=(()=>{class i{constructor(){g(f0)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[tu]})}return i})();var ww={},xi=(()=>{class i{_appId=g(ol);getId(e){return this._appId!=="ng"&&(e+=this._appId),ww.hasOwnProperty(e)||(ww[e]=0),`${e}${ww[e]++}`}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var U6=200,m0=class{_letterKeyStream=new ge;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new ge;selectedItem=this._selectedItem;constructor(t,e){let n=typeof e?.debounceInterval=="number"?e.debounceInterval:U6;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let e=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(vi(e=>this._pressedLetters.push(e)),_o(t),Dt(()=>this._pressedLetters.length>0),De(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let n=1;n<this._items.length+1;n++){let r=(this._selectedItemIndex+n)%this._items.length,a=this._items[r];if(!this._skipPredicateFn?.(a)&&a.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(a);break}}this._pressedLetters=[]})}};function gn(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}var nu=class{_items;_activeItemIndex=it(-1);_activeItem=it(null);_wrap=!1;_typeaheadSubscription=Zi.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,e){this._items=t,t instanceof Zo?this._itemChangesSubscription=t.changes.subscribe(n=>this._itemsChanged(n.toArray())):al(t)&&(this._effectRef=Ba(()=>this._itemsChanged(t()),{injector:e}))}tabOut=new ge;change=new ge;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new m0(e,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex())}onKeydown(t){let e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!t[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let a=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(a>0?a:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let a=this._activeItemIndex()+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(a<o?a:o-1,-1);break}else return;default:(r||gn(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),n=typeof t=="number"?t:e.indexOf(t),r=e[n];this._activeItem.set(r??null),this._activeItemIndex.set(n),this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let n=1;n<=e.length;n++){let r=(this._activeItemIndex()+t*n+e.length)%e.length,a=e[r];if(!this._skipPredicateFn(a)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex()+t,t)}_setActiveItemByIndex(t,e){let n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(t+=e,!n[t])return;this.setActiveItem(t)}}_getItemsArray(){return al(this._items)?this._items():this._items instanceof Zo?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let e=this._activeItem();if(e){let n=t.indexOf(e);n>-1&&n!==this._activeItemIndex()&&(this._activeItemIndex.set(n),this._typeahead?.setCurrentSelectedItemIndex(n))}}};var Hf=class extends nu{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}};var Cl=class extends nu{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};var _A=" ";function Cw(i,t,e){let n=g0(i,t);e=e.trim(),!n.some(r=>r.trim()===e)&&(n.push(e),i.setAttribute(t,n.join(_A)))}function _0(i,t,e){let n=g0(i,t);e=e.trim();let r=n.filter(a=>a!==e);r.length?i.setAttribute(t,r.join(_A)):i.removeAttribute(t)}function g0(i,t){return i.getAttribute(t)?.match(/\S+/g)??[]}var vA="cdk-describedby-message",p0="cdk-describedby-host",Ew=0,v0=(()=>{class i{_platform=g(vt);_document=g(et);_messageRegistry=new Map;_messagesContainer=null;_id=`${Ew++}`;constructor(){g(ui).load(ec),this._id=g(ol)+"-"+Ew++}describe(e,n,r){if(!this._canBeDescribed(e,n))return;let a=xw(n,r);typeof n!="string"?(gA(n,this._id),this._messageRegistry.set(a,{messageElement:n,referenceCount:0})):this._messageRegistry.has(a)||this._createMessageElement(n,r),this._isElementDescribedByMessage(e,a)||this._addMessageReference(e,a)}removeDescription(e,n,r){if(!n||!this._isElementNode(e))return;let a=xw(n,r);if(this._isElementDescribedByMessage(e,a)&&this._removeMessageReference(e,a),typeof n=="string"){let o=this._messageRegistry.get(a);o&&o.referenceCount===0&&this._deleteMessageElement(a)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${p0}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(p0);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){let r=this._document.createElement("div");gA(r,this._id),r.textContent=e,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(xw(e,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let a=0;a<n.length;a++)n[a].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let n=g0(e,"aria-describedby").filter(r=>r.indexOf(vA)!=0);e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){let r=this._messageRegistry.get(n);Cw(e,"aria-describedby",r.messageElement.id),e.setAttribute(p0,this._id),r.referenceCount++}_removeMessageReference(e,n){let r=this._messageRegistry.get(n);r.referenceCount--,_0(e,"aria-describedby",r.messageElement.id),e.removeAttribute(p0)}_isElementDescribedByMessage(e,n){let r=g0(e,"aria-describedby"),a=this._messageRegistry.get(n),o=a&&a.messageElement.id;return!!o&&r.indexOf(o)!=-1}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&typeof n=="object")return!0;let r=n==null?"":`${n}`.trim(),a=e.getAttribute("aria-label");return r?!a||a.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function xw(i,t){return typeof i=="string"?`${t||""}/${i}`:i}function gA(i,t){i.id||(i.id=`${vA}-${t}-${Ew++}`)}var z6=new se("cdk-dir-doc",{providedIn:"root",factory:j6});function j6(){return g(et)}var H6=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function yA(i){let t=i?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?H6.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Fi=(()=>{class i{get value(){return this.valueSignal()}valueSignal=it("ltr");change=new Je;constructor(){let e=g(z6,{optional:!0});if(e){let n=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.valueSignal.set(yA(n||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ic=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({})}return i})();var ot=(()=>{class i{constructor(){g(f0)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[ic,ic]})}return i})();var W6=["*"],$6=new se("MAT_ICON_DEFAULT_OPTIONS"),G6=new se("mat-icon-location",{providedIn:"root",factory:q6});function q6(){let i=g(et),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var bA=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],K6=bA.map(i=>`[${i}]`).join(", "),X6=/^url\(['"]?#(.*?)['"]?\)$/,lr=(()=>{class i{_elementRef=g(Ce);_iconRegistry=g(XD);_location=g(G6);_errorHandler=g(Gs);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Zi.EMPTY;constructor(){let e=g(new vo("aria-hidden"),{optional:!0}),n=g($6,{optional:!0});n&&(n.color&&(this.color=this._defaultColor=n.color),n.fontSet&&(this.fontSet=n.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){let r=e.childNodes[n];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),n.forEach(r=>e.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let n=this._elementsWithExternalReferences;n&&n.forEach((r,a)=>{r.forEach(o=>{a.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){let n=e.querySelectorAll(K6),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<n.length;a++)bA.forEach(o=>{let s=n[a],c=s.getAttribute(o),l=c?c.match(X6):null;if(l){let d=r.get(s);d||(d=[],r.set(s,d)),d.push({name:o,value:l[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[n,r]=this._splitIconName(e);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(fi(1)).subscribe(a=>this._setSvgElement(a),a=>{let o=`Error retrieving icon ${n}:${r}! ${a.message}`;this._errorHandler.handleError(new Error(o))})}}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,r){n&2&&(Ge("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),sn(r.color?"mat-"+r.color:""),xe("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Fe],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:W6,decls:1,vars:0,template:function(n,r){n&1&&(Ot(),Qe(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return i})(),_n=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[ot,ot]})}return i})();var Ha=(function(i){return i[i.NORMAL=0]="NORMAL",i[i.NEGATED=1]="NEGATED",i[i.INVERTED=2]="INVERTED",i})(Ha||{}),y0,Tl;function b0(){if(Tl==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Tl=!1,Tl;if("scrollBehavior"in document.documentElement.style)Tl=!0;else{let i=Element.prototype.scrollTo;i?Tl=!/\{\s*\[native code\]\s*\}/.test(i.toString()):Tl=!1}}return Tl}function ru(){if(typeof document!="object"||!document)return Ha.NORMAL;if(y0==null){let i=document.createElement("div"),t=i.style;i.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",i.appendChild(e),document.body.appendChild(i),y0=Ha.NORMAL,i.scrollLeft===0&&(i.scrollLeft=1,y0=i.scrollLeft===0?Ha.NEGATED:Ha.INVERTED),i.remove()}return y0}function Tw(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var au,wA=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Sw(){if(au)return au;if(typeof document!="object"||!document)return au=new Set(wA),au;let i=document.createElement("input");return au=new Set(wA.filter(t=>(i.setAttribute("type",t),i.type===t))),au}var xA={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Y6=new se("MATERIAL_ANIMATIONS");var EA=null;function Wf(){return g(Y6,{optional:!0})?.animationsDisabled||g(Ad,{optional:!0})==="NoopAnimations"?"di-disabled":(EA??=g(u0).matchMedia("(prefers-reduced-motion)").matches,EA?"reduced-motion":"enabled")}function Wt(){return Wf()!=="enabled"}function cn(i){return i==null?"":typeof i=="string"?i:`${i}px`}function ln(i){return i!=null&&`${i}`!="false"}var Rr=(function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i})(Rr||{}),kw=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Rr.HIDDEN;constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},CA=Js({passive:!0,capture:!0}),Iw=class{_events=new Map;addHandler(t,e,n,r){let a=this._events.get(e);if(a){let o=a.get(n);o?o.add(r):a.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,CA)})}removeHandler(t,e,n){let r=this._events.get(t);if(!r)return;let a=r.get(e);a&&(a.delete(n),a.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,CA)))}_delegateEventHandler=t=>{let e=Dr(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(a=>a.handleEvent(t))})}},$f={enterDuration:225,exitDuration:150},Q6=800,TA=Js({passive:!0,capture:!0}),SA=["mousedown","touchstart"],kA=["mouseup","mouseleave","touchend","touchcancel"],Z6=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return i})(),Sl=class i{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new Iw;constructor(t,e,n,r,a){this._target=t,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=Ar(n)),a&&a.get(ui).load(Z6)}fadeInRipple(t,e,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=ae(ae({},$f),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let o=n.radius||J6(t,e,r),s=t-r.left,c=e-r.top,l=a.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${s-o}px`,d.style.top=`${c-o}px`,d.style.height=`${o*2}px`,d.style.width=`${o*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);let h=window.getComputedStyle(d),f=h.transitionProperty,m=h.transitionDuration,v=f==="none"||m==="0s"||m==="0s, 0s"||r.width===0&&r.height===0,_=new kw(this,d,n,v);d.style.transform="scale3d(1, 1, 1)",_.state=Rr.FADING_IN,n.persistent||(this._mostRecentTransientRipple=_);let y=null;return!v&&(l||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let S=()=>{y&&(y.fallbackTimer=null),clearTimeout(T),this._finishRippleTransition(_)},D=()=>this._destroyRipple(_),T=setTimeout(D,l+100);d.addEventListener("transitionend",S),d.addEventListener("transitioncancel",D),y={onTransitionEnd:S,onTransitionCancel:D,fallbackTimer:T}}),this._activeRipples.set(_,y),(v||!l)&&this._finishRippleTransition(_),_}fadeOutRipple(t){if(t.state===Rr.FADING_OUT||t.state===Rr.HIDDEN)return;let e=t.element,n=ae(ae({},$f),t.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=Rr.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=Ar(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,SA.forEach(n=>{i._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{kA.forEach(e=>{this._triggerElement.addEventListener(e,this,TA)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Rr.FADING_IN?this._startFadeOutTransition(t):t.state===Rr.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=Rr.VISIBLE,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Rr.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=bl(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Q6;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!wl(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===Rr.VISIBLE||t.config.terminateOnPointerUp&&t.state===Rr.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(SA.forEach(e=>i._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(kA.forEach(e=>t.removeEventListener(e,this,TA)),this._pointerUpEventsRegistered=!1))}};function J6(i,t,e){let n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}var ls=new se("mat-ripple-global-options"),ds=(()=>{class i{_elementRef=g(Ce);_animationsDisabled=Wt();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=g(Me),n=g(vt),r=g(ls,{optional:!0}),a=g($e);this._globalOptions=r||{},this._rippleRenderer=new Sl(this,e,this._elementRef,n,a)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:ae(ae(ae({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,n,ae(ae({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,ae(ae({},this.rippleConfig),e))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){n&2&&xe("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return i})();var e5={capture:!0},t5=["focus","mousedown","mouseenter","touchstart"],Dw="mat-ripple-loader-uninitialized",Aw="mat-ripple-loader-class-name",IA="mat-ripple-loader-centered",w0="mat-ripple-loader-disabled",x0=(()=>{class i{_document=g(et);_animationsDisabled=Wt();_globalRippleOptions=g(ls,{optional:!0});_platform=g(vt);_ngZone=g(Me);_injector=g($e);_eventCleanups;_hosts=new Map;constructor(){let e=g(Kn).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>t5.map(n=>e.listen(this._document,n,this._onInteraction,e5)))}ngOnDestroy(){let e=this._hosts.keys();for(let n of e)this.destroyRipple(n);this._eventCleanups.forEach(n=>n())}configureRipple(e,n){e.setAttribute(Dw,this._globalRippleOptions?.namespace??""),(n.className||!e.hasAttribute(Aw))&&e.setAttribute(Aw,n.className||""),n.centered&&e.setAttribute(IA,""),n.disabled&&e.setAttribute(w0,"")}setDisabled(e,n){let r=this._hosts.get(e);r?(r.target.rippleDisabled=n,!n&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(e))):n?e.setAttribute(w0,""):e.removeAttribute(w0)}_onInteraction=e=>{let n=Dr(e);if(n instanceof HTMLElement){let r=n.closest(`[${Dw}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",e.getAttribute(Aw)),e.append(n);let r=this._globalRippleOptions,a=this._animationsDisabled?0:r?.animation?.enterDuration??$f.enterDuration,o=this._animationsDisabled?0:r?.animation?.exitDuration??$f.exitDuration,s={rippleDisabled:this._animationsDisabled||r?.disabled||e.hasAttribute(w0),rippleConfig:{centered:e.hasAttribute(IA),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:a,exitDuration:o}}},c=new Sl(s,this._ngZone,n,this._platform,this._injector),l=!s.rippleDisabled;l&&c.setupTriggerEvents(e),this._hosts.set(e,{target:s,renderer:c,hasSetUpEvents:l}),e.removeAttribute(Dw)}destroyRipple(e){let n=this._hosts.get(e);n&&(n.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Jn=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return i})();var i5=["mat-icon-button",""],n5=["*"],r5=new se("MAT_BUTTON_CONFIG");function DA(i){return i==null?void 0:oi(i)}var Rw=(()=>{class i{_elementRef=g(Ce);_ngZone=g(Me);_animationsDisabled=Wt();_config=g(r5,{optional:!0});_focusMonitor=g(Ln);_cleanupClick;_renderer=g(Jt);_rippleLoader=g(x0);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(e){this.tabIndex=e}constructor(){g(ui).load(Jn);let e=this._elementRef.nativeElement;this._isAnchor=e.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(e,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",e=>{this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(n,r){n&2&&(Ge("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled())("tabindex",r._getTabIndex()),sn(r.color?"mat-"+r.color:""),xe("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("mat-unthemed",!r.color)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Fe],disabled:[2,"disabled","disabled",Fe],ariaDisabled:[2,"aria-disabled","ariaDisabled",Fe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Fe],tabIndex:[2,"tabIndex","tabIndex",DA],_tabindex:[2,"tabindex","_tabindex",DA]}})}return i})(),ra=(()=>{class i extends Rw{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[dt],attrs:i5,ngContentSelectors:n5,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(Ot(),Xn(0,"span",0),Qe(1),Xn(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return i})();var Ca=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[ot,ot]})}return i})();var a5=["matButton",""],o5=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],s5=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var AA=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),vn=(()=>{class i extends Rw{get appearance(){return this._appearance}set appearance(e){this.setAppearance(e||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let e=c5(this._elementRef.nativeElement);e&&this.setAppearance(e)}setAppearance(e){if(e===this._appearance)return;let n=this._elementRef.nativeElement.classList,r=this._appearance?AA.get(this._appearance):null,a=AA.get(e);r&&n.remove(...r),n.add(...a),this._appearance=e}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[dt],attrs:a5,ngContentSelectors:s5,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(Ot(o5),Xn(0,"span",0),Qe(1),on(2,"span",1),Qe(3,1),un(),Qe(4,2),Xn(5,"span",2)(6,"span",3)),n&2&&xe("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before,.mat-tonal-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return i})();function c5(i){return i.hasAttribute("mat-raised-button")?"elevated":i.hasAttribute("mat-stroked-button")?"outlined":i.hasAttribute("mat-flat-button")?"filled":i.hasAttribute("mat-button")?"text":null}var li=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[ot,Ca,ot]})}return i})();var Gf=class{};function qf(i){return i&&typeof i.connect=="function"&&!(i instanceof $h)}var rc=(function(i){return i[i.REPLACED=0]="REPLACED",i[i.INSERTED=1]="INSERTED",i[i.MOVED=2]="MOVED",i[i.REMOVED=3]="REMOVED",i})(rc||{}),ou=new se("_ViewRepeater");var kl=class{applyChanges(t,e,n,r,a){t.forEachOperation((o,s,c)=>{let l,d;if(o.previousIndex==null){let h=n(o,s,c);l=e.createEmbeddedView(h.templateRef,h.context,h.index),d=rc.INSERTED}else c==null?(e.remove(s),d=rc.REMOVED):(l=e.get(s),e.move(l,c),d=rc.MOVED);a&&a({context:l?.context,operation:d,record:o})})}detach(){}};var l5=20,Eo=(()=>{class i{_ngZone=g(Me);_platform=g(vt);_renderer=g(Kn).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new ge;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=l5){return this._platform.isBrowser?new Li(n=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(Zy(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):He()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(Dt(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,e)&&n.push(a)}),n}_scrollableContainsElement(e,n){let r=Ar(n),a=e.getElementRef().nativeElement;do if(r==a)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Il=(()=>{class i{elementRef=g(Ce);scrollDispatcher=g(Eo);ngZone=g(Me);dir=g(Fi,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new ge;_renderer=g(Jt);_cleanupScroll;_elementScrolled=new ge;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let n=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=r?e.end:e.start),e.right==null&&(e.right=r?e.start:e.end),e.bottom!=null&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),r&&ru()!=Ha.NORMAL?(e.left!=null&&(e.right=n.scrollWidth-n.clientWidth-e.left),ru()==Ha.INVERTED?e.left=e.right:ru()==Ha.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let n=this.elementRef.nativeElement;b0()?n.scrollTo(e):(e.top!=null&&(n.scrollTop=e.top),e.left!=null&&(n.scrollLeft=e.left))}measureScrollOffset(e){let n="left",r="right",a=this.elementRef.nativeElement;if(e=="top")return a.scrollTop;if(e=="bottom")return a.scrollHeight-a.clientHeight-a.scrollTop;let o=this.dir&&this.dir.value=="rtl";return e=="start"?e=o?r:n:e=="end"&&(e=o?n:r),o&&ru()==Ha.INVERTED?e==n?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:o&&ru()==Ha.NEGATED?e==n?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:e==n?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return i})(),d5=20,aa=(()=>{class i{_platform=g(vt);_listeners;_viewportSize;_change=new ge;_document=g(et);constructor(){let e=g(Me),n=g(Kn).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=a=>this._change.next(a);this._listeners=[n.listen("window","resize",r),n.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),r=e.documentElement,a=r.getBoundingClientRect(),o=-a.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,s=-a.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0;return{top:o,left:s}}change(e=d5){return e>0?this._change.pipe(Zy(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ta=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({})}return i})(),Kf=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[ic,Ta,ic,Ta]})}return i})();var h5=[[["caption"]],[["colgroup"],["col"]],"*"],f5=["caption","colgroup, col","*"];function m5(i,t){i&1&&Qe(0,2)}function p5(i,t){i&1&&(P(0,"thead",0),Gi(1,1),V(),P(2,"tbody",0),Gi(3,2)(4,3),V(),P(5,"tfoot",0),Gi(6,4),V())}function g5(i,t){i&1&&Gi(0,1)(1,2)(2,3)(3,4)}var $a=new se("CDK_TABLE");var S0=(()=>{class i{template=g(yi);constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","cdkCellDef",""]]})}return i})(),k0=(()=>{class i{template=g(yi);constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","cdkHeaderCellDef",""]]})}return i})(),FA=(()=>{class i{template=g(yi);constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","cdkFooterCellDef",""]]})}return i})(),su=(()=>{class i{_table=g($a,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(e){this._setNameInput(e)}_name;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(n,r,a){if(n&1&&(ft(a,S0,5),ft(a,k0,5),ft(a,FA,5)),n&2){let o;ve(o=ye())&&(r.cell=o.first),ve(o=ye())&&(r.headerCell=o.first),ve(o=ye())&&(r.footerCell=o.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",Fe],stickyEnd:[2,"stickyEnd","stickyEnd",Fe]},features:[Tt([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}])]})}return i})(),C0=class{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}},PA=(()=>{class i extends C0{constructor(){super(g(su),g(Ce))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[dt]})}return i})();var NA=(()=>{class i extends C0{constructor(){let e=g(su),n=g(Ce);super(e,n);let r=e._table?._getCellRole();r&&n.nativeElement.setAttribute("role",r)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[dt]})}return i})();var Ow=(()=>{class i{template=g(yi);_differs=g(es);columns;_columnsDiffer;constructor(){}ngOnChanges(e){if(!this._columnsDiffer){let n=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Xf?e.headerCell.template:this instanceof Fw?e.footerCell.template:e.cell.template}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,features:[ci]})}return i})(),Xf=(()=>{class i extends Ow{_table=g($a,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(g(yi),g(es))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",Fe]},features:[dt,ci]})}return i})(),Fw=(()=>{class i extends Ow{_table=g($a,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(g(yi),g(es))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",Fe]},features:[dt,ci]})}return i})(),I0=(()=>{class i extends Ow{_table=g($a,{optional:!0});when;constructor(){super(g(yi),g(es))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[dt]})}return i})(),Dl=(()=>{class i{_viewContainer=g($i);cells;context;static mostRecentCellOutlet=null;constructor(){i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","cdkCellOutlet",""]]})}return i})(),Pw=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&Gi(0,0)},dependencies:[Dl],encapsulation:2})}return i})();var Nw=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&Gi(0,0)},dependencies:[Dl],encapsulation:2})}return i})(),LA=(()=>{class i{templateRef=g(yi);_contentClassName="cdk-no-data-row";constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["ng-template","cdkNoDataRow",""]]})}return i})(),RA=["top","bottom","left","right"],Mw=class{_isNativeHtmlTable;_stickCellCss;_isBrowser;_needsPositionStickyOnElement;direction;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(t=>this._updateCachedSizes(t)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(t,e,n=!0,r=!0,a,o,s){this._isNativeHtmlTable=t,this._stickCellCss=e,this._isBrowser=n,this._needsPositionStickyOnElement=r,this.direction=a,this._positionListener=o,this._tableInjector=s,this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){(e.includes("left")||e.includes("right"))&&this._removeFromStickyColumnReplayQueue(t);let n=[];for(let r of t)r.nodeType===r.ELEMENT_NODE&&n.push(r,...Array.from(r.children));bi({write:()=>{for(let r of n)this._removeStickyStyle(r,e)}},{injector:this._tableInjector})}updateStickyColumns(t,e,n,r=!0,a=!0){if(!t.length||!this._isBrowser||!(e.some(y=>y)||n.some(y=>y))){this._positionListener?.stickyColumnsUpdated({sizes:[]}),this._positionListener?.stickyEndColumnsUpdated({sizes:[]});return}let o=t[0],s=o.children.length,c=this.direction==="rtl",l=c?"right":"left",d=c?"left":"right",h=e.lastIndexOf(!0),f=n.indexOf(!0),m,v,_;a&&this._updateStickyColumnReplayQueue({rows:[...t],stickyStartStates:[...e],stickyEndStates:[...n]}),bi({earlyRead:()=>{m=this._getCellWidths(o,r),v=this._getStickyStartColumnPositions(m,e),_=this._getStickyEndColumnPositions(m,n)},write:()=>{for(let y of t)for(let S=0;S<s;S++){let D=y.children[S];e[S]&&this._addStickyStyle(D,l,v[S],S===h),n[S]&&this._addStickyStyle(D,d,_[S],S===f)}this._positionListener&&m.some(y=>!!y)&&(this._positionListener.stickyColumnsUpdated({sizes:h===-1?[]:m.slice(0,h+1).map((y,S)=>e[S]?y:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:f===-1?[]:m.slice(f).map((y,S)=>n[S+f]?y:null).reverse()}))}},{injector:this._tableInjector})}stickRows(t,e,n){if(!this._isBrowser)return;let r=n==="bottom"?t.slice().reverse():t,a=n==="bottom"?e.slice().reverse():e,o=[],s=[],c=[];bi({earlyRead:()=>{for(let l=0,d=0;l<r.length;l++){if(!a[l])continue;o[l]=d;let h=r[l];c[l]=this._isNativeHtmlTable?Array.from(h.children):[h];let f=this._retrieveElementSize(h).height;d+=f,s[l]=f}},write:()=>{let l=a.lastIndexOf(!0);for(let d=0;d<r.length;d++){if(!a[d])continue;let h=o[d],f=d===l;for(let m of c[d])this._addStickyStyle(m,n,h,f)}n==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:s,offsets:o,elements:c}):this._positionListener?.stickyFooterRowsUpdated({sizes:s,offsets:o,elements:c})}},{injector:this._tableInjector})}updateStickyFooterContainer(t,e){this._isNativeHtmlTable&&bi({write:()=>{let n=t.querySelector("tfoot");n&&(e.some(r=>!r)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1))}},{injector:this._tableInjector})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._resizeObserver?.disconnect(),this._destroyed=!0}_removeStickyStyle(t,e){if(!t.classList.contains(this._stickCellCss))return;for(let r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);RA.some(r=>e.indexOf(r)===-1&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){let e={top:100,bottom:10,left:1,right:1},n=0;for(let r of RA)t.style[r]&&(n+=e[r]);return n?`${n}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let n=[],r=t.children;for(let a=0;a<r.length;a++){let o=r[a];n.push(this._retrieveElementSize(o).width)}return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(t,e){let n=[],r=0;for(let a=0;a<t.length;a++)e[a]&&(n[a]=r,r+=t[a]);return n}_getStickyEndColumnPositions(t,e){let n=[],r=0;for(let a=t.length;a>0;a--)e[a]&&(n[a]=r,r+=t[a]);return n}_retrieveElementSize(t){let e=this._elemSizeCache.get(t);if(e)return e;let n=t.getBoundingClientRect(),r={width:n.width,height:n.height};return this._resizeObserver&&(this._elemSizeCache.set(t,r),this._resizeObserver.observe(t,{box:"border-box"})),r}_updateStickyColumnReplayQueue(t){this._removeFromStickyColumnReplayQueue(t.rows),this._stickyColumnsReplayTimeout||this._updatedStickyColumnsParamsToReplay.push(t)}_removeFromStickyColumnReplayQueue(t){let e=new Set(t);for(let n of this._updatedStickyColumnsParamsToReplay)n.rows=n.rows.filter(r=>!e.has(r));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(n=>!!n.rows.length)}_updateCachedSizes(t){let e=!1;for(let n of t){let r=n.borderBoxSize?.length?{width:n.borderBoxSize[0].inlineSize,height:n.borderBoxSize[0].blockSize}:{width:n.contentRect.width,height:n.contentRect.height};r.width!==this._elemSizeCache.get(n.target)?.width&&_5(n.target)&&(e=!0),this._elemSizeCache.set(n.target,r)}e&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(let n of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(n.rows,n.stickyStartStates,n.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}};function _5(i){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(t=>i.classList.contains(t))}var T0=new se("CDK_SPL");var Lw=(()=>{class i{viewContainer=g($i);elementRef=g(Ce);constructor(){let e=g($a);e._rowOutlet=this,e._outletAssigned()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","rowOutlet",""]]})}return i})(),Vw=(()=>{class i{viewContainer=g($i);elementRef=g(Ce);constructor(){let e=g($a);e._headerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","headerRowOutlet",""]]})}return i})(),Bw=(()=>{class i{viewContainer=g($i);elementRef=g(Ce);constructor(){let e=g($a);e._footerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","footerRowOutlet",""]]})}return i})(),Uw=(()=>{class i{viewContainer=g($i);elementRef=g(Ce);constructor(){let e=g($a);e._noDataRowOutlet=this,e._outletAssigned()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","noDataRowOutlet",""]]})}return i})(),zw=(()=>{class i{_differs=g(es);_changeDetectorRef=g(bt);_elementRef=g(Ce);_dir=g(Fi,{optional:!0});_platform=g(vt);_viewRepeater=g(ou);_viewportRuler=g(aa);_stickyPositioningListener=g(T0,{optional:!0,skipSelf:!0});_document=g(et);_data;_onDestroy=new ge;_renderRows;_renderChangeSubscription;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role");return e==="grid"||e==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}_trackByFn;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;contentChanged=new Je;viewChange=new Ji({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;_injector=g($e);constructor(){g(new vo("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable=this._elementRef.nativeElement.nodeName==="TABLE",this._dataDiffer=this._differs.find([]).create((n,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r)}ngOnInit(){this._setupStickyStyler(),this._viewportRuler.change().pipe(pt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),qf(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,n,(r,a,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{r.operation===rc.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{let a=n.get(r.currentIndex);a.context.$implicit=r.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let r=MA(this._headerRowOutlet,"thead");r&&(r.style.display=e.length?"":"none")}let n=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,n,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let r=MA(this._footerRowOutlet,"tfoot");r&&(r.style.display=e.length?"":"none")}let n=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...n,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((a,o)=>{this._addStickyColumnStyles([a],this._headerRowDefs[o])}),this._rowDefs.forEach(a=>{let o=[];for(let s=0;s<n.length;s++)this._renderRows[s].rowDef===a&&o.push(n[s]);this._addStickyColumnStyles(o,a)}),r.forEach((a,o)=>{this._addStickyColumnStyles([a],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],n=this._cachedRenderRowsMap;if(this._cachedRenderRowsMap=new Map,!this._data)return e;for(let r=0;r<this._data.length;r++){let a=this._data[r],o=this._getRenderRowsForData(a,r,n.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let s=0;s<o.length;s++){let c=o[s],l=this._cachedRenderRowsMap.get(c.data);l.has(c.rowDef)?l.get(c.rowDef).push(c):l.set(c.rowDef,[c]),e.push(c)}}return e}_getRenderRowsForData(e,n,r){return this._getRowDefs(e,n).map(o=>{let s=r&&r.has(o)?r.get(o):[];if(s.length){let c=s.shift();return c.dataIndex=n,c}else return{data:e,rowDef:o,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),E0(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=E0(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=E0(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=E0(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(n=>!n.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(o,s)=>{let c=!!s.getColumnsDiff();return o||c},n=this._rowDefs.reduce(e,!1);n&&this._forceRenderDataRows();let r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();let a=this._footerRowDefs.reduce(e,!1);return a&&this._forceRenderFooterRows(),n||r||a}_switchDataSource(e){this._data=[],qf(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;qf(this.dataSource)?e=this.dataSource.connect(this):Gh(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=He(this.dataSource)),this._renderChangeSubscription=e.pipe(pt(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,n)=>this._renderRow(this._headerRowOutlet,e,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,n)=>this._renderRow(this._footerRowOutlet,e,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,n){let r=Array.from(n?.columns||[]).map(s=>{let c=this._columnDefsByName.get(s);return c}),a=r.map(s=>s.sticky),o=r.map(s=>s.stickyEnd);this._stickyStyler.updateStickyColumns(e,a,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let n=[];for(let r=0;r<e.viewContainer.length;r++){let a=e.viewContainer.get(r);n.push(a.rootNodes[0])}return n}_getRowDefs(e,n){if(this._rowDefs.length==1)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(a=>!a.when||a.when(n,e));else{let a=this._rowDefs.find(o=>o.when&&o.when(n,e))||this._defaultRowDef;a&&r.push(a)}return r.length,r}_getEmbeddedViewArgs(e,n){let r=e.rowDef,a={$implicit:e.data};return{templateRef:r.template,context:a,index:n}}_renderRow(e,n,r,a={}){let o=e.viewContainer.createEmbeddedView(n.template,a,r);return this._renderCellTemplateForItem(n,a),o}_renderCellTemplateForItem(e,n){for(let r of this._getCellTemplates(e))Dl.mostRecentCellOutlet&&Dl.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let n=0,r=e.length;n<r;n++){let o=e.get(n).context;o.count=r,o.first=n===0,o.last=n===r-1,o.even=n%2===0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[n].dataIndex,o.renderIndex=n):o.index=this._renderRows[n].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,n=>{let r=this._columnDefsByName.get(n);return e.extractCellTemplate(r)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(n,r)=>n||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new Mw(this._isNativeHtmlTable,this.stickyCssClass,this._platform.isBrowser,this.needsPositionStickyOnElement,e,this._stickyPositioningListener,this._injector),(this._dir?this._dir.change:He()).pipe(pt(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let n=this._rowOutlet.viewContainer.length===0;if(n===this._isShowingNoDataRow)return;let r=this._noDataRowOutlet.viewContainer;if(n){let a=r.createEmbeddedView(e.templateRef),o=a.rootNodes[0];a.rootNodes.length===1&&o?.nodeType===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=n,this._changeDetectorRef.markForCheck()}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(n,r,a){if(n&1&&(ft(a,LA,5),ft(a,su,5),ft(a,I0,5),ft(a,Xf,5),ft(a,Fw,5)),n&2){let o;ve(o=ye())&&(r._noDataRow=o.first),ve(o=ye())&&(r._contentColumnDefs=o),ve(o=ye())&&(r._contentRowDefs=o),ve(o=ye())&&(r._contentHeaderRowDefs=o),ve(o=ye())&&(r._contentFooterRowDefs=o)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(n,r){n&2&&xe("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",Fe],fixedLayout:[2,"fixedLayout","fixedLayout",Fe]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[Tt([{provide:$a,useExisting:i},{provide:ou,useClass:kl},{provide:T0,useValue:null}])],ngContentSelectors:f5,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){n&1&&(Ot(h5),Qe(0),Qe(1,1),rt(2,m5,1,0),rt(3,p5,7,0)(4,g5,4,0)),n&2&&(B(2),at(r._isServer?2:-1),B(),at(r._isNativeHtmlTable?3:4))},dependencies:[Vw,Lw,Uw,Bw],styles:[`.cdk-table-fixed-layout{table-layout:fixed}
`],encapsulation:2})}return i})();function E0(i,t){return i.concat(Array.from(t))}function MA(i,t){let e=t.toUpperCase(),n=i.viewContainer.element.nativeElement;for(;n;){let r=n.nodeType===1?n.nodeName:null;if(r===e)return n;if(r==="TABLE")break;n=n.parentNode}return null}var VA=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[Kf]})}return i})();var Yf=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new ge;constructor(t=!1,e,n=!0,r){this._multiple=t,this._emitChanges=n,this.compareWith=r,e&&e.length&&(t?e.forEach(a=>this._markSelected(a)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(n=>this._markSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(n=>this._unmarkSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);let e=this.selected,n=new Set(t.map(a=>this._getConcreteValue(a)));t.forEach(a=>this._markSelected(a)),e.filter(a=>!n.has(this._getConcreteValue(a,n))).forEach(a=>this._unmarkSelected(a));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let n of e)if(this.compareWith(t,n))return n;return t}else return t}};var v5=[[["caption"]],[["colgroup"],["col"]],"*"],y5=["caption","colgroup, col","*"];function b5(i,t){i&1&&Qe(0,2)}function w5(i,t){i&1&&(P(0,"thead",0),Gi(1,1),V(),P(2,"tbody",2),Gi(3,3)(4,4),V(),P(5,"tfoot",0),Gi(6,5),V())}function x5(i,t){i&1&&Gi(0,1)(1,3)(2,4)(3,5)}var ac=(()=>{class i extends zw{stickyCssClass="mat-mdc-table-sticky";needsPositionStickyOnElement=!1;static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275cmp=pe({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(n,r){n&2&&xe("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[Tt([{provide:zw,useExisting:i},{provide:$a,useExisting:i},{provide:ou,useClass:kl},{provide:T0,useValue:null}]),dt],ngContentSelectors:y5,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){n&1&&(Ot(v5),Qe(0),Qe(1,1),rt(2,b5,1,0),rt(3,w5,7,0)(4,x5,4,0)),n&2&&(B(2),at(r._isServer?2:-1),B(),at(r._isNativeHtmlTable?3:4))},dependencies:[Vw,Lw,Uw,Bw],styles:[`.mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:var(--mat-table-header-container-height, 56px)}mat-row{min-height:var(--mat-table-row-item-container-height, 52px)}mat-footer-row{min-height:var(--mat-table-footer-container-height, 52px)}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-sys-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-sys-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-sys-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-sys-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-sys-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mdc-data-table__row:last-child>.mat-mdc-header-cell{border-bottom:none}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child>.mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}
`],encapsulation:2})}return i})(),cu=(()=>{class i extends S0{static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["","matCellDef",""]],features:[Tt([{provide:S0,useExisting:i}]),dt]})}return i})(),lu=(()=>{class i extends k0{static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["","matHeaderCellDef",""]],features:[Tt([{provide:k0,useExisting:i}]),dt]})}return i})();var du=(()=>{class i extends su{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},features:[Tt([{provide:su,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),dt]})}return i})(),uu=(()=>{class i extends PA{static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[dt]})}return i})();var hu=(()=>{class i extends NA{static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[dt]})}return i})();var fu=(()=>{class i extends Xf{static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",Fe]},features:[Tt([{provide:Xf,useExisting:i}]),dt]})}return i})();var mu=(()=>{class i extends I0{static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},features:[Tt([{provide:I0,useExisting:i}]),dt]})}return i})(),pu=(()=>{class i extends Pw{static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275cmp=pe({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[Tt([{provide:Pw,useExisting:i}]),dt],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&Gi(0,0)},dependencies:[Dl],encapsulation:2})}return i})();var gu=(()=>{class i extends Nw{static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275cmp=pe({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[Tt([{provide:Nw,useExisting:i}]),dt],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&Gi(0,0)},dependencies:[Dl],encapsulation:2})}return i})();var oc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[ot,VA,ot]})}return i})(),E5=9007199254740991,Qf=class extends Gf{_data;_renderData=new Ji([]);_filter=new Ji("");_internalPageChanges=new ge;_renderChangesSubscription=null;filteredData;get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}_sort;get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_paginator;sortingDataAccessor=(t,e)=>{let n=t[e];if(c0(n)){let r=Number(n);return r<E5?r:n}return n};sortData=(t,e)=>{let n=e.active,r=e.direction;return!n||r==""?t:t.sort((a,o)=>{let s=this.sortingDataAccessor(a,n),c=this.sortingDataAccessor(o,n),l=typeof s,d=typeof c;l!==d&&(l==="number"&&(s+=""),d==="number"&&(c+=""));let h=0;return s!=null&&c!=null?s>c?h=1:s<c&&(h=-1):s!=null?h=1:c!=null&&(h=-1),h*(r=="asc"?1:-1)})};filterPredicate=(t,e)=>{let n=e.trim().toLowerCase();return Object.values(t).some(r=>`${r}`.toLowerCase().includes(n))};constructor(t=[]){super(),this._data=new Ji(t),this._updateChangeSubscription()}_updateChangeSubscription(){let t=this._sort?Vi(this._sort.sortChange,this._sort.initialized):He(null),e=this._paginator?Vi(this._paginator.page,this._internalPageChanges,this._paginator.initialized):He(null),n=this._data,r=Br([n,this._filter]).pipe(De(([s])=>this._filterData(s))),a=Br([r,t]).pipe(De(([s])=>this._orderData(s))),o=Br([a,e]).pipe(De(([s])=>this._pageData(s)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=o.subscribe(s=>this._renderData.next(s))}_filterData(t){return this.filteredData=this.filter==null||this.filter===""?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;let e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{let e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){let n=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,n);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}};var Zf=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Ga=class extends Zf{component;viewContainerRef;injector;projectableNodes;constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.projectableNodes=r}},qa=class extends Zf{templateRef;viewContainerRef;context;injector;constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Hw=class extends Zf{element;constructor(t){super(),this.element=t instanceof Ce?t.nativeElement:t}},sc=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Ga)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof qa)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Hw)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},Jf=class extends sc{outletElement;_appRef;_defaultInjector;constructor(t,e,n){super(),this.outletElement=t,this._appRef=e,this._defaultInjector=n}attachComponentPortal(t){let e;if(t.viewContainerRef){let n=t.injector||t.viewContainerRef.injector,r=n.get(ug,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:n,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let n=this._appRef,r=t.injector||this._defaultInjector||$e.NULL,a=r.get(Oi,n.injector);e=gg(t.component,{elementInjector:r,environmentInjector:a,projectableNodes:t.projectableNodes||void 0}),n.attachView(e.hostView),this.setDisposeFn(()=>{n.viewCount>0&&n.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);r!==-1&&e.remove(r)}),this._attachedPortal=t,n}attachDomPortal=t=>{let e=t.element;e.parentNode;let n=this.outletElement.ownerDocument.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var cc=(()=>{class i extends sc{_moduleRef=g(ug,{optional:!0});_document=g(et);_viewContainerRef=g($i);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new Je;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=n.createComponent(e.component,{index:n.length,injector:e.injector||n.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=e=>{let n=e.element;n.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),n.parentNode.insertBefore(r,n),this._getRootNode().appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(n,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[dt]})}return i})();var us=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({})}return i})();var BA=b0();function yu(i){return new D0(i.get(aa),i.get(et))}var D0=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=cn(-this._previousScrollPosition.left),t.style.top=cn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,n=t.style,r=e.style,a=n.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),BA&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),BA&&(n.scrollBehavior=a,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};function GA(i,t){return new A0(i.get(Eo),i.get(Me),i.get(aa),t)}var A0=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Dt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var em=class{enable(){}disable(){}attach(){}};function Ww(i,t){return t.some(e=>{let n=i.bottom<e.top,r=i.top>e.bottom,a=i.right<e.left,o=i.left>e.right;return n||r||a||o})}function UA(i,t){return t.some(e=>{let n=i.top<e.top,r=i.bottom>e.bottom,a=i.left<e.left,o=i.right>e.right;return n||r||a||o})}function oa(i,t){return new R0(i.get(Eo),i.get(aa),i.get(Me),t)}var R0=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();Ww(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},qA=(()=>{class i{_injector=g($e);constructor(){}noop=()=>new em;close=e=>GA(this._injector,e);block=()=>yu(this._injector);reposition=e=>oa(this._injector,e);static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ka=class{positionStrategy;scrollStrategy=new em;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let e=Object.keys(t);for(let n of e)t[n]!==void 0&&(this[n]=t[n])}}};var M0=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var KA=(()=>{class i{_attachedOverlays=[];_document=g(et);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),XA=(()=>{class i extends KA{_ngZone=g(Me);_renderer=g(Kn).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let n=this._attachedOverlays;for(let r=n.length-1;r>-1;r--)if(n[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),YA=(()=>{class i extends KA{_platform=g(vt);_ngZone=g(Me);_renderer=g(Kn).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let n=this._document.body,r={capture:!0},a=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[a.listen(n,"pointerdown",this._pointerDownListener,r),a.listen(n,"click",this._clickListener,r),a.listen(n,"auxclick",this._clickListener,r),a.listen(n,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=Dr(e)};_clickListener=e=>{let n=Dr(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let a=this._attachedOverlays.slice();for(let o=a.length-1;o>-1;o--){let s=a[o];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(zA(s.overlayElement,n)||zA(s.overlayElement,r))break;let c=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(e)):c.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function zA(i,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=t;for(;n;){if(n===i)return!0;n=e&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var QA=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return i})(),P0=(()=>{class i{_platform=g(vt);_containerElement;_document=g(et);_styleLoader=g(ui);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Tw()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}let n=this._document.createElement("div");n.classList.add(e),Tw()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(QA)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),$w=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,e,n,r){this._renderer=e,this._ngZone=n,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},_u=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new ge;_attachments=new ge;_detachments=new ge;_positionStrategy;_scrollStrategy;_locationChanges=Zi.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new ge;_outsidePointerEvents=new ge;_afterNextRenderRef;constructor(t,e,n,r,a,o,s,c,l,d=!1,h,f){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=a,this._keyboardDispatcher=o,this._document=s,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._injector=h,this._renderer=f,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=bi(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=ae(ae({},this._config),t),this._updateElementSize()}setDirection(t){this._config=kt(ae({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=cn(this._config.width),t.height=cn(this._config.height),t.minWidth=cn(this._config.minWidth),t.minHeight=cn(this._config.minHeight),t.maxWidth=cn(this._config.maxWidth),t.maxHeight=cn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new $w(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,e,n){let r=eu(e||[]).filter(a=>!!a);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){let t=!1;try{this._detachContentAfterRenderRef=bi(()=>{t=!0,this._detachContent()},{injector:this._injector})}catch(e){if(t)throw e;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},jA="cdk-overlay-connected-position-bounding-box",C5=/([A-Za-z%]+)$/;function Rl(i,t){return new O0(t,i.get(aa),i.get(et),i.get(vt),i.get(P0))}var O0=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new ge;_resizeSubscription=Zi.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,n,r,a){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=a,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(jA),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,a=[],o;for(let s of this._preferredPositions){let c=this._getOriginPoint(t,r,s),l=this._getOverlayPoint(c,e,s),d=this._getOverlayFit(l,e,n,s);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,c);return}if(this._canFitWithFlexibleDimensions(d,l,n)){a.push({position:s,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,s)});continue}(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:l,originPoint:c,position:s,overlayRect:e})}if(a.length){let s=null,c=-1;for(let l of a){let d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,s=l)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Al(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(jA),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let r;if(n.originX=="center")r=t.left+t.width/2;else{let o=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;r=n.originX=="start"?o:s}e.left<0&&(r-=e.left);let a;return n.originY=="center"?a=t.top+t.height/2:a=n.originY=="top"?t.top:t.bottom,e.top<0&&(a-=e.top),{x:r,y:a}}_getOverlayPoint(t,e,n){let r;n.overlayX=="center"?r=-e.width/2:n.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let a;return n.overlayY=="center"?a=-e.height/2:a=n.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+a}}_getOverlayFit(t,e,n,r){let a=WA(e),{x:o,y:s}=t,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(o+=c),l&&(s+=l);let d=0-o,h=o+a.width-n.width,f=0-s,m=s+a.height-n.height,v=this._subtractOverflows(a.width,d,h),_=this._subtractOverflows(a.height,f,m),y=v*_;return{visibleArea:y,isCompletelyWithinViewport:a.width*a.height===y,fitsInViewportVertically:_===a.height,fitsInViewportHorizontally:v==a.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){let r=n.bottom-e.y,a=n.right-e.x,o=HA(this._overlayRef.getConfig().minHeight),s=HA(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportVertically||o!=null&&o<=r,l=t.fitsInViewportHorizontally||s!=null&&s<=a;return c&&l}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=WA(e),a=this._viewportRect,o=Math.max(t.x+r.width-a.width,0),s=Math.max(t.y+r.height-a.height,0),c=Math.max(a.top-n.top-t.y,0),l=Math.max(a.left-n.left-t.x,0),d=0,h=0;return r.width<=a.width?d=l||-o:d=t.x<this._viewportMargin?a.left-n.left-t.x:0,r.height<=a.height?h=c||-s:h=t.y<this._viewportMargin?a.top-n.top-t.y:0,this._previousPushAmount={x:d,y:h},{x:t.x+d,y:t.y+h}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!T5(this._lastScrollVisibility,n)){let r=new M0(t,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){let n=this._viewportRect,r=this._isRtl(),a,o,s;if(e.overlayY==="top")o=t.y,a=n.height-o+this._viewportMargin;else if(e.overlayY==="bottom")s=n.height-t.y+this._viewportMargin*2,a=n.height-s+this._viewportMargin;else{let m=Math.min(n.bottom-t.y+n.top,t.y),v=this._lastBoundingBoxSize.height;a=m*2,o=t.y-m,a>v&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-v/2)}let c=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,l=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,d,h,f;if(l)f=n.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(c)h=t.x,d=n.right-t.x;else{let m=Math.min(n.right-t.x+n.left,t.x),v=this._lastBoundingBoxSize.width;d=m*2,h=t.x-m,d>v&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.x-v/2)}return{top:o,left:h,bottom:s,right:f,width:d,height:a}}_setBoundingBoxStyles(t,e){let n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let a=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=cn(n.height),r.top=cn(n.top),r.bottom=cn(n.bottom),r.width=cn(n.width),r.left=cn(n.left),r.right=cn(n.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",a&&(r.maxHeight=cn(a)),o&&(r.maxWidth=cn(o))}this._lastBoundingBoxSize=n,Al(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Al(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Al(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let n={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();Al(n,this._getExactOverlayY(e,t,d)),Al(n,this._getExactOverlayX(e,t,d))}else n.position="static";let s="",c=this._getOffset(e,"x"),l=this._getOffset(e,"y");c&&(s+=`translateX(${c}px) `),l&&(s+=`translateY(${l}px)`),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=cn(o.maxHeight):a&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=cn(o.maxWidth):a&&(n.maxWidth="")),Al(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,n)),t.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;r.bottom=`${o-(a.y+this._overlayRect.height)}px`}else r.top=cn(a.y);return r}_getExactOverlayX(t,e,n){let r={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,n));let o;if(this._isRtl()?o=t.overlayX==="end"?"left":"right":o=t.overlayX==="end"?"right":"left",o==="right"){let s=this._document.documentElement.clientWidth;r.right=`${s-(a.x+this._overlayRect.width)}px`}else r.left=cn(a.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:UA(t,n),isOriginOutsideView:Ww(t,n),isOverlayClipped:UA(e,n),isOverlayOutsideView:Ww(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&eu(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Ce)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}};function Al(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function HA(i){if(typeof i!="number"&&i!=null){let[t,e]=i.split(C5);return!e||e==="px"?parseFloat(t):null}return i||null}function WA(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}function T5(i,t){return i===t?!0:i.isOriginClipped===t.isOriginClipped&&i.isOriginOutsideView===t.isOriginOutsideView&&i.isOverlayClipped===t.isOverlayClipped&&i.isOverlayOutsideView===t.isOverlayOutsideView}var $A="cdk-global-overlay-wrapper";function lc(i){return new F0}var F0=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add($A),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:o,maxHeight:s}=n,c=(r==="100%"||r==="100vw")&&(!o||o==="100%"||o==="100vw"),l=(a==="100%"||a==="100vh")&&(!s||s==="100%"||s==="100vh"),d=this._xPosition,h=this._xOffset,f=this._overlayRef.getConfig().direction==="rtl",m="",v="",_="";c?_="flex-start":d==="center"?(_="center",f?v=h:m=h):f?d==="left"||d==="end"?(_="flex-end",m=h):(d==="right"||d==="start")&&(_="flex-start",v=h):d==="left"||d==="start"?(_="flex-start",m=h):(d==="right"||d==="end")&&(_="flex-end",v=h),t.position=this._cssPosition,t.marginLeft=c?"0":m,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":v,e.justifyContent=_,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove($A),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},ZA=(()=>{class i{_injector=g($e);constructor(){}global(){return lc()}flexibleConnectedTo(e){return Rl(this._injector,e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Ya(i,t){i.get(ui).load(QA);let e=i.get(P0),n=i.get(et),r=i.get(xi),a=i.get(Jr),o=i.get(Fi),s=n.createElement("div"),c=n.createElement("div");c.id=r.getId("cdk-overlay-"),c.classList.add("cdk-overlay-pane"),s.appendChild(c),e.getContainerElement().appendChild(s);let l=new Jf(c,a,i),d=new Ka(t),h=i.get(Jt,null,{optional:!0})||i.get(Kn).createRenderer(null,null);return d.direction=d.direction||o.value,new _u(l,s,c,d,i.get(Me),i.get(XA),n,i.get(Xs),i.get(YA),t?.disableAnimations??i.get(Ad,null,{optional:!0})==="NoopAnimations",i.get(Oi),h)}var JA=(()=>{class i{scrollStrategies=g(qA);_positionBuilder=g(ZA);_injector=g($e);constructor(){}create(e){return Ya(this._injector,e)}position(){return this._positionBuilder}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),S5=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],eR=new se("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let i=g($e);return()=>oa(i)}}),vu=(()=>{class i{elementRef=g(Ce);constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return i})(),N0=(()=>{class i{_dir=g(Fi,{optional:!0});_injector=g($e);_overlayRef;_templatePortal;_backdropSubscription=Zi.EMPTY;_attachSubscription=Zi.EMPTY;_detachSubscription=Zi.EMPTY;_positionSubscription=Zi.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=g(eR);_disposeOnNavigation=!1;_ngZone=g(Me);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}backdropClick=new Je;positionChange=new Je;attach=new Je;detach=new Je;overlayKeydown=new Je;overlayOutsideClick=new Je;constructor(){let e=g(yi),n=g($i);this._templatePortal=new qa(e,n),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=S5);let e=this._overlayRef=Ya(this._injector,this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!gn(n)&&(n.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let r=this._getOriginElement(),a=Dr(n);(!r||r!==a&&!r.contains(a))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new Ka({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){let n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=Rl(this._injector,this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof vu?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof vu?this.origin.elementRef.nativeElement:this.origin instanceof Ce?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(_k(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Fe],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Fe],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Fe],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Fe],push:[2,"cdkConnectedOverlayPush","push",Fe],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Fe]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[ci]})}return i})();function k5(i){let t=g($e);return()=>oa(t)}var I5={provide:eR,useFactory:k5},sa=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({providers:[JA,I5],imports:[ic,us,Kf,Kf]})}return i})();function D5(i,t){if(i&1){let e=mt();P(0,"div",1)(1,"button",2),fe("click",function(){Ae(e);let r=ee();return Re(r.action())}),Y(2),V()()}if(i&2){let e=ee();B(2),jt(" ",e.data.action," ")}}var A5=["label"];function R5(i,t){}var M5=Math.pow(2,31)-1,tm=class{_overlayRef;instance;containerInstance;_afterDismissed=new ge;_afterOpened=new ge;_onAction=new ge;_durationTimeoutId;_dismissedByAction=!1;constructor(t,e){this._overlayRef=e,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,M5))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},tR=new se("MatSnackBarData"),bu=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},O5=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return i})(),F5=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return i})(),P5=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return i})(),iR=(()=>{class i{snackBarRef=g(tm);data=g(tR);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(n,r){n&1&&(P(0,"div",0),Y(1),V(),rt(2,D5,3,1,"div",1)),n&2&&(B(),jt(" ",r.data.message,`
`),B(),at(r.hasAction?2:-1))},dependencies:[vn,O5,F5,P5],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return i})(),Gw="_mat-snack-bar-enter",qw="_mat-snack-bar-exit",N5=(()=>{class i extends sc{_ngZone=g(Me);_elementRef=g(Ce);_changeDetectorRef=g(bt);_platform=g(vt);_animationsDisabled=Wt();snackBarConfig=g(bu);_document=g(et);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=g($e);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new ge;_onExit=new ge;_onEnter=new ge;_animationState="void";_live;_label;_role;_liveElementId=g(xi).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),n}attachTemplatePortal(e){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),n}attachDomPortal=e=>{this._assertNotAttached();let n=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),n};onAnimationEnd(e){e===qw?this._completeExit():e===Gw&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?bi(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Gw)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(Gw)},200)))}exit(){return this._destroyed?He(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?bi(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(qw)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(qw),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(o=>e.classList.add(o)):e.classList.add(n)),this._exposeToModals();let r=this._label.nativeElement,a="mdc-snackbar__label";r.classList.toggle(a,!r.querySelector(`.${a}`))}_exposeToModals(){let e=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let a=n[r],o=a.getAttribute("aria-owns");this._trackedModals.add(a),o?o.indexOf(e)===-1&&a.setAttribute("aria-owns",o+" "+e):a.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let n=e.getAttribute("aria-owns");if(n){let r=n.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,n=e.querySelector("[aria-hidden]"),r=e.querySelector("[aria-live]");if(n&&r){let a=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(a=document.activeElement),n.removeAttribute("aria-hidden"),r.appendChild(n),a?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,r){if(n&1&&(lt(cc,7),lt(A5,7)),n&2){let a;ve(a=ye())&&(r._portalOutlet=a.first),ve(a=ye())&&(r._label=a.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(n,r){n&1&&fe("animationend",function(o){return r.onAnimationEnd(o.animationName)})("animationcancel",function(o){return r.onAnimationEnd(o.animationName)}),n&2&&xe("mat-snack-bar-container-enter",r._animationState==="visible")("mat-snack-bar-container-exit",r._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!r._animationsDisabled)},features:[dt],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,r){n&1&&(P(0,"div",1)(1,"div",2,0)(3,"div",3),ke(4,R5,0,0,"ng-template",4),V(),Ne(5,"div"),V()()),n&2&&(B(5),Ge("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[cc],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return i})();function L5(){return new bu}var V5=new se("mat-snack-bar-default-options",{providedIn:"root",factory:L5}),Kw=(()=>{class i{_live=g(El);_injector=g($e);_breakpointObserver=g(Nf);_parentSnackBar=g(i,{optional:!0,skipSelf:!0});_defaultConfig=g(V5);_animationsDisabled=Wt();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=iR;snackBarContainerComponent=N5;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",r){let a=ae(ae({},this._defaultConfig),r);return a.data={message:e,action:n},a.announcementMessage===e&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){let r=n&&n.viewContainerRef&&n.viewContainerRef.injector,a=$e.create({parent:r||this._injector,providers:[{provide:bu,useValue:n}]}),o=new Ga(this.snackBarContainerComponent,n.viewContainerRef,a),s=e.attach(o);return s.instance.snackBarConfig=n,s.instance}_attach(e,n){let r=ae(ae(ae({},new bu),this._defaultConfig),n),a=this._createOverlay(r),o=this._attachSnackBarContainer(a,r),s=new tm(o,a);if(e instanceof yi){let c=new qa(e,null,{$implicit:r.data,snackBarRef:s});s.instance=o.attachTemplatePortal(c)}else{let c=this._createInjector(r,s),l=new Ga(e,void 0,c),d=o.attachComponentPortal(l);s.instance=d.instance}return this._breakpointObserver.observe(xA.HandsetPortrait).pipe(pt(a.detachments())).subscribe(c=>{a.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(s,r),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let n=new Ka;n.direction=e.direction;let r=lc(this._injector),a=e.direction==="rtl",o=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!a||e.horizontalPosition==="end"&&a,s=!o&&e.horizontalPosition!=="center";return o?r.left("0"):s?r.right("0"):r.centerHorizontally(),e.verticalPosition==="top"?r.top("0"):r.bottom("0"),n.positionStrategy=r,n.disableAnimations=this._animationsDisabled,Ya(this._injector,n)}_createInjector(e,n){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector;return $e.create({parent:r||this._injector,providers:[{provide:tm,useValue:n},{provide:tR,useValue:e.data}]})}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var nR=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({providers:[Kw],imports:[sa,us,li,ot,iR,ot]})}return i})();function B5(i,t){}var dc=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var Yw=(()=>{class i extends sc{_elementRef=g(Ce);_focusTrapFactory=g(Lf);_config;_interactivityChecker=g(iu);_ngZone=g(Me);_focusMonitor=g(Ln);_renderer=g(Jt);_changeDetectorRef=g(bt);_injector=g($e);_platform=g(vt);_document=g(et);_portalOutlet;_focusTrapped=new ge;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=g(dc,{optional:!0})||new dc,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let n=this._ariaLabelledByQueue.indexOf(e);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}attachDomPortal=e=>{this._portalOutlet.hasAttached();let n=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),n};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{a(),o(),e.removeAttribute("tabindex")},a=this._renderer.listen(e,"blur",r),o=this._renderer.listen(e,"mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_trapFocus(e){this._isDestroyed||bi(()=>{let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,n=null;if(typeof e=="string"?n=this._document.querySelector(e):typeof e=="boolean"?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&typeof n.focus=="function"){let r=Jd(),a=this._elementRef.nativeElement;(!r||r===this._document.body||r===a||a.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus?.(e)}_containsFocus(){let e=this._elementRef.nativeElement,n=Jd();return e===n||e.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Jd()))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(n&1&&lt(cc,7),n&2){let a;ve(a=ye())&&(r._portalOutlet=a.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){n&2&&Ge("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[dt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){n&1&&ke(0,B5,0,0,"ng-template",0)},dependencies:[cc],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return i})(),im=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new ge;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,e){this.overlayRef=t,this.config=e,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!gn(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=t.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(t,e){if(this._canClose(t)){let n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}_canClose(t){let e=this.config;return!!this.containerInstance&&(!e.closePredicate||e.closePredicate(t,e,this.componentInstance))}},U5=new se("DialogScrollStrategy",{providedIn:"root",factory:()=>{let i=g($e);return()=>yu(i)}}),z5=new se("DialogData"),j5=new se("DefaultDialogConfig");function H5(i){let t=it(i),e=new Je;return{valueSignal:t,get value(){return t()},change:e,ngOnDestroy(){e.complete()}}}var Qw=(()=>{class i{_injector=g($e);_defaultOptions=g(j5,{optional:!0});_parentDialog=g(i,{optional:!0,skipSelf:!0});_overlayContainer=g(P0);_idGenerator=g(xi);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new ge;_afterOpenedAtThisLevel=new ge;_ariaHiddenElements=new Map;_scrollStrategy=g(U5);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Ur(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Si(void 0)));constructor(){}open(e,n){let r=this._defaultOptions||new dc;n=ae(ae({},r),n),n.id=n.id||this._idGenerator.getId("cdk-dialog-"),n.id&&this.getDialogById(n.id);let a=this._getOverlayConfig(n),o=Ya(this._injector,a),s=new im(o,n),c=this._attachContainer(o,s,n);if(s.containerInstance=c,!this.openDialogs.length){let l=this._overlayContainer.getContainerElement();c._focusTrapped?c._focusTrapped.pipe(fi(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(l)}):this._hideNonDialogContentFromAssistiveTechnology(l)}return this._attachDialogContent(e,s,c,n),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){Xw(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){Xw(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),Xw(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let n=new Ka({positionStrategy:e.positionStrategy||lc().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation,disableAnimations:e.disableAnimations});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,r){let a=r.injector||r.viewContainerRef?.injector,o=[{provide:dc,useValue:r},{provide:im,useValue:n},{provide:_u,useValue:e}],s;r.container?typeof r.container=="function"?s=r.container:(s=r.container.type,o.push(...r.container.providers(r))):s=Yw;let c=new Ga(s,r.viewContainerRef,$e.create({parent:a||this._injector,providers:o}));return e.attach(c).instance}_attachDialogContent(e,n,r,a){if(e instanceof yi){let o=this._createInjector(a,n,r,void 0),s={$implicit:a.data,dialogRef:n};a.templateContext&&(s=ae(ae({},s),typeof a.templateContext=="function"?a.templateContext():a.templateContext)),r.attachTemplatePortal(new qa(e,null,s,o))}else{let o=this._createInjector(a,n,r,this._injector),s=r.attachComponentPortal(new Ga(e,a.viewContainerRef,o));n.componentRef=s,n.componentInstance=s.instance}}_createInjector(e,n,r,a){let o=e.injector||e.viewContainerRef?.injector,s=[{provide:z5,useValue:e.data},{provide:im,useValue:n}];return e.providers&&(typeof e.providers=="function"?s.push(...e.providers(n,e,r)):s.push(...e.providers)),e.direction&&(!o||!o.get(Fi,null,{optional:!0}))&&s.push({provide:Fi,useValue:H5(e.direction)}),$e.create({parent:o||a,providers:s})}_removeOpenDialog(e,n){let r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,o)=>{a?o.setAttribute("aria-hidden",a):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let n=e.parentElement.children;for(let r=n.length-1;r>-1;r--){let a=n[r];a!==e&&a.nodeName!=="SCRIPT"&&a.nodeName!=="STYLE"&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Xw(i,t){let e=i.length;for(;e--;)t(i[e])}var rR=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({providers:[Qw],imports:[sa,us,Vf,us]})}return i})();function W5(i,t){}var rm=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration},Zw="mdc-dialog--open",aR="mdc-dialog--opening",oR="mdc-dialog--closing",$5=150,G5=75,lR=(()=>{class i extends Yw{_animationStateChanged=new Je;_animationsEnabled=!Wt();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?cR(this._config.enterAnimationDuration)??$5:0;_exitAnimationDuration=this._animationsEnabled?cR(this._config.exitAnimationDuration)??G5:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(sR,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(aR,Zw)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Zw),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Zw),this._animationsEnabled?(this._hostElement.style.setProperty(sR,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(oR)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(aR,oR)}_waitForAnimationToComplete(e,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let n=super.attachComponentPortal(e);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275cmp=pe({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,r){n&2&&(Sr("id",r._config.id),Ge("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),xe("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},features:[dt],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){n&1&&(P(0,"div",0)(1,"div",1),ke(2,W5,0,0,"ng-template",2),V()())},dependencies:[cc],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return i})(),sR="--mat-dialog-transition-duration";function cR(i){return i==null?null:typeof i=="number"?i:i.endsWith("ms")?Hr(i.substring(0,i.length-2)):i.endsWith("s")?Hr(i.substring(0,i.length-1))*1e3:i==="0"?0:null}var nm=(function(i){return i[i.OPEN=0]="OPEN",i[i.CLOSING=1]="CLOSING",i[i.CLOSED=2]="CLOSED",i})(nm||{}),ca=class{_ref;_config;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new ge;_beforeClosed=new ge;_result;_closeFallbackTimeout;_state=nm.OPEN;_closeInteractionType;constructor(t,e,n){this._ref=t,this._config=e,this._containerInstance=n,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(Dt(r=>r.state==="opened"),fi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Dt(r=>r.state==="closed"),fi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Vi(this.backdropClick(),this.keydownEvents().pipe(Dt(r=>r.keyCode===27&&!this.disableClose&&!gn(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),dR(this,r.type==="keydown"?"keyboard":"mouse"))})}close(t){let e=this._config.closePredicate;e&&!e(t,this._config,this.componentInstance)||(this._result=t,this._containerInstance._animationStateChanged.pipe(Dt(n=>n.state==="closing"),fi(1)).subscribe(n=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=nm.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=nm.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function dR(i,t,e){return i._closeInteractionType=t,i.close(e)}var Co=new se("MatMdcDialogData"),uR=new se("mat-mdc-dialog-default-options"),hR=new se("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let i=g($e);return()=>yu(i)}}),Qa=(()=>{class i{_defaultOptions=g(uR,{optional:!0});_scrollStrategy=g(hR);_parentDialog=g(i,{optional:!0,skipSelf:!0});_idGenerator=g(xi);_injector=g($e);_dialog=g(Qw);_animationsDisabled=Wt();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new ge;_afterOpenedAtThisLevel=new ge;dialogConfigClass=rm;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Ur(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Si(void 0)));constructor(){this._dialogRefConstructor=ca,this._dialogContainerType=lR,this._dialogDataToken=Co}open(e,n){let r;n=ae(ae({},this._defaultOptions||new rm),n),n.id=n.id||this._idGenerator.getId("mat-mdc-dialog-"),n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let a=this._dialog.open(e,kt(ae({},n),{positionStrategy:lc(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||n.enterAnimationDuration?.toLocaleString()==="0"||n.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:dc,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(o,s,c)=>(r=new this._dialogRefConstructor(o,n,c),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=a.componentRef,r.componentInstance=a.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var fR=(()=>{class i{_dialogRef=g(ca,{optional:!0});_elementRef=g(Ce);_dialog=g(Qa);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=q5(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i})}return i})(),am=(()=>{class i extends fR{id=g(xi).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(n,r){n&2&&Sr("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[dt]})}return i})(),om=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[Pk([Il])]})}return i})(),sm=(()=>{class i extends fR{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,r){n&2&&xe("mat-mdc-dialog-actions-align-start",r.align==="start")("mat-mdc-dialog-actions-align-center",r.align==="center")("mat-mdc-dialog-actions-align-end",r.align==="end")},inputs:{align:"align"},features:[dt]})}return i})();function q5(i,t){let e=i.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(n=>n.id===e.id):null}var hs=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({providers:[Qa],imports:[rR,sa,us,ot,ot]})}return i})();var wR=(()=>{class i{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||i)(tt(Jt),tt(Ce))};static \u0275dir=me({type:i})}return i})(),xR=(()=>{class i extends wR{static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275dir=me({type:i,features:[dt]})}return i})(),Ml=new se("");var K5={provide:Ml,useExisting:Tr(()=>To),multi:!0};function X5(){let i=wa()?wa().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Y5=new se(""),To=(()=>{class i extends wR{_compositionMode;_composing=!1;constructor(e,n,r){super(e,n),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!X5())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||i)(tt(Jt),tt(Ce),tt(Y5,8))};static \u0275dir=me({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&fe("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},standalone:!1,features:[Tt([K5]),dt]})}return i})();function ex(i){return i==null||tx(i)===0}function tx(i){return i==null?null:Array.isArray(i)||typeof i=="string"?i.length:i instanceof Set?i.size:null}var Ol=new se(""),ix=new se(""),Q5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Eu=class{static min(t){return ER(t)}static max(t){return Z5(t)}static required(t){return CR(t)}static requiredTrue(t){return J5(t)}static email(t){return e8(t)}static minLength(t){return t8(t)}static maxLength(t){return i8(t)}static pattern(t){return n8(t)}static nullValidator(t){return B0()}static compose(t){return AR(t)}static composeAsync(t){return RR(t)}};function ER(i){return t=>{if(t.value==null||i==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}function Z5(i){return t=>{if(t.value==null||i==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}function CR(i){return ex(i.value)?{required:!0}:null}function J5(i){return i.value===!0?null:{required:!0}}function e8(i){return ex(i.value)||Q5.test(i.value)?null:{email:!0}}function t8(i){return t=>{let e=t.value?.length??tx(t.value);return e===null||e===0?null:e<i?{minlength:{requiredLength:i,actualLength:e}}:null}}function i8(i){return t=>{let e=t.value?.length??tx(t.value);return e!==null&&e>i?{maxlength:{requiredLength:i,actualLength:e}}:null}}function n8(i){if(!i)return B0;let t,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(ex(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function B0(i){return null}function TR(i){return i!=null}function SR(i){return Fd(i)?qn(i):i}function kR(i){let t={};return i.forEach(e=>{t=e!=null?ae(ae({},t),e):t}),Object.keys(t).length===0?null:t}function IR(i,t){return t.map(e=>e(i))}function r8(i){return!i.validate}function DR(i){return i.map(t=>r8(t)?t:e=>t.validate(e))}function AR(i){if(!i)return null;let t=i.filter(TR);return t.length==0?null:function(e){return kR(IR(e,t))}}function nx(i){return i!=null?AR(DR(i)):null}function RR(i){if(!i)return null;let t=i.filter(TR);return t.length==0?null:function(e){let n=IR(e,t).map(SR);return sg(n).pipe(De(kR))}}function rx(i){return i!=null?RR(DR(i)):null}function mR(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function MR(i){return i._rawValidators}function OR(i){return i._rawAsyncValidators}function Jw(i){return i?Array.isArray(i)?i:[i]:[]}function U0(i,t){return Array.isArray(i)?i.includes(t):i===t}function pR(i,t){let e=Jw(t);return Jw(i).forEach(r=>{U0(e,r)||e.push(r)}),e}function gR(i,t){return Jw(t).filter(e=>!U0(i,e))}var z0=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=nx(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=rx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},uc=class extends z0{name;get formDirective(){return null}get path(){return null}},fs=class extends z0{_parent=null;name=null;valueAccessor=null},j0=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},a8={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qme=kt(ae({},a8),{"[class.ng-submitted]":"isSubmitted"}),So=(()=>{class i extends j0{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(tt(fs,2))};static \u0275dir=me({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&xe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[dt]})}return i})(),FR=(()=>{class i extends j0{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(tt(uc,10))};static \u0275dir=me({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&xe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[dt]})}return i})();var cm="VALID",V0="INVALID",wu="PENDING",lm="DISABLED",hc=class{},H0=class extends hc{value;source;constructor(t,e){super(),this.value=t,this.source=e}},um=class extends hc{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},hm=class extends hc{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},xu=class extends hc{status;source;constructor(t,e){super(),this.status=t,this.source=e}},W0=class extends hc{source;constructor(t){super(),this.source=t}},$0=class extends hc{source;constructor(t){super(),this.source=t}};function PR(i){return(Q0(i)?i.validators:i)||null}function o8(i){return Array.isArray(i)?nx(i):i||null}function NR(i,t){return(Q0(t)?t.asyncValidators:i)||null}function s8(i){return Array.isArray(i)?rx(i):i||null}function Q0(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function c8(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new st(1e3,"");if(!n[e])throw new st(1001,"")}function l8(i,t,e){i._forEachChild((n,r)=>{if(e[r]===void 0)throw new st(1002,"")})}var G0=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return mi(this.statusReactive)}set status(t){mi(()=>this.statusReactive.set(t))}_status=Lt(()=>this.statusReactive());statusReactive=it(void 0);get valid(){return this.status===cm}get invalid(){return this.status===V0}get pending(){return this.status==wu}get disabled(){return this.status===lm}get enabled(){return this.status!==lm}errors;get pristine(){return mi(this.pristineReactive)}set pristine(t){mi(()=>this.pristineReactive.set(t))}_pristine=Lt(()=>this.pristineReactive());pristineReactive=it(!0);get dirty(){return!this.pristine}get touched(){return mi(this.touchedReactive)}set touched(t){mi(()=>this.touchedReactive.set(t))}_touched=Lt(()=>this.touchedReactive());touchedReactive=it(!1);get untouched(){return!this.touched}_events=new ge;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(pR(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(pR(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(gR(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(gR(t,this._rawAsyncValidators))}hasValidator(t){return U0(this._rawValidators,t)}hasAsyncValidator(t){return U0(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(kt(ae({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new hm(!0,n))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new hm(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(kt(ae({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new um(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new um(!0,n))}markAsPending(t={}){this.status=wu;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new xu(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(kt(ae({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=lm,this.errors=null,this._forEachChild(r=>{r.disable(kt(ae({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new H0(this.value,n)),this._events.next(new xu(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(kt(ae({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=cm,this._forEachChild(n=>{n.enable(kt(ae({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(kt(ae({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cm||this.status===wu)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new H0(this.value,e)),this._events.next(new xu(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(kt(ae({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lm:cm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=wu,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let n=SR(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new xu(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?lm:this.errors?V0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wu)?wu:this._anyControlsHaveStatus(V0)?V0:cm}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new um(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new hm(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Q0(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=o8(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=s8(this._rawAsyncValidators)}},q0=class extends G0{constructor(t,e,n){super(PR(e),NR(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){l8(this,!0,t),Object.keys(t).forEach(n=>{c8(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,a)=>{n=e(n,r,a)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Z0=new se("",{providedIn:"root",factory:()=>ax}),ax="always";function d8(i,t){return[...t.path,i]}function K0(i,t,e=ax){ox(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),h8(i,t),m8(i,t),f8(i,t),u8(i,t)}function _R(i,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Y0(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function X0(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function u8(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function ox(i,t){let e=MR(i);t.validator!==null?i.setValidators(mR(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=OR(i);t.asyncValidator!==null?i.setAsyncValidators(mR(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();X0(t._rawValidators,r),X0(t._rawAsyncValidators,r)}function Y0(i,t){let e=!1;if(i!==null){if(t.validator!==null){let r=MR(i);if(Array.isArray(r)&&r.length>0){let a=r.filter(o=>o!==t.validator);a.length!==r.length&&(e=!0,i.setValidators(a))}}if(t.asyncValidator!==null){let r=OR(i);if(Array.isArray(r)&&r.length>0){let a=r.filter(o=>o!==t.asyncValidator);a.length!==r.length&&(e=!0,i.setAsyncValidators(a))}}}let n=()=>{};return X0(t._rawValidators,n),X0(t._rawAsyncValidators,n),e}function h8(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&LR(i,t)})}function f8(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&LR(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function LR(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function m8(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function VR(i,t){i==null,ox(i,t)}function p8(i,t){return Y0(i,t)}function g8(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function _8(i){return Object.getPrototypeOf(i.constructor)===xR}function BR(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function v8(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(a=>{a.constructor===To?e=a:_8(a)?n=a:r=a}),r||n||e||null}function y8(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}var b8={provide:uc,useExisting:Tr(()=>Fl)},dm=Promise.resolve(),Fl=(()=>{class i extends uc{callSetDisabledState;get submitted(){return mi(this.submittedReactive)}_submitted=Lt(()=>this.submittedReactive());submittedReactive=it(!1);_directives=new Set;form;ngSubmit=new Je;options;constructor(e,n,r){super(),this.callSetDisabledState=r,this.form=new q0({},nx(e),rx(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){dm.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),K0(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){dm.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){dm.then(()=>{let n=this._findContainer(e.path),r=new q0({});VR(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){dm.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){dm.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),BR(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new W0(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new $0(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(n){return new(n||i)(tt(Ol,10),tt(ix,10),tt(Z0,8))};static \u0275dir=me({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){n&1&&fe("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Tt([b8]),dt]})}return i})();function vR(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function yR(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var UR=class extends G0{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,n){super(PR(e),NR(n,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Q0(e)&&(e.nonNullable||e.initialValueIsDefault)&&(yR(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){vR(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){vR(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){yR(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var w8=i=>i instanceof UR;var x8={provide:fs,useExisting:Tr(()=>Za)},bR=Promise.resolve(),Za=(()=>{class i extends fs{_changeDetectorRef;callSetDisabledState;control=new UR;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Je;constructor(e,n,r,a,o,s){super(),this._changeDetectorRef=o,this.callSetDisabledState=s,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=v8(this,a)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),g8(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){K0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){bR.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&Fe(n);bR.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?d8(e,this._parent):[e]}static \u0275fac=function(n){return new(n||i)(tt(uc,9),tt(Ol,10),tt(ix,10),tt(Ml,10),tt(bt,8),tt(Z0,8))};static \u0275dir=me({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Tt([x8]),dt,ci]})}return i})();var zR=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return i})(),E8={provide:Ml,useExisting:Tr(()=>Pl),multi:!0},Pl=(()=>{class i extends xR{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){n&1&&fe("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Tt([E8]),dt]})}return i})();var C8={provide:uc,useExisting:Tr(()=>fm)},fm=(()=>{class i extends uc{callSetDisabledState;get submitted(){return mi(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Lt(()=>this._submittedReactive());_submittedReactive=it(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Je;constructor(e,n,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Y0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return K0(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){_R(e.control||null,e,!1),y8(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),BR(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new W0(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,n={}){this.form.reset(e,n),this._submittedReactive.set(!1),n?.emitEvent!==!1&&this.form._events.next(new $0(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,r=this.form.get(e.path);n!==r&&(_R(n||null,e),w8(r)&&(K0(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);VR(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&p8(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ox(this.form,this),this._oldForm&&Y0(this._oldForm,this)}static \u0275fac=function(n){return new(n||i)(tt(Ol,10),tt(ix,10),tt(Z0,8))};static \u0275dir=me({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&fe("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Tt([C8]),dt,ci]})}return i})();function T8(i){return typeof i=="number"?i:parseFloat(i)}var jR=(()=>{class i{_validator=B0;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):B0,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,features:[ci]})}return i})();var S8={provide:Ol,useExisting:Tr(()=>mm),multi:!0},mm=(()=>{class i extends jR{min;inputName="min";normalizeInput=e=>T8(e);createValidator=e=>ER(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,r){n&2&&Ge("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[Tt([S8]),dt]})}return i})(),k8={provide:Ol,useExisting:Tr(()=>sx),multi:!0};var sx=(()=>{class i extends jR{required;inputName="required";normalizeInput=Fe;createValidator=e=>CR;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){n&2&&Ge("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Tt([k8]),dt]})}return i})();var I8=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({})}return i})();var Sa=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Z0,useValue:e.callSetDisabledState??ax}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[I8]})}return i})();var Cu=(()=>{class i{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Tu=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,e,n,r,a){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=n,this._parentForm=r,this._stateChanges=a}updateErrorState(){let t=this.errorState,e=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,a=n?.isErrorState(r,e)??!1;a!==t&&(this.errorState=a,this._stateChanges.next())}};var cx=class{_box;_destroyed=new ge;_resizeSubject=new ge;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Li(e=>{let n=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Dt(e=>e.some(n=>n.target===t)),nb({bufferSize:1,refCount:!0}),pt(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},HR=(()=>{class i{_cleanupErrorListener;_observers=new Map;_ngZone=g(Me);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,n){let r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new cx(r)),this._observers.get(r).observe(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var D8=["notch"],A8=["matFormFieldNotchedOutline",""],R8=["*"],WR=["iconPrefixContainer"],$R=["textPrefixContainer"],GR=["iconSuffixContainer"],qR=["textSuffixContainer"],M8=["textField"],O8=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],F8=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function P8(i,t){i&1&&Ne(0,"span",20)}function N8(i,t){if(i&1&&(P(0,"label",19),Qe(1,1),rt(2,P8,1,0,"span",20),V()),i&2){let e=ee(2);Z("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Ge("for",e._control.disableAutomaticLabeling?null:e._control.id),B(2),at(!e.hideRequiredMarker&&e._control.required?2:-1)}}function L8(i,t){if(i&1&&rt(0,N8,3,5,"label",19),i&2){let e=ee();at(e._hasFloatingLabel()?0:-1)}}function V8(i,t){i&1&&Ne(0,"div",7)}function B8(i,t){}function U8(i,t){if(i&1&&ke(0,B8,0,0,"ng-template",13),i&2){ee(2);let e=wi(1);Z("ngTemplateOutlet",e)}}function z8(i,t){if(i&1&&(P(0,"div",9),rt(1,U8,1,1,null,13),V()),i&2){let e=ee();Z("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),B(),at(e._forceDisplayInfixLabel()?-1:1)}}function j8(i,t){i&1&&(P(0,"div",10,2),Qe(2,2),V())}function H8(i,t){i&1&&(P(0,"div",11,3),Qe(2,3),V())}function W8(i,t){}function $8(i,t){if(i&1&&ke(0,W8,0,0,"ng-template",13),i&2){ee();let e=wi(1);Z("ngTemplateOutlet",e)}}function G8(i,t){i&1&&(P(0,"div",14,4),Qe(2,4),V())}function q8(i,t){i&1&&(P(0,"div",15,5),Qe(2,5),V())}function K8(i,t){i&1&&Ne(0,"div",16)}function X8(i,t){i&1&&Qe(0,6)}function Y8(i,t){if(i&1&&(P(0,"mat-hint",21),Y(1),V()),i&2){let e=ee(2);Z("id",e._hintLabelId),B(),_t(e.hintLabel)}}function Q8(i,t){if(i&1&&(rt(0,Y8,2,2,"mat-hint",21),Qe(1,7),Ne(2,"div",22),Qe(3,8)),i&2){let e=ee();at(e.hintLabel?0:-1)}}var Nl=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["mat-label"]]})}return i})(),Z8=new se("MatError");var lx=(()=>{class i{align="start";id=g(xi).getId("mat-mdc-hint-");static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){n&2&&(Sr("id",r.id),Ge("align",null),xe("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return i})(),J8=new se("MatPrefix");var eU=new se("MatSuffix");var e2=new se("FloatingLabelParent"),KR=(()=>{class i{_elementRef=g(Ce);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=g(HR);_ngZone=g(Me);_parent=g(e2);_resizeSubscription=new Zi;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return tU(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){n&2&&xe("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return i})();function tU(i){let t=i;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let n=e.scrollWidth;return e.remove(),n}var XR="mdc-line-ripple--active",J0="mdc-line-ripple--deactivating",YR=(()=>{class i{_elementRef=g(Ce);_cleanupTransitionEnd;constructor(){let e=g(Me),n=g(Jt);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=n.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(J0),e.add(XR)}deactivate(){this._elementRef.nativeElement.classList.add(J0)}_handleTransitionEnd=e=>{let n=this._elementRef.nativeElement.classList,r=n.contains(J0);e.propertyName==="opacity"&&r&&n.remove(XR,J0)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return i})(),QR=(()=>{class i{_elementRef=g(Ce);_ngZone=g(Me);open=!1;_notch;ngAfterViewInit(){let e=this._elementRef.nativeElement,n=e.querySelector(".mdc-floating-label");n?(e.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):e.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){let n=this._notch.nativeElement;!this.open||!e?n.style.width="":n.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}_setMaxWidth(e){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${e}px)`)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(n&1&&lt(D8,5),n&2){let a;ve(a=ye())&&(r._notch=a.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){n&2&&xe("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:A8,ngContentSelectors:R8,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,r){n&1&&(Ot(),Xn(0,"div",1),on(1,"div",2,0),Qe(3),un(),Xn(4,"div",3))},encapsulation:2,changeDetection:0})}return i})(),gm=(()=>{class i{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i})}return i})();var _m=new se("MatFormField"),iU=new se("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ZR="fill",nU="auto",JR="fixed",rU="translateY(-50%)",ms=(()=>{class i{_elementRef=g(Ce);_changeDetectorRef=g(bt);_platform=g(vt);_idGenerator=g(xi);_ngZone=g(Me);_defaults=g(iU,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=ef("iconPrefixContainer");_textPrefixContainerSignal=ef("textPrefixContainer");_iconSuffixContainerSignal=ef("iconSuffixContainer");_textSuffixContainerSignal=ef("textSuffixContainer");_prefixSuffixContainers=Lt(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(e=>e?.nativeElement).filter(e=>e!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=iI(Nl);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ln(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||nU}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(e){let n=e||this._defaults?.appearance||ZR;this._appearanceSignal.set(n)}_appearanceSignal=it(ZR);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||JR}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||JR}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new ge;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=Wt();constructor(){let e=this._defaults,n=g(Fi);e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color)),Ba(()=>this._currentDirection=n.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Lt(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let n=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(r+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=n.stateChanges.pipe(Si([void 0,void 0]),De(()=>[n.errorState,n.userAriaDescribedBy]),lg(),Dt(([[a,o],[s,c]])=>a!==s||o!==c)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe(pt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Vi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){let e=this._control.focused;e&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!e&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",e),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",e)}_syncOutlineLabelOffset(){aI({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(let e of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(e,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:e=>this._writeOutlinedLabelStyles(e())})}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Lt(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let n=this._control?this._control.ngControl:null;return n&&n[e]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let a=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,o=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;a?e.push(a.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(a=>a.id));let n=this._control.describedByIds,r;if(n){let a=this._describedByIds||e;r=e.concat(n.filter(o=>o&&!a.includes(o)))}else r=e;this._control.setDescribedByIds(r),this._describedByIds=e}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let e=this._iconPrefixContainer?.nativeElement,n=this._textPrefixContainer?.nativeElement,r=this._iconSuffixContainer?.nativeElement,a=this._textSuffixContainer?.nativeElement,o=e?.getBoundingClientRect().width??0,s=n?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0,l=a?.getBoundingClientRect().width??0,d=this._currentDirection==="rtl"?"-1":"1",h=`${o+s}px`,m=`calc(${d} * (${h} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,v=`var(--mat-mdc-form-field-label-transform, ${rU} translateX(${m}))`,_=o+s+c+l;return[v,_]}_writeOutlinedLabelStyles(e){if(e!==null){let[n,r]=e;this._floatingLabel&&(this._floatingLabel.element.style.transform=n),r!==null&&this._notchedOutline?._setMaxWidth(r)}}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-form-field"]],contentQueries:function(n,r,a){if(n&1&&($k(a,r._labelChild,Nl,5),ft(a,gm,5),ft(a,J8,5),ft(a,eU,5),ft(a,Z8,5),ft(a,lx,5)),n&2){ub();let o;ve(o=ye())&&(r._formFieldControl=o.first),ve(o=ye())&&(r._prefixChildren=o),ve(o=ye())&&(r._suffixChildren=o),ve(o=ye())&&(r._errorChildren=o),ve(o=ye())&&(r._hintChildren=o)}},viewQuery:function(n,r){if(n&1&&(Jh(r._iconPrefixContainerSignal,WR,5),Jh(r._textPrefixContainerSignal,$R,5),Jh(r._iconSuffixContainerSignal,GR,5),Jh(r._textSuffixContainerSignal,qR,5),lt(M8,5),lt(WR,5),lt($R,5),lt(GR,5),lt(qR,5),lt(KR,5),lt(QR,5),lt(YR,5)),n&2){ub(4);let a;ve(a=ye())&&(r._textField=a.first),ve(a=ye())&&(r._iconPrefixContainer=a.first),ve(a=ye())&&(r._textPrefixContainer=a.first),ve(a=ye())&&(r._iconSuffixContainer=a.first),ve(a=ye())&&(r._textSuffixContainer=a.first),ve(a=ye())&&(r._floatingLabel=a.first),ve(a=ye())&&(r._notchedOutline=a.first),ve(a=ye())&&(r._lineRipple=a.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(n,r){n&2&&xe("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Tt([{provide:_m,useExisting:i},{provide:e2,useExisting:i}])],ngContentSelectors:F8,decls:19,vars:25,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["aria-atomic","true","aria-live","polite"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,r){if(n&1){let a=mt();Ot(O8),ke(0,L8,1,1,"ng-template",null,0,en),P(2,"div",6,1),fe("click",function(s){return Ae(a),Re(r._control.onContainerClick(s))}),rt(4,V8,1,0,"div",7),P(5,"div",8),rt(6,z8,2,2,"div",9),rt(7,j8,3,0,"div",10),rt(8,H8,3,0,"div",11),P(9,"div",12),rt(10,$8,1,1,null,13),Qe(11),V(),rt(12,G8,3,0,"div",14),rt(13,q8,3,0,"div",15),V(),rt(14,K8,1,0,"div",16),V(),P(15,"div",17)(16,"div",18),rt(17,X8,1,0)(18,Q8,4,1),V()()}if(n&2){let a;B(2),xe("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),B(2),at(!r._hasOutline()&&!r._control.disabled?4:-1),B(2),at(r._hasOutline()?6:-1),B(),at(r._hasIconPrefix?7:-1),B(),at(r._hasTextPrefix?8:-1),B(2),at(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),B(2),at(r._hasTextSuffix?12:-1),B(),at(r._hasIconSuffix?13:-1),B(),at(r._hasOutline()?-1:14),B(),xe("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let o=r._getSubscriptMessageType();B(),xe("mat-mdc-form-field-error-wrapper",o==="error")("mat-mdc-form-field-hint-wrapper",o==="hint"),B(),at((a=o)==="error"?17:a==="hint"?18:-1)}},dependencies:[KR,QR,ul,YR,lx],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return i})();var aU=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],oU=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function sU(i,t){i&1&&(P(0,"span",3),Qe(1,1),V())}function cU(i,t){i&1&&(P(0,"span",6),Qe(1,2),V())}var lU=["*"];var dU=new se("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),t2=new se("MatChipAvatar"),i2=new se("MatChipTrailingIcon"),n2=new se("MatChipEdit"),r2=new se("MatChipRemove"),o2=new se("MatChip"),a2=(()=>{class i{_elementRef=g(Ce);_parentChip=g(o2);isInteractive=!0;_isPrimary=!0;_isLeading=!1;get disabled(){return this._disabled||this._parentChip?.disabled||!1}set disabled(e){this._disabled=e}_disabled=!1;tabIndex=-1;_allowFocusWhenDisabled=!1;_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(){g(ui).load(Jn),this._elementRef.nativeElement.nodeName==="BUTTON"&&this._elementRef.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:11,hostBindings:function(n,r){n&1&&fe("click",function(o){return r._handleClick(o)})("keydown",function(o){return r._handleKeydown(o)}),n&2&&(Ge("tabindex",r._getTabindex())("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),xe("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--presentational",!r.isInteractive)("mdc-evolution-chip__action--secondary",!r._isPrimary)("mdc-evolution-chip__action--trailing",!r._isPrimary&&!r._isLeading))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",Fe],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?-1:oi(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"}})}return i})();var dx=(()=>{class i{_changeDetectorRef=g(bt);_elementRef=g(Ce);_tagName=g(eI);_ngZone=g(Me);_focusMonitor=g(Ln);_globalRippleOptions=g(ls,{optional:!0});_document=g(et);_onFocus=new ge;_onBlur=new ge;_isBasicChip;role=null;_hasFocusInternal=!1;_pendingFocus;_actionChanges;_animationsDisabled=Wt();_allLeadingIcons;_allTrailingIcons;_allEditIcons;_allRemoveIcons;_hasFocus(){return this._hasFocusInternal}id=g(xi).getId("mat-mdc-chip-");ariaLabel=null;ariaDescription=null;_chipListDisabled=!1;_hadFocusOnRemove=!1;_textElement;get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}_value;color;removable=!0;highlighted=!1;disableRipple=!1;get disabled(){return this._disabled||this._chipListDisabled}set disabled(e){this._disabled=e}_disabled=!1;removed=new Je;destroyed=new Je;basicChipAttrName="mat-basic-chip";leadingIcon;editIcon;trailingIcon;removeIcon;primaryAction;_rippleLoader=g(x0);_injector=g($e);constructor(){let e=g(ui);e.load(Jn),e.load(ec),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){this._isBasicChip=this._elementRef.nativeElement.hasAttribute(this.basicChipAttrName)||this._tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=Vi(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allEditIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&(this._hadFocusOnRemove=this._hasFocus(),this.removed.emit({chip:this}))}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!this._hasInteractiveActions()||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(e){(e.keyCode===8&&!e.repeat||e.keyCode===46)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(n=>{let r=n._elementRef.nativeElement;return r===e||r.contains(e)})}_getActions(){let e=[];return this.editIcon&&e.push(this.editIcon),this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_hasInteractiveActions(){return this._getActions().some(e=>e.isInteractive)}_edit(e){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{let n=e!==null;n!==this._hasFocusInternal&&(this._hasFocusInternal=n,n?this._onFocus.next({chip:this}):(this._changeDetectorRef.markForCheck(),setTimeout(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})))))})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(n,r,a){if(n&1&&(ft(a,t2,5),ft(a,n2,5),ft(a,i2,5),ft(a,r2,5),ft(a,t2,5),ft(a,i2,5),ft(a,n2,5),ft(a,r2,5)),n&2){let o;ve(o=ye())&&(r.leadingIcon=o.first),ve(o=ye())&&(r.editIcon=o.first),ve(o=ye())&&(r.trailingIcon=o.first),ve(o=ye())&&(r.removeIcon=o.first),ve(o=ye())&&(r._allLeadingIcons=o),ve(o=ye())&&(r._allTrailingIcons=o),ve(o=ye())&&(r._allEditIcons=o),ve(o=ye())&&(r._allRemoveIcons=o)}},viewQuery:function(n,r){if(n&1&&lt(a2,5),n&2){let a;ve(a=ye())&&(r.primaryAction=a.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(n,r){n&1&&fe("keydown",function(o){return r._handleKeydown(o)}),n&2&&(Sr("id",r.id),Ge("role",r.role)("aria-label",r.ariaLabel),sn("mat-"+(r.color||"primary")),xe("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",Fe],highlighted:[2,"highlighted","highlighted",Fe],disableRipple:[2,"disableRipple","disableRipple",Fe],disabled:[2,"disabled","disabled",Fe]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[Tt([{provide:o2,useExisting:i}])],ngContentSelectors:oU,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(n,r){n&1&&(Ot(aU),Ne(0,"span",0),P(1,"span",1)(2,"span",2),rt(3,sU,2,0,"span",3),P(4,"span",4),Qe(5),Ne(6,"span",5),V()()(),rt(7,cU,2,0,"span",6)),n&2&&(B(2),Z("isInteractive",!1),B(),at(r.leadingIcon?3:-1),B(4),at(r._hasTrailingIcon()?7:-1))},dependencies:[a2],styles:[`.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}@media(forced-colors: active){.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{forced-color-adjust:none}}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-outline-width, 1px);border-radius:var(--mat-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mat-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--secondary{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mat-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mat-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mat-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mat-chip-with-avatar-avatar-size, 24px);height:var(--mat-chip-with-avatar-avatar-size, 24px);font-size:var(--mat-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__graphic{padding-left:0}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mat-chip-container-shape-radius, 8px);height:var(--mat-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mat-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mat-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mat-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mat-chip-with-icon-icon-size, 18px);height:var(--mat-chip-with-icon-icon-size, 18px);font-size:var(--mat-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mat-chip-with-icon-icon-color: var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mat-chip-elevated-container-color: var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mat-chip-label-text-color: var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mat-chip-outline-width: var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mat-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mat-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-edit,.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-edit:focus,.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-edit:hover::after,.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-edit:focus::after,.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mat-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-edit::before,.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus .mat-focus-indicator::before{content:""}.mdc-evolution-chip__icon,.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{min-height:fit-content}
`],encapsulation:2,changeDetection:0})}return i})();var s2=(()=>{class i{_elementRef=g(Ce);_changeDetectorRef=g(bt);_dir=g(Fi,{optional:!0});_lastDestroyedFocusedChipIndex=null;_keyManager;_destroyed=new ge;_defaultRole="presentation";get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}_disabled=!1;get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}tabIndex=0;set role(e){this._explicitRole=e}_explicitRole=null;get focused(){return this._hasFocusedChip()}_chips;_chipActions=new Zo;constructor(){}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips?.forEach(e=>{e._chipListDisabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){let e=this._elementRef.nativeElement.tabIndex;e!==-1&&(this._elementRef.nativeElement.tabIndex=-1,setTimeout(()=>this._elementRef.nativeElement.tabIndex=e))}_getChipStream(e){return this._chips.changes.pipe(Si(null),ii(()=>Vi(...this._chips.map(e))))}_originatesFromChip(e){let n=e.target;for(;n&&n!==this._elementRef.nativeElement;){if(n.classList.contains("mat-mdc-chip"))return!0;n=n.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(Si(this._chips)).subscribe(e=>{let n=[];e.forEach(r=>r._getActions().forEach(a=>n.push(a))),this._chipActions.reset(n),this._chipActions.notifyOnChanges()}),this._keyManager=new Cl(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(pt(this._destroyed)).subscribe(({chip:e})=>{let n=e._getSourceAction(document.activeElement);n&&this._keyManager.updateActiveItem(n)}),this._dir?.change.pipe(pt(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(Si(null),pt(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(pt(this._destroyed)).subscribe(e=>{let r=this._chips.toArray().indexOf(e.chip),a=e.chip._hasFocus(),o=e.chip._hadFocusOnRemove&&this._keyManager.activeItem&&e.chip._getActions().includes(this._keyManager.activeItem),s=a||o;this._isValidIndex(r)&&s&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),n=this._chips.toArray()[e];n.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():n.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-chip-set"]],contentQueries:function(n,r,a){if(n&1&&ft(a,dx,5),n&2){let o;ve(o=ye())&&(r._chips=o)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(n,r){n&1&&fe("keydown",function(o){return r._handleKeydown(o)}),n&2&&Ge("role",r.role)},inputs:{disabled:[2,"disabled","disabled",Fe],role:"role",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:oi(e)]},ngContentSelectors:lU,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(n,r){n&1&&(Ot(),on(0,"div",0),Qe(1),un())},styles:[`.mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-moz-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-webkit-input-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input:-ms-input-placeholder{opacity:1}.mat-mdc-chip-set+input.mat-mdc-chip-input{margin-left:0;margin-right:0}
`],encapsulation:2,changeDetection:0})}return i})();var c2=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({providers:[Cu,{provide:dU,useValue:{separatorKeyCodes:[13]}}],imports:[ot,Ca,ot]})}return i})();var hU=["tooltip"],ux=20;var hx=new se("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let i=g($e);return()=>oa(i,{scrollThrottle:ux})}});function u2(i){let t=g($e);return()=>oa(t,{scrollThrottle:ux})}var fx={provide:hx,deps:[],useFactory:u2};function h2(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var f2=new se("mat-tooltip-default-options",{providedIn:"root",factory:h2});var l2="tooltip-panel",d2=Js({passive:!0}),fU=8,mU=8,pU=24,gU=200,Ja=(()=>{class i{_elementRef=g(Ce);_ngZone=g(Me);_platform=g(vt);_ariaDescriber=g(v0);_focusMonitor=g(Ln);_dir=g(Fi);_injector=g($e);_viewContainerRef=g($i);_animationsDisabled=Wt();_defaultOptions=g(f2,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=m2;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=ln(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let n=ln(e);this._disabled!==n&&(this._disabled=n,n?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Hr(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Hr(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let n=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(n)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new ge;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=fU}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(pt(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{e.removeEventListener(n,r,d2)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(n);this._detach(),this._portal=this._portal||new Ga(this._tooltipComponent,this._viewContainerRef);let a=this._tooltipInstance=r.attach(this._portal).instance;a._triggerElement=this._elementRef.nativeElement,a._mouseLeaveHideDelay=this._hideDelay,a.afterHidden().pipe(pt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),a.show(e)}hide(e=this.hideDelay){let n=this._tooltipInstance;n&&(n.isVisible()?n.hide(e):(n._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Ce)return this._overlayRef;this._detach()}let n=this._injector.get(Eo).getAncestorScrollContainers(this._elementRef),r=`${this._cssClassPrefix}-${l2}`,a=Rl(this._injector,this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return a.positionChanges.pipe(pt(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=Ya(this._injector,{direction:this._dir,positionStrategy:a,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,r]:r,scrollStrategy:this._injector.get(hx)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(pt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(pt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(pt(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.keyCode===27&&!gn(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(pt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let n=e.getConfig().positionStrategy,r=this._getOrigin(),a=this._getOverlayPosition();n.withPositions([this._addOffset(ae(ae({},r.main),a.main)),this._addOffset(ae(ae({},r.fallback),a.fallback))])}_addOffset(e){let n=mU,r=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-n:e.originY==="bottom"?e.offsetY=n:e.originX==="start"?e.offsetX=r?-n:n:e.originX==="end"&&(e.offsetX=r?n:-n),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"||n=="below"?r={originX:"center",originY:n=="above"?"top":"bottom"}:n=="before"||n=="left"&&e||n=="right"&&!e?r={originX:"start",originY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(r={originX:"end",originY:"center"});let{x:a,y:o}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:a,originY:o}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"?r={overlayX:"center",overlayY:"bottom"}:n=="below"?r={overlayX:"center",overlayY:"top"}:n=="before"||n=="left"&&e||n=="right"&&!e?r={overlayX:"end",overlayY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(r={overlayX:"start",overlayY:"center"});let{x:a,y:o}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:a,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),bi(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return this.position==="above"||this.position==="below"?n==="top"?n="bottom":n==="bottom"&&(n="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){let{overlayY:n,originX:r,originY:a}=e,o;if(n==="center"?this._dir&&this._dir.value==="rtl"?o=r==="end"?"left":"right":o=r==="start"?"left":"right":o=n==="bottom"&&a==="top"?"above":"below",o!==this._currentPosition){let s=this._overlayRef;if(s){let c=`${this._cssClassPrefix}-${l2}-`;s.removePanelClass(c+this._currentPosition),s.addPanelClass(c+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let n;e.x!==void 0&&e.y!==void 0&&(n=e),this.show(void 0,n)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let n=e.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let a=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??a)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",n=>{let r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let n=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,d2)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let n=this._injector.get(et).elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let n=this._elementRef.nativeElement,r=n.style;(e==="on"||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||bi({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){n&2&&xe("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return i})(),m2=(()=>{class i{_changeDetectorRef=g(bt);_elementRef=g(Ce);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=Wt();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new ge;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>pU&&e.width>=gU}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let n=this._tooltip.nativeElement,r=this._showAnimation,a=this._hideAnimation;if(n.classList.remove(e?a:r),n.classList.add(e?r:a),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let o=getComputedStyle(n);(o.getPropertyValue("animation-duration")==="0s"||o.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(n&1&&lt(hU,7),n&2){let a;ve(a=ye())&&(r._tooltip=a.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(n,r){n&1&&fe("mouseleave",function(o){return r._handleMouseLeave(o)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(n,r){if(n&1){let a=mt();P(0,"div",1,0),fe("animationend",function(s){return Ae(a),Re(r._handleAnimationEnd(s))}),P(2,"div",2),Y(3),V()()}n&2&&(xe("mdc-tooltip--multiline",r._isMultiline),Z("ngClass",r.tooltipClass),B(3),_t(r.message))},dependencies:[sf],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return i})();var Mr=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({providers:[fx],imports:[Vf,sa,ot,ot,Ta]})}return i})();var mc=class i{constructor(){}calculateExceedanceProbability(t,e){let n=t.map(d=>Math.log(d)),r=n.reduce((d,h)=>d+h,0)/n.length,a=n.reduce((d,h)=>d+Math.pow(h-r,2),0)/(n.length-1),o=Math.sqrt(a),c=(Math.log(e)-r)/o;return 1-this.normalCDF(c)}normalCDF(t){return(1-this.erf(-t/Math.sqrt(2)))/2}erf(t){let e=t<0?-1:1;t=Math.abs(t);let n=.254829592,r=-.284496736,a=1.421413741,o=-1.453152027,s=1.061405429,l=1/(1+.3275911*t),d=1-((((s*l+o)*l+a)*l+r)*l+n)*l*Math.exp(-t*t);return e*d}static \u0275fac=function(e){return new(e||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})};var p2=()=>{};var v2=function(i){let t=[],e=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++n)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},_U=function(i){let t=[],e=0,n=0;for(;e<i.length;){let r=i[e++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){let a=i[e++];t[n++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){let a=i[e++],o=i[e++],s=i[e++],c=((r&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{let a=i[e++],o=i[e++];t[n++]=String.fromCharCode((r&15)<<12|(a&63)<<6|o&63)}}return t.join("")},t_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<i.length;r+=3){let a=i[r],o=r+1<i.length,s=o?i[r+1]:0,c=r+2<i.length,l=c?i[r+2]:0,d=a>>2,h=(a&3)<<4|s>>4,f=(s&15)<<2|l>>6,m=l&63;c||(m=64,o||(f=64)),n.push(e[d],e[h],e[f],e[m])}return n.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(v2(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):_U(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<i.length;){let a=e[i.charAt(r++)],s=r<i.length?e[i.charAt(r)]:0;++r;let l=r<i.length?e[i.charAt(r)]:64;++r;let h=r<i.length?e[i.charAt(r)]:64;if(++r,a==null||s==null||l==null||h==null)throw new px;let f=a<<2|s>>4;if(n.push(f),l!==64){let m=s<<4&240|l>>2;if(n.push(m),h!==64){let v=l<<6&192|h;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},px=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},vU=function(i){let t=v2(i);return t_.encodeByteArray(t,!0)},ym=function(i){return vU(i).replace(/\./g,"")},i_=function(i){try{return t_.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function _x(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var yU=()=>_x().__FIREBASE_DEFAULTS__,bU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let i=process.env.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},wU=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=i&&i_(i[1]);return t&&JSON.parse(t)},n_=()=>{try{return p2()||yU()||bU()||wU()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},vx=i=>{var t,e;return(e=(t=n_())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},r_=i=>{let t=vx(i);if(!t)return;let e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let n=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),n]:[t.substring(0,e),n]},yx=()=>{var i;return(i=n_())===null||i===void 0?void 0:i.config},bx=i=>{var t;return(t=n_())===null||t===void 0?void 0:t[`_${i}`]};var Ll=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}};function Io(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}function Su(i){return N(this,null,function*(){return(yield fetch(i,{credentials:"include"})).ok})}function y2(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let e={alg:"none",type:"JWT"},n=t||"demo-project",r=i.iat||0,a=i.sub||i.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},i);return[ym(JSON.stringify(e)),ym(JSON.stringify(o)),""].join(".")}var vm={};function xU(){let i={prod:[],emulator:[]};for(let t of Object.keys(vm))vm[t]?i.emulator.push(t):i.prod.push(t);return i}function EU(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}var g2=!1;function ku(i,t){if(typeof window>"u"||typeof document>"u"||!Io(window.location.host)||vm[i]===t||vm[i]||g2)return;vm[i]=t;function e(f){return`__firebase__banner__${f}`}let n="__firebase__banner",a=xU().prod.length>0;function o(){let f=document.getElementById(n);f&&f.remove()}function s(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function l(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{g2=!0,o()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){let f=EU(n),m=e("text"),v=document.getElementById(m)||document.createElement("span"),_=e("learnmore"),y=document.getElementById(_)||document.createElement("a"),S=e("preprendIcon"),D=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let T=f.element;s(T),d(y,_);let G=l();c(D,S),T.append(D,v,y,G),document.body.appendChild(T)}a?(v.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function CU(){var i;let t=(i=n_())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function x2(){let i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function E2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C2(){let i=Vn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function T2(){return!CU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bm(){try{return typeof indexedDB=="object"}catch{return!1}}function S2(){return new Promise((i,t)=>{try{let e=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(n),i(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var a;t(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(e){t(e)}})}var TU="FirebaseError",Or=class i extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=TU,Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eo.prototype.create)}},eo=class{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){let n=e[0]||{},r=`${this.service}/${t}`,a=this.errors[t],o=a?SU(a,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new Or(r,s,n)}};function SU(i,t){return i.replace(kU,(e,n)=>{let r=t[n];return r!=null?String(r):`<${n}?>`})}var kU=/\{\$([^}]+)}/g;function k2(i){for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Do(i,t){if(i===t)return!0;let e=Object.keys(i),n=Object.keys(t);for(let r of e){if(!n.includes(r))return!1;let a=i[r],o=t[r];if(_2(a)&&_2(o)){if(!Do(a,o))return!1}else if(a!==o)return!1}for(let r of n)if(!e.includes(r))return!1;return!0}function _2(i){return i!==null&&typeof i=="object"}function Iu(i){let t=[];for(let[e,n]of Object.entries(i))Array.isArray(n)?n.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function I2(i,t){let e=new gx(i,t);return e.subscribe.bind(e)}var gx=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let r;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");IU(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:n},r.next===void 0&&(r.next=mx),r.error===void 0&&(r.error=mx),r.complete===void 0&&(r.complete=mx);let a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function IU(i,t){if(typeof i!="object"||i===null)return!1;for(let e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function mx(){}var Dge=14400*1e3;function Ii(i){return i&&i._delegate?i._delegate:i}var er=class{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Vl="[DEFAULT]";var wx=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let n=new Ll;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;let n=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AU(t))try{this.getOrInitializeService({instanceIdentifier:Vl})}catch{}for(let[e,n]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let a=this.getOrInitializeService({instanceIdentifier:r});n.resolve(a)}catch{}}}}clearInstance(t=Vl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return N(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Vl){return this.instances.has(t)}getOptions(t=Vl){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(let[a,o]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(r)}return r}onInit(t,e){var n;let r=this.normalizeInstanceIdentifier(e),a=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;a.add(t),this.onInitCallbacks.set(r,a);let o=this.instances.get(r);return o&&t(o,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){let n=this.onInitCallbacks.get(e);if(n)for(let r of n)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:DU(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Vl){return this.component?this.component.multipleInstances?t:Vl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function DU(i){return i===Vl?void 0:i}function AU(i){return i.instantiationMode==="EAGER"}var a_=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new wx(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}};var RU=[],Ht=(function(i){return i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT",i})(Ht||{}),MU={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},OU=Ht.INFO,FU={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},PU=(i,t,...e)=>{if(t<i.logLevel)return;let n=new Date().toISOString(),r=FU[t];if(r)console[r](`[${n}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Ao=class{constructor(t){this.name=t,this._logLevel=OU,this._logHandler=PU,this._userLogHandler=null,RU.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MU[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}};var NU=(i,t)=>t.some(e=>i instanceof e),D2,A2;function LU(){return D2||(D2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VU(){return A2||(A2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var R2=new WeakMap,Ex=new WeakMap,M2=new WeakMap,xx=new WeakMap,Tx=new WeakMap;function BU(i){let t=new Promise((e,n)=>{let r=()=>{i.removeEventListener("success",a),i.removeEventListener("error",o)},a=()=>{e(Ro(i.result)),r()},o=()=>{n(i.error),r()};i.addEventListener("success",a),i.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&R2.set(e,i)}).catch(()=>{}),Tx.set(t,i),t}function UU(i){if(Ex.has(i))return;let t=new Promise((e,n)=>{let r=()=>{i.removeEventListener("complete",a),i.removeEventListener("error",o),i.removeEventListener("abort",o)},a=()=>{e(),r()},o=()=>{n(i.error||new DOMException("AbortError","AbortError")),r()};i.addEventListener("complete",a),i.addEventListener("error",o),i.addEventListener("abort",o)});Ex.set(i,t)}var Cx={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return Ex.get(i);if(t==="objectStoreNames")return i.objectStoreNames||M2.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ro(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function O2(i){Cx=i(Cx)}function zU(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){let n=i.call(o_(this),t,...e);return M2.set(n,t.sort?t.sort():[t]),Ro(n)}:VU().includes(i)?function(...t){return i.apply(o_(this),t),Ro(R2.get(this))}:function(...t){return Ro(i.apply(o_(this),t))}}function jU(i){return typeof i=="function"?zU(i):(i instanceof IDBTransaction&&UU(i),NU(i,LU())?new Proxy(i,Cx):i)}function Ro(i){if(i instanceof IDBRequest)return BU(i);if(xx.has(i))return xx.get(i);let t=jU(i);return t!==i&&(xx.set(i,t),Tx.set(t,i)),t}var o_=i=>Tx.get(i);function P2(i,t,{blocked:e,upgrade:n,blocking:r,terminated:a}={}){let o=indexedDB.open(i,t),s=Ro(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Ro(o.result),c.oldVersion,c.newVersion,Ro(o.transaction),c)}),e&&o.addEventListener("blocked",c=>e(c.oldVersion,c.newVersion,c)),s.then(c=>{a&&c.addEventListener("close",()=>a()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),s}var HU=["get","getKey","getAll","getAllKeys","count"],WU=["put","add","delete","clear"],Sx=new Map;function F2(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Sx.get(t))return Sx.get(t);let e=t.replace(/FromIndex$/,""),n=t!==e,r=WU.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(r||HU.includes(e)))return;let a=function(o,...s){return N(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),l=c.store;return n&&(l=l.index(s.shift())),(yield Promise.all([l[e](...s),r&&c.done]))[0]})};return Sx.set(t,a),a}O2(i=>kt(ae({},i),{get:(t,e,n)=>F2(t,e)||i.get(t,e,n),has:(t,e)=>!!F2(t,e)||i.has(t,e)}));var Ix=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if($U(e)){let n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}};function $U(i){let t=i.getComponent();return t?.type==="VERSION"}var Dx="@firebase/app",N2="0.13.2";var ps=new Ao("@firebase/app"),GU="@firebase/app-compat",qU="@firebase/analytics-compat",KU="@firebase/analytics",XU="@firebase/app-check-compat",YU="@firebase/app-check",QU="@firebase/auth",ZU="@firebase/auth-compat",JU="@firebase/database",ez="@firebase/data-connect",tz="@firebase/database-compat",iz="@firebase/functions",nz="@firebase/functions-compat",rz="@firebase/installations",az="@firebase/installations-compat",oz="@firebase/messaging",sz="@firebase/messaging-compat",cz="@firebase/performance",lz="@firebase/performance-compat",dz="@firebase/remote-config",uz="@firebase/remote-config-compat",hz="@firebase/storage",fz="@firebase/storage-compat",mz="@firebase/firestore",pz="@firebase/ai",gz="@firebase/firestore-compat",_z="firebase",vz="11.10.0";var Ax="[DEFAULT]",yz={[Dx]:"fire-core",[GU]:"fire-core-compat",[KU]:"fire-analytics",[qU]:"fire-analytics-compat",[YU]:"fire-app-check",[XU]:"fire-app-check-compat",[QU]:"fire-auth",[ZU]:"fire-auth-compat",[JU]:"fire-rtdb",[ez]:"fire-data-connect",[tz]:"fire-rtdb-compat",[iz]:"fire-fn",[nz]:"fire-fn-compat",[rz]:"fire-iid",[az]:"fire-iid-compat",[oz]:"fire-fcm",[sz]:"fire-fcm-compat",[cz]:"fire-perf",[lz]:"fire-perf-compat",[dz]:"fire-rc",[uz]:"fire-rc-compat",[hz]:"fire-gcs",[fz]:"fire-gcs-compat",[mz]:"fire-fst",[gz]:"fire-fst-compat",[pz]:"fire-vertex","fire-js":"fire-js",[_z]:"fire-js-all"};var wm=new Map,bz=new Map,Rx=new Map;function L2(i,t){try{i.container.addComponent(t)}catch(e){ps.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function la(i){let t=i.name;if(Rx.has(t))return ps.debug(`There were multiple attempts to register component ${t}.`),!1;Rx.set(t,i);for(let e of wm.values())L2(e,i);for(let e of bz.values())L2(e,i);return!0}function gc(i,t){let e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function dr(i){return i==null?!1:i.settings!==void 0}var wz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pc=new eo("app","Firebase",wz);var Mx=class{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw pc.create("app-deleted",{appName:this._name})}};var _c=vz;function Px(i,t={}){let e=i;typeof t!="object"&&(t={name:t});let n=Object.assign({name:Ax,automaticDataCollectionEnabled:!0},t),r=n.name;if(typeof r!="string"||!r)throw pc.create("bad-app-name",{appName:String(r)});if(e||(e=yx()),!e)throw pc.create("no-options");let a=wm.get(r);if(a){if(Do(e,a.options)&&Do(n,a.config))return a;throw pc.create("duplicate-app",{appName:r})}let o=new a_(r);for(let c of Rx.values())o.addComponent(c);let s=new Mx(e,n,o);return wm.set(r,s),s}function gs(i=Ax){let t=wm.get(i);if(!t&&i===Ax&&yx())return Px();if(!t)throw pc.create("no-app",{appName:i});return t}function s_(){return Array.from(wm.values())}function Ei(i,t,e){var n;let r=(n=yz[i])!==null&&n!==void 0?n:i;e&&(r+=`-${e}`);let a=r.match(/\s|\//),o=t.match(/\s|\//);if(a||o){let s=[`Unable to register library "${r}" with version "${t}":`];a&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ps.warn(s.join(" "));return}la(new er(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var xz="firebase-heartbeat-database",Ez=1,xm="firebase-heartbeat-store",kx=null;function z2(){return kx||(kx=P2(xz,Ez,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(xm)}catch(e){console.warn(e)}}}}).catch(i=>{throw pc.create("idb-open",{originalErrorMessage:i.message})})),kx}function Cz(i){return N(this,null,function*(){try{let e=(yield z2()).transaction(xm),n=yield e.objectStore(xm).get(j2(i));return yield e.done,n}catch(t){if(t instanceof Or)ps.warn(t.message);else{let e=pc.create("idb-get",{originalErrorMessage:t?.message});ps.warn(e.message)}}})}function V2(i,t){return N(this,null,function*(){try{let n=(yield z2()).transaction(xm,"readwrite");yield n.objectStore(xm).put(t,j2(i)),yield n.done}catch(e){if(e instanceof Or)ps.warn(e.message);else{let n=pc.create("idb-set",{originalErrorMessage:e?.message});ps.warn(n.message)}}})}function j2(i){return`${i.name}!${i.options.appId}`}var Tz=1024,Sz=30,Ox=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new Fx(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return N(this,null,function*(){var t,e;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=B2();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>Sz){let o=Iz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ps.warn(n)}})}getHeartbeatsHeader(){return N(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=B2(),{heartbeatsToSend:n,unsentEntries:r}=kz(this._heartbeatsCache.heartbeats),a=ym(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ps.warn(e),""}})}};function B2(){return new Date().toISOString().substring(0,10)}function kz(i,t=Tz){let e=[],n=i.slice();for(let r of i){let a=e.find(o=>o.agent===r.agent);if(a){if(a.dates.push(r.date),U2(e)>t){a.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),U2(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}var Fx=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return N(this,null,function*(){return bm()?S2().then(()=>!0).catch(()=>!1):!1})}read(){return N(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield Cz(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return N(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return V2(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return N(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return V2(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function U2(i){return ym(JSON.stringify({version:2,heartbeats:i})).length}function Iz(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let n=1;n<i.length;n++)i[n].date<e&&(e=i[n].date,t=n);return t}function Dz(i){la(new er("platform-logger",t=>new Ix(t),"PRIVATE")),la(new er("heartbeat",t=>new Ox(t),"PRIVATE")),Ei(Dx,N2,i),Ei(Dx,N2,"esm2017"),Ei("fire-js","")}Dz("");var H2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W2={};var _s,Nx;(function(){var i;function t(w,x){function E(){}E.prototype=x.prototype,w.D=x.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(A,R,k){for(var O=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)O[Ke-2]=arguments[Ke];return x.prototype[R].apply(A,O)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,e),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(w,x,E){E||(E=0);var A=Array(16);if(typeof x=="string")for(var R=0;16>R;++R)A[R]=x.charCodeAt(E++)|x.charCodeAt(E++)<<8|x.charCodeAt(E++)<<16|x.charCodeAt(E++)<<24;else for(R=0;16>R;++R)A[R]=x[E++]|x[E++]<<8|x[E++]<<16|x[E++]<<24;x=w.g[0],E=w.g[1],R=w.g[2];var k=w.g[3],O=x+(k^E&(R^k))+A[0]+3614090360&4294967295;x=E+(O<<7&4294967295|O>>>25),O=k+(R^x&(E^R))+A[1]+3905402710&4294967295,k=x+(O<<12&4294967295|O>>>20),O=R+(E^k&(x^E))+A[2]+606105819&4294967295,R=k+(O<<17&4294967295|O>>>15),O=E+(x^R&(k^x))+A[3]+3250441966&4294967295,E=R+(O<<22&4294967295|O>>>10),O=x+(k^E&(R^k))+A[4]+4118548399&4294967295,x=E+(O<<7&4294967295|O>>>25),O=k+(R^x&(E^R))+A[5]+1200080426&4294967295,k=x+(O<<12&4294967295|O>>>20),O=R+(E^k&(x^E))+A[6]+2821735955&4294967295,R=k+(O<<17&4294967295|O>>>15),O=E+(x^R&(k^x))+A[7]+4249261313&4294967295,E=R+(O<<22&4294967295|O>>>10),O=x+(k^E&(R^k))+A[8]+1770035416&4294967295,x=E+(O<<7&4294967295|O>>>25),O=k+(R^x&(E^R))+A[9]+2336552879&4294967295,k=x+(O<<12&4294967295|O>>>20),O=R+(E^k&(x^E))+A[10]+4294925233&4294967295,R=k+(O<<17&4294967295|O>>>15),O=E+(x^R&(k^x))+A[11]+2304563134&4294967295,E=R+(O<<22&4294967295|O>>>10),O=x+(k^E&(R^k))+A[12]+1804603682&4294967295,x=E+(O<<7&4294967295|O>>>25),O=k+(R^x&(E^R))+A[13]+4254626195&4294967295,k=x+(O<<12&4294967295|O>>>20),O=R+(E^k&(x^E))+A[14]+2792965006&4294967295,R=k+(O<<17&4294967295|O>>>15),O=E+(x^R&(k^x))+A[15]+1236535329&4294967295,E=R+(O<<22&4294967295|O>>>10),O=x+(R^k&(E^R))+A[1]+4129170786&4294967295,x=E+(O<<5&4294967295|O>>>27),O=k+(E^R&(x^E))+A[6]+3225465664&4294967295,k=x+(O<<9&4294967295|O>>>23),O=R+(x^E&(k^x))+A[11]+643717713&4294967295,R=k+(O<<14&4294967295|O>>>18),O=E+(k^x&(R^k))+A[0]+3921069994&4294967295,E=R+(O<<20&4294967295|O>>>12),O=x+(R^k&(E^R))+A[5]+3593408605&4294967295,x=E+(O<<5&4294967295|O>>>27),O=k+(E^R&(x^E))+A[10]+38016083&4294967295,k=x+(O<<9&4294967295|O>>>23),O=R+(x^E&(k^x))+A[15]+3634488961&4294967295,R=k+(O<<14&4294967295|O>>>18),O=E+(k^x&(R^k))+A[4]+3889429448&4294967295,E=R+(O<<20&4294967295|O>>>12),O=x+(R^k&(E^R))+A[9]+568446438&4294967295,x=E+(O<<5&4294967295|O>>>27),O=k+(E^R&(x^E))+A[14]+3275163606&4294967295,k=x+(O<<9&4294967295|O>>>23),O=R+(x^E&(k^x))+A[3]+4107603335&4294967295,R=k+(O<<14&4294967295|O>>>18),O=E+(k^x&(R^k))+A[8]+1163531501&4294967295,E=R+(O<<20&4294967295|O>>>12),O=x+(R^k&(E^R))+A[13]+2850285829&4294967295,x=E+(O<<5&4294967295|O>>>27),O=k+(E^R&(x^E))+A[2]+4243563512&4294967295,k=x+(O<<9&4294967295|O>>>23),O=R+(x^E&(k^x))+A[7]+1735328473&4294967295,R=k+(O<<14&4294967295|O>>>18),O=E+(k^x&(R^k))+A[12]+2368359562&4294967295,E=R+(O<<20&4294967295|O>>>12),O=x+(E^R^k)+A[5]+4294588738&4294967295,x=E+(O<<4&4294967295|O>>>28),O=k+(x^E^R)+A[8]+2272392833&4294967295,k=x+(O<<11&4294967295|O>>>21),O=R+(k^x^E)+A[11]+1839030562&4294967295,R=k+(O<<16&4294967295|O>>>16),O=E+(R^k^x)+A[14]+4259657740&4294967295,E=R+(O<<23&4294967295|O>>>9),O=x+(E^R^k)+A[1]+2763975236&4294967295,x=E+(O<<4&4294967295|O>>>28),O=k+(x^E^R)+A[4]+1272893353&4294967295,k=x+(O<<11&4294967295|O>>>21),O=R+(k^x^E)+A[7]+4139469664&4294967295,R=k+(O<<16&4294967295|O>>>16),O=E+(R^k^x)+A[10]+3200236656&4294967295,E=R+(O<<23&4294967295|O>>>9),O=x+(E^R^k)+A[13]+681279174&4294967295,x=E+(O<<4&4294967295|O>>>28),O=k+(x^E^R)+A[0]+3936430074&4294967295,k=x+(O<<11&4294967295|O>>>21),O=R+(k^x^E)+A[3]+3572445317&4294967295,R=k+(O<<16&4294967295|O>>>16),O=E+(R^k^x)+A[6]+76029189&4294967295,E=R+(O<<23&4294967295|O>>>9),O=x+(E^R^k)+A[9]+3654602809&4294967295,x=E+(O<<4&4294967295|O>>>28),O=k+(x^E^R)+A[12]+3873151461&4294967295,k=x+(O<<11&4294967295|O>>>21),O=R+(k^x^E)+A[15]+530742520&4294967295,R=k+(O<<16&4294967295|O>>>16),O=E+(R^k^x)+A[2]+3299628645&4294967295,E=R+(O<<23&4294967295|O>>>9),O=x+(R^(E|~k))+A[0]+4096336452&4294967295,x=E+(O<<6&4294967295|O>>>26),O=k+(E^(x|~R))+A[7]+1126891415&4294967295,k=x+(O<<10&4294967295|O>>>22),O=R+(x^(k|~E))+A[14]+2878612391&4294967295,R=k+(O<<15&4294967295|O>>>17),O=E+(k^(R|~x))+A[5]+4237533241&4294967295,E=R+(O<<21&4294967295|O>>>11),O=x+(R^(E|~k))+A[12]+1700485571&4294967295,x=E+(O<<6&4294967295|O>>>26),O=k+(E^(x|~R))+A[3]+2399980690&4294967295,k=x+(O<<10&4294967295|O>>>22),O=R+(x^(k|~E))+A[10]+4293915773&4294967295,R=k+(O<<15&4294967295|O>>>17),O=E+(k^(R|~x))+A[1]+2240044497&4294967295,E=R+(O<<21&4294967295|O>>>11),O=x+(R^(E|~k))+A[8]+1873313359&4294967295,x=E+(O<<6&4294967295|O>>>26),O=k+(E^(x|~R))+A[15]+4264355552&4294967295,k=x+(O<<10&4294967295|O>>>22),O=R+(x^(k|~E))+A[6]+2734768916&4294967295,R=k+(O<<15&4294967295|O>>>17),O=E+(k^(R|~x))+A[13]+1309151649&4294967295,E=R+(O<<21&4294967295|O>>>11),O=x+(R^(E|~k))+A[4]+4149444226&4294967295,x=E+(O<<6&4294967295|O>>>26),O=k+(E^(x|~R))+A[11]+3174756917&4294967295,k=x+(O<<10&4294967295|O>>>22),O=R+(x^(k|~E))+A[2]+718787259&4294967295,R=k+(O<<15&4294967295|O>>>17),O=E+(k^(R|~x))+A[9]+3951481745&4294967295,w.g[0]=w.g[0]+x&4294967295,w.g[1]=w.g[1]+(R+(O<<21&4294967295|O>>>11))&4294967295,w.g[2]=w.g[2]+R&4294967295,w.g[3]=w.g[3]+k&4294967295}n.prototype.u=function(w,x){x===void 0&&(x=w.length);for(var E=x-this.blockSize,A=this.B,R=this.h,k=0;k<x;){if(R==0)for(;k<=E;)r(this,w,k),k+=this.blockSize;if(typeof w=="string"){for(;k<x;)if(A[R++]=w.charCodeAt(k++),R==this.blockSize){r(this,A),R=0;break}}else for(;k<x;)if(A[R++]=w[k++],R==this.blockSize){r(this,A),R=0;break}}this.h=R,this.o+=x},n.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var x=1;x<w.length-8;++x)w[x]=0;var E=8*this.o;for(x=w.length-8;x<w.length;++x)w[x]=E&255,E/=256;for(this.u(w),w=Array(16),x=E=0;4>x;++x)for(var A=0;32>A;A+=8)w[E++]=this.g[x]>>>A&255;return w};function a(w,x){var E=s;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=x(w)}function o(w,x){this.h=x;for(var E=[],A=!0,R=w.length-1;0<=R;R--){var k=w[R]|0;A&&k==x||(E[R]=k,A=!1)}this.g=E}var s={};function c(w){return-128<=w&&128>w?a(w,function(x){return new o([x|0],0>x?-1:0)}):new o([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return h;if(0>w)return y(l(-w));for(var x=[],E=1,A=0;w>=E;A++)x[A]=w/E|0,E*=4294967296;return new o(x,0)}function d(w,x){if(w.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(w.charAt(0)=="-")return y(d(w.substring(1),x));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(x,8)),A=h,R=0;R<w.length;R+=8){var k=Math.min(8,w.length-R),O=parseInt(w.substring(R,R+k),x);8>k?(k=l(Math.pow(x,k)),A=A.j(k).add(l(O))):(A=A.j(E),A=A.add(l(O)))}return A}var h=c(0),f=c(1),m=c(16777216);i=o.prototype,i.m=function(){if(_(this))return-y(this).m();for(var w=0,x=1,E=0;E<this.g.length;E++){var A=this.i(E);w+=(0<=A?A:4294967296+A)*x,x*=4294967296}return w},i.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(v(this))return"0";if(_(this))return"-"+y(this).toString(w);for(var x=l(Math.pow(w,6)),E=this,A="";;){var R=G(E,x).g;E=S(E,R.j(x));var k=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=R,v(E))return k+A;for(;6>k.length;)k="0"+k;A=k+A}},i.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function v(w){if(w.h!=0)return!1;for(var x=0;x<w.g.length;x++)if(w.g[x]!=0)return!1;return!0}function _(w){return w.h==-1}i.l=function(w){return w=S(this,w),_(w)?-1:v(w)?0:1};function y(w){for(var x=w.g.length,E=[],A=0;A<x;A++)E[A]=~w.g[A];return new o(E,~w.h).add(f)}i.abs=function(){return _(this)?y(this):this},i.add=function(w){for(var x=Math.max(this.g.length,w.g.length),E=[],A=0,R=0;R<=x;R++){var k=A+(this.i(R)&65535)+(w.i(R)&65535),O=(k>>>16)+(this.i(R)>>>16)+(w.i(R)>>>16);A=O>>>16,k&=65535,O&=65535,E[R]=O<<16|k}return new o(E,E[E.length-1]&-2147483648?-1:0)};function S(w,x){return w.add(y(x))}i.j=function(w){if(v(this)||v(w))return h;if(_(this))return _(w)?y(this).j(y(w)):y(y(this).j(w));if(_(w))return y(this.j(y(w)));if(0>this.l(m)&&0>w.l(m))return l(this.m()*w.m());for(var x=this.g.length+w.g.length,E=[],A=0;A<2*x;A++)E[A]=0;for(A=0;A<this.g.length;A++)for(var R=0;R<w.g.length;R++){var k=this.i(A)>>>16,O=this.i(A)&65535,Ke=w.i(R)>>>16,Ie=w.i(R)&65535;E[2*A+2*R]+=O*Ie,D(E,2*A+2*R),E[2*A+2*R+1]+=k*Ie,D(E,2*A+2*R+1),E[2*A+2*R+1]+=O*Ke,D(E,2*A+2*R+1),E[2*A+2*R+2]+=k*Ke,D(E,2*A+2*R+2)}for(A=0;A<x;A++)E[A]=E[2*A+1]<<16|E[2*A];for(A=x;A<2*x;A++)E[A]=0;return new o(E,0)};function D(w,x){for(;(w[x]&65535)!=w[x];)w[x+1]+=w[x]>>>16,w[x]&=65535,x++}function T(w,x){this.g=w,this.h=x}function G(w,x){if(v(x))throw Error("division by zero");if(v(w))return new T(h,h);if(_(w))return x=G(y(w),x),new T(y(x.g),y(x.h));if(_(x))return x=G(w,y(x)),new T(y(x.g),x.h);if(30<w.g.length){if(_(w)||_(x))throw Error("slowDivide_ only works with positive integers.");for(var E=f,A=x;0>=A.l(w);)E=K(E),A=K(A);var R=j(E,1),k=j(A,1);for(A=j(A,2),E=j(E,2);!v(A);){var O=k.add(A);0>=O.l(w)&&(R=R.add(E),k=O),A=j(A,1),E=j(E,1)}return x=S(w,R.j(x)),new T(R,x)}for(R=h;0<=w.l(x);){for(E=Math.max(1,Math.floor(w.m()/x.m())),A=Math.ceil(Math.log(E)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),k=l(E),O=k.j(x);_(O)||0<O.l(w);)E-=A,k=l(E),O=k.j(x);v(k)&&(k=f),R=R.add(k),w=S(w,O)}return new T(R,w)}i.A=function(w){return G(this,w).h},i.and=function(w){for(var x=Math.max(this.g.length,w.g.length),E=[],A=0;A<x;A++)E[A]=this.i(A)&w.i(A);return new o(E,this.h&w.h)},i.or=function(w){for(var x=Math.max(this.g.length,w.g.length),E=[],A=0;A<x;A++)E[A]=this.i(A)|w.i(A);return new o(E,this.h|w.h)},i.xor=function(w){for(var x=Math.max(this.g.length,w.g.length),E=[],A=0;A<x;A++)E[A]=this.i(A)^w.i(A);return new o(E,this.h^w.h)};function K(w){for(var x=w.g.length+1,E=[],A=0;A<x;A++)E[A]=w.i(A)<<1|w.i(A-1)>>>31;return new o(E,w.h)}function j(w,x){var E=x>>5;x%=32;for(var A=w.g.length-E,R=[],k=0;k<A;k++)R[k]=0<x?w.i(k+E)>>>x|w.i(k+E+1)<<32-x:w.i(k+E);return new o(R,w.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Nx=W2.Md5=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=d,_s=W2.Integer=o}).apply(typeof H2<"u"?H2:typeof self<"u"?self:typeof window<"u"?window:{});var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vs={};var Lx,Az,Du,Vx,Em,l_,Bx,Ux,zx;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,b){return u==Array.prototype||u==Object.prototype||(u[p]=b.value),u};function e(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof c_=="object"&&c_];for(var p=0;p<u.length;++p){var b=u[p];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var n=e(this);function r(u,p){if(p)e:{var b=n;u=u.split(".");for(var I=0;I<u.length-1;I++){var Q=u[I];if(!(Q in b))break e;b=b[Q]}u=u[u.length-1],I=b[u],p=p(I),p!=I&&p!=null&&t(b,u,{configurable:!0,writable:!0,value:p})}}function a(u,p){u instanceof String&&(u+="");var b=0,I=!1,Q={next:function(){if(!I&&b<u.length){var oe=b++;return{value:p(oe,u[oe]),done:!1}}return I=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}r("Array.prototype.values",function(u){return u||function(){return a(this,function(p,b){return b})}});var o=o||{},s=this||self;function c(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function l(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,b){return u.call.apply(u.bind,arguments)}function h(u,p,b){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,I),u.apply(p,Q)}}return function(){return u.apply(p,arguments)}}function f(u,p,b){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(u,p){var b=Array.prototype.slice.call(arguments,1);return function(){var I=b.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function v(u,p){function b(){}b.prototype=p.prototype,u.aa=p.prototype,u.prototype=new b,u.prototype.constructor=u,u.Qb=function(I,Q,oe){for(var Oe=Array(arguments.length-2),_i=2;_i<arguments.length;_i++)Oe[_i-2]=arguments[_i];return p.prototype[Q].apply(I,Oe)}}function _(u){let p=u.length;if(0<p){let b=Array(p);for(let I=0;I<p;I++)b[I]=u[I];return b}return[]}function y(u,p){for(let b=1;b<arguments.length;b++){let I=arguments[b];if(c(I)){let Q=u.length||0,oe=I.length||0;u.length=Q+oe;for(let Oe=0;Oe<oe;Oe++)u[Q+Oe]=I[Oe]}else u.push(I)}}class S{constructor(p,b){this.i=p,this.j=b,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function D(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=s.navigator;return u&&(u=u.userAgent)?u:""}function G(u){return G[" "](u),u}G[" "]=function(){};var K=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function j(u,p,b){for(let I in u)p.call(b,u[I],I,u)}function w(u,p){for(let b in u)p.call(void 0,u[b],b,u)}function x(u){let p={};for(let b in u)p[b]=u[b];return p}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,p){let b,I;for(let Q=1;Q<arguments.length;Q++){I=arguments[Q];for(b in I)u[b]=I[b];for(let oe=0;oe<E.length;oe++)b=E[oe],Object.prototype.hasOwnProperty.call(I,b)&&(u[b]=I[b])}}function R(u){var p=1;u=u.split(":");let b=[];for(;0<p&&u.length;)b.push(u.shift()),p--;return u.length&&b.push(u.join(":")),b}function k(u){s.setTimeout(()=>{throw u},0)}function O(){var u=ze;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Ke{constructor(){this.h=this.g=null}add(p,b){let I=Ie.get();I.set(p,b),this.h?this.h.next=I:this.g=I,this.h=I}}var Ie=new S(()=>new ct,u=>u.reset());class ct{constructor(){this.next=this.g=this.h=null}set(p,b){this.h=p,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ye,Pt=!1,ze=new Ke,nt=()=>{let u=s.Promise.resolve(void 0);Ye=()=>{u.then(ue)}};var ue=()=>{for(var u;u=O();){try{u.h.call(u.g)}catch(b){k(b)}var p=Ie;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}Pt=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var X=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let b=()=>{};s.addEventListener("test",b,p),s.removeEventListener("test",b,p)}catch{}return u})();function q(u,p){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var b=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(K){e:{try{G(p.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(p=null)}}else b=="mouseover"?p=u.fromElement:b=="mouseout"&&(p=u.toElement);this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:he[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&q.aa.h.call(this)}}v(q,J);var he={2:"touch",3:"pen",4:"mouse"};q.prototype.h=function(){q.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),Le=0;function qe(u,p,b,I,Q){this.listener=u,this.proxy=null,this.src=p,this.type=b,this.capture=!!I,this.ha=Q,this.key=++Le,this.da=this.fa=!1}function _e(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Nt(u){this.src=u,this.g={},this.h=0}Nt.prototype.add=function(u,p,b,I,Q){var oe=u.toString();u=this.g[oe],u||(u=this.g[oe]=[],this.h++);var Oe=gi(u,p,I,Q);return-1<Oe?(p=u[Oe],b||(p.fa=!1)):(p=new qe(p,this.src,oe,!!I,Q),p.fa=b,u.push(p)),p};function W(u,p){var b=p.type;if(b in u.g){var I=u.g[b],Q=Array.prototype.indexOf.call(I,p,void 0),oe;(oe=0<=Q)&&Array.prototype.splice.call(I,Q,1),oe&&(_e(p),u.g[b].length==0&&(delete u.g[b],u.h--))}}function gi(u,p,b,I){for(var Q=0;Q<u.length;++Q){var oe=u[Q];if(!oe.da&&oe.listener==p&&oe.capture==!!b&&oe.ha==I)return Q}return-1}var zt="closure_lm_"+(1e6*Math.random()|0),ri={};function Ft(u,p,b,I,Q){if(I&&I.once)return Er(u,p,b,I,Q);if(Array.isArray(p)){for(var oe=0;oe<p.length;oe++)Ft(u,p[oe],b,I,Q);return null}return b=_a(b),u&&u[We]?u.K(p,b,l(I)?!!I.capture:!!I,Q):je(u,p,b,!1,I,Q)}function je(u,p,b,I,Q,oe){if(!p)throw Error("Invalid event type");var Oe=l(Q)?!!Q.capture:!!Q,_i=Wn(u);if(_i||(u[zt]=_i=new Nt(u)),b=_i.add(p,b,I,Oe,oe),b.proxy)return b;if(I=Wi(),b.proxy=I,I.src=u,I.listener=b,u.addEventListener)X||(Q=Oe),Q===void 0&&(Q=!1),u.addEventListener(p.toString(),I,Q);else if(u.attachEvent)u.attachEvent(Vs(p.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Wi(){function u(b){return p.call(u.src,u.listener,b)}let p=mo;return u}function Er(u,p,b,I,Q){if(Array.isArray(p)){for(var oe=0;oe<p.length;oe++)Er(u,p[oe],b,I,Q);return null}return b=_a(b),u&&u[We]?u.L(p,b,l(I)?!!I.capture:!!I,Q):je(u,p,b,!0,I,Q)}function qr(u,p,b,I,Q){if(Array.isArray(p))for(var oe=0;oe<p.length;oe++)qr(u,p[oe],b,I,Q);else I=l(I)?!!I.capture:!!I,b=_a(b),u&&u[We]?(u=u.i,p=String(p).toString(),p in u.g&&(oe=u.g[p],b=gi(oe,b,I,Q),-1<b&&(_e(oe[b]),Array.prototype.splice.call(oe,b,1),oe.length==0&&(delete u.g[p],u.h--)))):u&&(u=Wn(u))&&(p=u.g[p.toString()],u=-1,p&&(u=gi(p,b,I,Q)),(b=-1<u?p[u]:null)&&Kr(b))}function Kr(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[We])W(p.i,u);else{var b=u.type,I=u.proxy;p.removeEventListener?p.removeEventListener(b,I,u.capture):p.detachEvent?p.detachEvent(Vs(b),I):p.addListener&&p.removeListener&&p.removeListener(I),(b=Wn(p))?(W(b,u),b.h==0&&(b.src=null,p[zt]=null)):_e(u)}}}function Vs(u){return u in ri?ri[u]:ri[u]="on"+u}function mo(u,p){if(u.da)u=!0;else{p=new q(p,this);var b=u.listener,I=u.ha||u.src;u.fa&&Kr(u),u=b.call(I,p)}return u}function Wn(u){return u=u[zt],u instanceof Nt?u:null}var Xr="__closure_events_fn_"+(1e9*Math.random()>>>0);function _a(u){return typeof u=="function"?u:(u[Xr]||(u[Xr]=function(p){return u.handleEvent(p)}),u[Xr])}function Yi(){H.call(this),this.i=new Nt(this),this.M=this,this.F=null}v(Yi,H),Yi.prototype[We]=!0,Yi.prototype.removeEventListener=function(u,p,b,I){qr(this,u,p,b,I)};function ai(u,p){var b,I=u.F;if(I)for(b=[];I;I=I.F)b.push(I);if(u=u.M,I=p.type||p,typeof p=="string")p=new J(p,u);else if(p instanceof J)p.target=p.target||u;else{var Q=p;p=new J(I,u),A(p,Q)}if(Q=!0,b)for(var oe=b.length-1;0<=oe;oe--){var Oe=p.g=b[oe];Q=Cr(Oe,I,!0,p)&&Q}if(Oe=p.g=u,Q=Cr(Oe,I,!0,p)&&Q,Q=Cr(Oe,I,!1,p)&&Q,b)for(oe=0;oe<b.length;oe++)Oe=p.g=b[oe],Q=Cr(Oe,I,!1,p)&&Q}Yi.prototype.N=function(){if(Yi.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var b=u.g[p],I=0;I<b.length;I++)_e(b[I]);delete u.g[p],u.h--}}this.F=null},Yi.prototype.K=function(u,p,b,I){return this.i.add(String(u),p,!1,b,I)},Yi.prototype.L=function(u,p,b,I){return this.i.add(String(u),p,!0,b,I)};function Cr(u,p,b,I){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var Q=!0,oe=0;oe<p.length;++oe){var Oe=p[oe];if(Oe&&!Oe.da&&Oe.capture==b){var _i=Oe.listener,Gn=Oe.ha||Oe.src;Oe.fa&&W(u.i,Oe),Q=_i.call(Gn,I)!==!1&&Q}}return Q&&!I.defaultPrevented}function Mt(u,p,b){if(typeof u=="function")b&&(u=f(u,b));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:s.setTimeout(u,p||0)}function Ni(u){u.g=Mt(()=>{u.g=null,u.i&&(u.i=!1,Ni(u))},u.l);let p=u.h;u.h=null,u.m.apply(null,p)}class Vr extends H{constructor(p,b){super(),this.m=p,this.l=b,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ni(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ri(u){H.call(this),this.h=u,this.g={}}v(Ri,H);var po=[];function Oh(u){j(u.g,function(p,b){this.g.hasOwnProperty(b)&&Kr(p)},u),u.g={}}Ri.prototype.N=function(){Ri.aa.N.call(this),Oh(this)},Ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fh=s.JSON.stringify,Vy=s.JSON.parse,Wp=class{stringify(u){return s.JSON.stringify(u,void 0)}parse(u){return s.JSON.parse(u,void 0)}};function wd(){}wd.prototype.h=null;function Ph(u){return u.h||(u.h=u.i())}function $p(){}var Xc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bs(){J.call(this,"d")}v(Bs,J);function Nh(){J.call(this,"c")}v(Nh,J);var qo={},Gp=null;function xd(){return Gp=Gp||new Yi}qo.La="serverreachability";function qp(u){J.call(this,qo.La,u)}v(qp,J);function Yc(u){let p=xd();ai(p,new qp(p))}qo.STAT_EVENT="statevent";function Kp(u,p){J.call(this,qo.STAT_EVENT,u),this.stat=p}v(Kp,J);function $n(u){let p=xd();ai(p,new Kp(p,u))}qo.Ma="timingevent";function Ed(u,p){J.call(this,qo.Ma,u),this.size=p}v(Ed,J);function Qc(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){u()},p)}function Zc(){this.g=!0}Zc.prototype.xa=function(){this.g=!1};function By(u,p,b,I,Q,oe){u.info(function(){if(u.g)if(oe)for(var Oe="",_i=oe.split("&"),Gn=0;Gn<_i.length;Gn++){var ti=_i[Gn].split("=");if(1<ti.length){var ar=ti[0];ti=ti[1];var or=ar.split("_");Oe=2<=or.length&&or[1]=="type"?Oe+(ar+"="+ti+"&"):Oe+(ar+"=redacted&")}}else Oe=null;else Oe=oe;return"XMLHTTP REQ ("+I+") [attempt "+Q+"]: "+p+`
`+b+`
`+Oe})}function C(u,p,b,I,Q,oe,Oe){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+Q+"]: "+p+`
`+b+`
`+oe+" "+Oe})}function L(u,p,b,I){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+F(u,b)+(I?" "+I:"")})}function M(u,p){u.info(function(){return"TIMEOUT: "+p})}Zc.prototype.info=function(){};function F(u,p){if(!u.g)return p;if(!p)return null;try{var b=JSON.parse(p);if(b){for(u=0;u<b.length;u++)if(Array.isArray(b[u])){var I=b[u];if(!(2>I.length)){var Q=I[1];if(Array.isArray(Q)&&!(1>Q.length)){var oe=Q[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var Oe=1;Oe<Q.length;Oe++)Q[Oe]=""}}}}return Fh(b)}catch{return p}}var U={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},z={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ie;function ce(){}v(ce,wd),ce.prototype.g=function(){return new XMLHttpRequest},ce.prototype.i=function(){return{}},ie=new ce;function te(u,p,b,I){this.j=u,this.i=p,this.l=b,this.R=I||1,this.U=new Ri(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ne}function ne(){this.i=null,this.g="",this.h=!1}var re={},we={};function Te(u,p,b){u.L=1,u.v=Qp(Xo(p)),u.m=b,u.P=!0,Ze(u,null)}function Ze(u,p){u.F=Date.now(),gt(u),u.A=Xo(u.v);var b=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),jS(b.i,"t",I),u.C=0,b=u.j.J,u.h=new ne,u.g=ok(u.j,b?p:null,!u.m),0<u.O&&(u.M=new Vr(f(u.Y,u,u.g),u.O)),p=u.U,b=u.g,I=u.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(po[0]=Q.toString()),Q=po);for(var oe=0;oe<Q.length;oe++){var Oe=Ft(b,Q[oe],I||p.handleEvent,!1,p.h||p);if(!Oe)break;p.g[Oe.key]=Oe}p=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Yc(),By(u.i,u.u,u.A,u.l,u.R,u.m)}te.prototype.ca=function(u){u=u.target;let p=this.M;p&&Yo(u)==3?p.j():this.Y(u)},te.prototype.Y=function(u){try{if(u==this.g)e:{let or=Yo(this.g);var p=this.g.Ba();let kd=this.g.Z();if(!(3>or)&&(or!=3||this.g&&(this.h.h||this.g.oa()||XS(this.g)))){this.J||or!=4||p==7||(p==8||0>=kd?Yc(3):Yc(2)),On(this);var b=this.g.Z();this.X=b;t:if(Se(this)){var I=XS(this.g);u="";var Q=I.length,oe=Yo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),Ti(this);var Oe="";break t}this.h.i=new s.TextDecoder}for(p=0;p<Q;p++)this.h.h=!0,u+=this.h.i.decode(I[p],{stream:!(oe&&p==Q-1)});I.length=0,this.h.g+=u,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=b==200,C(this.i,this.u,this.A,this.l,this.R,or,b),this.o){if(this.T&&!this.K){t:{if(this.g){var _i,Gn=this.g;if((_i=Gn.g?Gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(_i)){var ti=_i;break t}}ti=null}if(b=ti)L(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ko(this,b);else{this.o=!1,this.s=3,$n(12),an(this),Ti(this);break e}}if(this.P){b=!0;let Na;for(;!this.J&&this.C<Oe.length;)if(Na=Pe(this,Oe),Na==we){or==4&&(this.s=4,$n(14),b=!1),L(this.i,this.l,null,"[Incomplete Response]");break}else if(Na==re){this.s=4,$n(15),L(this.i,this.l,Oe,"[Invalid Chunk]"),b=!1;break}else L(this.i,this.l,Na,null),Ko(this,Na);if(Se(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),or!=4||Oe.length!=0||this.h.h||(this.s=1,$n(16),b=!1),this.o=this.o&&b,!b)L(this.i,this.l,Oe,"[Invalid Chunked Response]"),an(this),Ti(this);else if(0<Oe.length&&!this.W){this.W=!0;var ar=this.j;ar.g==this&&ar.ba&&!ar.M&&(ar.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),$y(ar),ar.M=!0,$n(11))}}else L(this.i,this.l,Oe,null),Ko(this,Oe);or==4&&an(this),this.o&&!this.J&&(or==4?ik(this.j,this):(this.o=!1,gt(this)))}else U3(this.g),b==400&&0<Oe.indexOf("Unknown SID")?(this.s=3,$n(12)):(this.s=0,$n(13)),an(this),Ti(this)}}}catch{}finally{}};function Se(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Pe(u,p){var b=u.C,I=p.indexOf(`
`,b);return I==-1?we:(b=Number(p.substring(b,I)),isNaN(b)?re:(I+=1,I+b>p.length?we:(p=p.slice(I,I+b),u.C=I+b,p)))}te.prototype.cancel=function(){this.J=!0,an(this)};function gt(u){u.S=Date.now()+u.I,hi(u,u.I)}function hi(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Qc(f(u.ba,u),p)}function On(u){u.B&&(s.clearTimeout(u.B),u.B=null)}te.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(M(this.i,this.A),this.L!=2&&(Yc(),$n(17)),an(this),this.s=2,Ti(this)):hi(this,this.S-u)};function Ti(u){u.j.G==0||u.J||ik(u.j,u)}function an(u){On(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Oh(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Ko(u,p){try{var b=u.j;if(b.G!=0&&(b.g==u||Uy(b.h,u))){if(!u.K&&Uy(b.h,u)&&b.G==3){try{var I=b.Da.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var Q=I;if(Q[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<u.F)ig(b),eg(b);else break e;Wy(b),$n(18)}}else b.za=Q[1],0<b.za-b.T&&37500>Q[2]&&b.F&&b.v==0&&!b.C&&(b.C=Qc(f(b.Za,b),6e3));if(1>=va(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else tl(b,11)}else if((u.K||b.g==u)&&ig(b),!D(p))for(Q=b.Da.g.parse(p),p=0;p<Q.length;p++){let ti=Q[p];if(b.T=ti[0],ti=ti[1],b.G==2)if(ti[0]=="c"){b.K=ti[1],b.ia=ti[2];let ar=ti[3];ar!=null&&(b.la=ar,b.j.info("VER="+b.la));let or=ti[4];or!=null&&(b.Aa=or,b.j.info("SVER="+b.Aa));let kd=ti[5];kd!=null&&typeof kd=="number"&&0<kd&&(I=1.5*kd,b.L=I,b.j.info("backChannelRequestTimeoutMs_="+I)),I=b;let Na=u.g;if(Na){let rg=Na.g?Na.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rg){var oe=I.h;oe.g||rg.indexOf("spdy")==-1&&rg.indexOf("quic")==-1&&rg.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(zy(oe,oe.h),oe.h=null))}if(I.D){let Gy=Na.g?Na.g.getResponseHeader("X-HTTP-Session-Id"):null;Gy&&(I.ya=Gy,Mi(I.I,I.D,Gy))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-u.F,b.j.info("Handshake RTT: "+b.R+"ms")),I=b;var Oe=u;if(I.qa=ak(I,I.J?I.ia:null,I.W),Oe.K){FS(I.h,Oe);var _i=Oe,Gn=I.L;Gn&&(_i.I=Gn),_i.B&&(On(_i),gt(_i)),I.g=Oe}else ek(I);0<b.i.length&&tg(b)}else ti[0]!="stop"&&ti[0]!="close"||tl(b,7);else b.G==3&&(ti[0]=="stop"||ti[0]=="close"?ti[0]=="stop"?tl(b,7):Hy(b):ti[0]!="noop"&&b.l&&b.l.ta(ti),b.v=0)}}Yc(4)}catch{}}var Jc=class{constructor(u,p){this.g=u,this.map=p}};function go(u){this.l=u||10,s.PerformanceNavigationTiming?(u=s.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cd(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function va(u){return u.h?1:u.g?u.g.size:0}function Uy(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function zy(u,p){u.g?u.g.add(p):u.h=p}function FS(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}go.prototype.cancel=function(){if(this.i=PS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function PS(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(let b of u.g.values())p=p.concat(b.D);return p}return _(u.i)}function T3(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var p=[],b=u.length,I=0;I<b;I++)p.push(u[I]);return p}p=[],b=0;for(I in u)p[b++]=u[I];return p}function S3(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var p=[];u=u.length;for(var b=0;b<u;b++)p.push(b);return p}p=[],b=0;for(let I in u)p[b++]=I;return p}}}function NS(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var b=S3(u),I=T3(u),Q=I.length,oe=0;oe<Q;oe++)p.call(void 0,I[oe],b&&b[oe],u)}var LS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function k3(u,p){if(u){u=u.split("&");for(var b=0;b<u.length;b++){var I=u[b].indexOf("="),Q=null;if(0<=I){var oe=u[b].substring(0,I);Q=u[b].substring(I+1)}else oe=u[b];p(oe,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function el(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof el){this.h=u.h,Xp(this,u.j),this.o=u.o,this.g=u.g,Yp(this,u.s),this.l=u.l;var p=u.i,b=new Bh;b.i=p.i,p.g&&(b.g=new Map(p.g),b.h=p.h),VS(this,b),this.m=u.m}else u&&(p=String(u).match(LS))?(this.h=!1,Xp(this,p[1]||"",!0),this.o=Lh(p[2]||""),this.g=Lh(p[3]||"",!0),Yp(this,p[4]),this.l=Lh(p[5]||"",!0),VS(this,p[6]||"",!0),this.m=Lh(p[7]||"")):(this.h=!1,this.i=new Bh(null,this.h))}el.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Vh(p,BS,!0),":");var b=this.g;return(b||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Vh(p,BS,!0),"@"),u.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&u.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Vh(b,b.charAt(0)=="/"?A3:D3,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Vh(b,M3)),u.join("")};function Xo(u){return new el(u)}function Xp(u,p,b){u.j=b?Lh(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Yp(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function VS(u,p,b){p instanceof Bh?(u.i=p,O3(u.i,u.h)):(b||(p=Vh(p,R3)),u.i=new Bh(p,u.h))}function Mi(u,p,b){u.i.set(p,b)}function Qp(u){return Mi(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Lh(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vh(u,p,b){return typeof u=="string"?(u=encodeURI(u).replace(p,I3),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function I3(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var BS=/[#\/\?@]/g,D3=/[#\?:]/g,A3=/[#\?]/g,R3=/[#\?@]/g,M3=/#/g;function Bh(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Us(u){u.g||(u.g=new Map,u.h=0,u.i&&k3(u.i,function(p,b){u.add(decodeURIComponent(p.replace(/\+/g," ")),b)}))}i=Bh.prototype,i.add=function(u,p){Us(this),this.i=null,u=Td(this,u);var b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(p),this.h+=1,this};function US(u,p){Us(u),p=Td(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function zS(u,p){return Us(u),p=Td(u,p),u.g.has(p)}i.forEach=function(u,p){Us(this),this.g.forEach(function(b,I){b.forEach(function(Q){u.call(p,Q,I,this)},this)},this)},i.na=function(){Us(this);let u=Array.from(this.g.values()),p=Array.from(this.g.keys()),b=[];for(let I=0;I<p.length;I++){let Q=u[I];for(let oe=0;oe<Q.length;oe++)b.push(p[I])}return b},i.V=function(u){Us(this);let p=[];if(typeof u=="string")zS(this,u)&&(p=p.concat(this.g.get(Td(this,u))));else{u=Array.from(this.g.values());for(let b=0;b<u.length;b++)p=p.concat(u[b])}return p},i.set=function(u,p){return Us(this),this.i=null,u=Td(this,u),zS(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},i.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function jS(u,p,b){US(u,p),0<b.length&&(u.i=null,u.g.set(Td(u,p),_(b)),u.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],p=Array.from(this.g.keys());for(var b=0;b<p.length;b++){var I=p[b];let oe=encodeURIComponent(String(I)),Oe=this.V(I);for(I=0;I<Oe.length;I++){var Q=oe;Oe[I]!==""&&(Q+="="+encodeURIComponent(String(Oe[I]))),u.push(Q)}}return this.i=u.join("&")};function Td(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function O3(u,p){p&&!u.j&&(Us(u),u.i=null,u.g.forEach(function(b,I){var Q=I.toLowerCase();I!=Q&&(US(this,I),jS(this,Q,b))},u)),u.j=p}function F3(u,p){let b=new Zc;if(s.Image){let I=new Image;I.onload=m(zs,b,"TestLoadImage: loaded",!0,p,I),I.onerror=m(zs,b,"TestLoadImage: error",!1,p,I),I.onabort=m(zs,b,"TestLoadImage: abort",!1,p,I),I.ontimeout=m(zs,b,"TestLoadImage: timeout",!1,p,I),s.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else p(!1)}function P3(u,p){let b=new Zc,I=new AbortController,Q=setTimeout(()=>{I.abort(),zs(b,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:I.signal}).then(oe=>{clearTimeout(Q),oe.ok?zs(b,"TestPingServer: ok",!0,p):zs(b,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(Q),zs(b,"TestPingServer: error",!1,p)})}function zs(u,p,b,I,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),I(b)}catch{}}function N3(){this.g=new Wp}function L3(u,p,b){let I=b||"";try{NS(u,function(Q,oe){let Oe=Q;l(Q)&&(Oe=Fh(Q)),p.push(I+oe+"="+encodeURIComponent(Oe))})}catch(Q){throw p.push(I+"type="+encodeURIComponent("_badmap")),Q}}function Uh(u){this.l=u.Ub||null,this.j=u.eb||!1}v(Uh,wd),Uh.prototype.g=function(){return new Zp(this.l,this.j)},Uh.prototype.i=(function(u){return function(){return u}})({});function Zp(u,p){Yi.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Zp,Yi),i=Zp.prototype,i.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,jh(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||s).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zh(this)),this.readyState=0},i.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jh(this)),this.g&&(this.readyState=3,jh(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;HS(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function HS(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}i.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?zh(this):jh(this),this.readyState==3&&HS(this)}},i.Ra=function(u){this.g&&(this.response=this.responseText=u,zh(this))},i.Qa=function(u){this.g&&(this.response=u,zh(this))},i.ga=function(){this.g&&zh(this)};function zh(u){u.readyState=4,u.l=null,u.j=null,u.v=null,jh(u)}i.setRequestHeader=function(u,p){this.u.append(u,p)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],p=this.h.entries();for(var b=p.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=p.next();return u.join(`\r
`)};function jh(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Zp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function WS(u){let p="";return j(u,function(b,I){p+=I,p+=":",p+=b,p+=`\r
`}),p}function jy(u,p,b){e:{for(I in b){var I=!1;break e}I=!0}I||(b=WS(b),typeof u=="string"?b!=null&&encodeURIComponent(String(b)):Mi(u,p,b))}function Qi(u){Yi.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Qi,Yi);var V3=/^https?$/i,B3=["POST","PUT"];i=Qi.prototype,i.Ha=function(u){this.J=u},i.ea=function(u,p,b,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ie.g(),this.v=this.o?Ph(this.o):Ph(ie),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(oe){$S(this,oe);return}if(u=b||"",b=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var Q in I)b.set(Q,I[Q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(let oe of I.keys())b.set(oe,I.get(oe));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(b.keys()).find(oe=>oe.toLowerCase()=="content-type"),Q=s.FormData&&u instanceof s.FormData,!(0<=Array.prototype.indexOf.call(B3,p,void 0))||I||Q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[oe,Oe]of b)this.g.setRequestHeader(oe,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{KS(this),this.u=!0,this.g.send(u),this.u=!1}catch(oe){$S(this,oe)}};function $S(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,GS(u),Jp(u)}function GS(u){u.A||(u.A=!0,ai(u,"complete"),ai(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ai(this,"complete"),ai(this,"abort"),Jp(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jp(this,!0)),Qi.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?qS(this):this.bb())},i.bb=function(){qS(this)};function qS(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Yo(u)!=4||u.Z()!=2)){if(u.u&&Yo(u)==4)Mt(u.Ea,0,u);else if(ai(u,"readystatechange"),Yo(u)==4){u.h=!1;try{let Oe=u.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var b;if(!(b=p)){var I;if(I=Oe===0){var Q=String(u.D).match(LS)[1]||null;!Q&&s.self&&s.self.location&&(Q=s.self.location.protocol.slice(0,-1)),I=!V3.test(Q?Q.toLowerCase():"")}b=I}if(b)ai(u,"complete"),ai(u,"success");else{u.m=6;try{var oe=2<Yo(u)?u.g.statusText:""}catch{oe=""}u.l=oe+" ["+u.Z()+"]",GS(u)}}finally{Jp(u)}}}}function Jp(u,p){if(u.g){KS(u);let b=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||ai(u,"ready");try{b.onreadystatechange=I}catch{}}}function KS(u){u.I&&(s.clearTimeout(u.I),u.I=null)}i.isActive=function(){return!!this.g};function Yo(u){return u.g?u.g.readyState:0}i.Z=function(){try{return 2<Yo(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Vy(p)}};function XS(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function U3(u){let p={};u=(u.g&&2<=Yo(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(D(u[I]))continue;var b=R(u[I]);let Q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();let oe=p[Q]||[];p[Q]=oe,oe.push(b)}w(p,function(I){return I.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hh(u,p,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||p}function YS(u){this.Aa=0,this.i=[],this.j=new Zc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hh("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hh("baseRetryDelayMs",5e3,u),this.cb=Hh("retryDelaySeedMs",1e4,u),this.Wa=Hh("forwardChannelMaxRetries",2,u),this.wa=Hh("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new go(u&&u.concurrentRequestLimit),this.Da=new N3,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=YS.prototype,i.la=8,i.G=1,i.connect=function(u,p,b,I){$n(0),this.W=u,this.H=p||{},b&&I!==void 0&&(this.H.OSID=b,this.H.OAID=I),this.F=this.X,this.I=ak(this,null,this.W),tg(this)};function Hy(u){if(QS(u),u.G==3){var p=u.U++,b=Xo(u.I);if(Mi(b,"SID",u.K),Mi(b,"RID",p),Mi(b,"TYPE","terminate"),Wh(u,b),p=new te(u,u.j,p),p.L=2,p.v=Qp(Xo(b)),b=!1,s.navigator&&s.navigator.sendBeacon)try{b=s.navigator.sendBeacon(p.v.toString(),"")}catch{}!b&&s.Image&&(new Image().src=p.v,b=!0),b||(p.g=ok(p.j,null),p.g.ea(p.v)),p.F=Date.now(),gt(p)}rk(u)}function eg(u){u.g&&($y(u),u.g.cancel(),u.g=null)}function QS(u){eg(u),u.u&&(s.clearTimeout(u.u),u.u=null),ig(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&s.clearTimeout(u.s),u.s=null)}function tg(u){if(!Cd(u.h)&&!u.s){u.s=!0;var p=u.Ga;Ye||nt(),Pt||(Ye(),Pt=!0),ze.add(p,u),u.B=0}}function z3(u,p){return va(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Qc(f(u.Ga,u,p),nk(u,u.B)),u.B++,!0)}i.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let Q=new te(this,this.j,u),oe=this.o;if(this.S&&(oe?(oe=x(oe),A(oe,this.S)):oe=this.S),this.m!==null||this.O||(Q.H=oe,oe=null),this.P)e:{for(var p=0,b=0;b<this.i.length;b++){t:{var I=this.i[b];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,4096<p){p=b;break e}if(p===4096||b===this.i.length-1){p=b+1;break e}}p=1e3}else p=1e3;p=JS(this,Q,p),b=Xo(this.I),Mi(b,"RID",u),Mi(b,"CVER",22),this.D&&Mi(b,"X-HTTP-Session-Id",this.D),Wh(this,b),oe&&(this.O?p="headers="+encodeURIComponent(String(WS(oe)))+"&"+p:this.m&&jy(b,this.m,oe)),zy(this.h,Q),this.Ua&&Mi(b,"TYPE","init"),this.P?(Mi(b,"$req",p),Mi(b,"SID","null"),Q.T=!0,Te(Q,b,null)):Te(Q,b,p),this.G=2}}else this.G==3&&(u?ZS(this,u):this.i.length==0||Cd(this.h)||ZS(this))};function ZS(u,p){var b;p?b=p.l:b=u.U++;let I=Xo(u.I);Mi(I,"SID",u.K),Mi(I,"RID",b),Mi(I,"AID",u.T),Wh(u,I),u.m&&u.o&&jy(I,u.m,u.o),b=new te(u,u.j,b,u.B+1),u.m===null&&(b.H=u.o),p&&(u.i=p.D.concat(u.i)),p=JS(u,b,1e3),b.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),zy(u.h,b),Te(b,I,p)}function Wh(u,p){u.H&&j(u.H,function(b,I){Mi(p,I,b)}),u.l&&NS({},function(b,I){Mi(p,I,b)})}function JS(u,p,b){b=Math.min(u.i.length,b);var I=u.l?f(u.l.Na,u.l,u):null;e:{var Q=u.i;let oe=-1;for(;;){let Oe=["count="+b];oe==-1?0<b?(oe=Q[0].g,Oe.push("ofs="+oe)):oe=0:Oe.push("ofs="+oe);let _i=!0;for(let Gn=0;Gn<b;Gn++){let ti=Q[Gn].g,ar=Q[Gn].map;if(ti-=oe,0>ti)oe=Math.max(0,Q[Gn].g-100),_i=!1;else try{L3(ar,Oe,"req"+ti+"_")}catch{I&&I(ar)}}if(_i){I=Oe.join("&");break e}}}return u=u.i.splice(0,b),p.D=u,I}function ek(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Ye||nt(),Pt||(Ye(),Pt=!0),ze.add(p,u),u.v=0}}function Wy(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Qc(f(u.Fa,u),nk(u,u.v)),u.v++,!0)}i.Fa=function(){if(this.u=null,tk(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Qc(f(this.ab,this),u)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$n(10),eg(this),tk(this))};function $y(u){u.A!=null&&(s.clearTimeout(u.A),u.A=null)}function tk(u){u.g=new te(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Xo(u.qa);Mi(p,"RID","rpc"),Mi(p,"SID",u.K),Mi(p,"AID",u.T),Mi(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Mi(p,"TO",u.ja),Mi(p,"TYPE","xmlhttp"),Wh(u,p),u.m&&u.o&&jy(p,u.m,u.o),u.L&&(u.g.I=u.L);var b=u.g;u=u.ia,b.L=1,b.v=Qp(Xo(p)),b.m=null,b.P=!0,Ze(b,u)}i.Za=function(){this.C!=null&&(this.C=null,eg(this),Wy(this),$n(19))};function ig(u){u.C!=null&&(s.clearTimeout(u.C),u.C=null)}function ik(u,p){var b=null;if(u.g==p){ig(u),$y(u),u.g=null;var I=2}else if(Uy(u.h,p))b=p.D,FS(u.h,p),I=1;else return;if(u.G!=0){if(p.o)if(I==1){b=p.m?p.m.length:0,p=Date.now()-p.F;var Q=u.B;I=xd(),ai(I,new Ed(I,b)),tg(u)}else ek(u);else if(Q=p.s,Q==3||Q==0&&0<p.X||!(I==1&&z3(u,p)||I==2&&Wy(u)))switch(b&&0<b.length&&(p=u.h,p.i=p.i.concat(b)),Q){case 1:tl(u,5);break;case 4:tl(u,10);break;case 3:tl(u,6);break;default:tl(u,2)}}}function nk(u,p){let b=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(b*=2),b*p}function tl(u,p){if(u.j.info("Error code "+p),p==2){var b=f(u.fb,u),I=u.Xa;let Q=!I;I=new el(I||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Xp(I,"https"),Qp(I),Q?F3(I.toString(),b):P3(I.toString(),b)}else $n(2);u.G=0,u.l&&u.l.sa(p),rk(u),QS(u)}i.fb=function(u){u?(this.j.info("Successfully pinged google.com"),$n(2)):(this.j.info("Failed to ping google.com"),$n(1))};function rk(u){if(u.G=0,u.ka=[],u.l){let p=PS(u.h);(p.length!=0||u.i.length!=0)&&(y(u.ka,p),y(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function ak(u,p,b){var I=b instanceof el?Xo(b):new el(b);if(I.g!="")p&&(I.g=p+"."+I.g),Yp(I,I.s);else{var Q=s.location;I=Q.protocol,p=p?p+"."+Q.hostname:Q.hostname,Q=+Q.port;var oe=new el(null);I&&Xp(oe,I),p&&(oe.g=p),Q&&Yp(oe,Q),b&&(oe.l=b),I=oe}return b=u.D,p=u.ya,b&&p&&Mi(I,b,p),Mi(I,"VER",u.la),Wh(u,I),I}function ok(u,p,b){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Qi(new Uh({eb:b})):new Qi(u.pa),p.Ha(u.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function sk(){}i=sk.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ng(){}ng.prototype.g=function(u,p){return new Yr(u,p)};function Yr(u,p){Yi.call(this),this.g=new YS(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!D(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!D(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Sd(this)}v(Yr,Yi),Yr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yr.prototype.close=function(){Hy(this.g)},Yr.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.u&&(b={},b.__data__=Fh(u),u=b);p.i.push(new Jc(p.Ya++,u)),p.G==3&&tg(p)},Yr.prototype.N=function(){this.g.l=null,delete this.j,Hy(this.g),delete this.g,Yr.aa.N.call(this)};function ck(u){Bs.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(let b in p){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}v(ck,Bs);function lk(){Nh.call(this),this.status=1}v(lk,Nh);function Sd(u){this.g=u}v(Sd,sk),Sd.prototype.ua=function(){ai(this.g,"a")},Sd.prototype.ta=function(u){ai(this.g,new ck(u))},Sd.prototype.sa=function(u){ai(this.g,new lk)},Sd.prototype.ra=function(){ai(this.g,"b")},ng.prototype.createWebChannel=ng.prototype.g,Yr.prototype.send=Yr.prototype.o,Yr.prototype.open=Yr.prototype.m,Yr.prototype.close=Yr.prototype.close,zx=vs.createWebChannelTransport=function(){return new ng},Ux=vs.getStatEventTarget=function(){return xd()},Bx=vs.Event=qo,l_=vs.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},U.NO_ERROR=0,U.TIMEOUT=8,U.HTTP_ERROR=6,Em=vs.ErrorCode=U,z.COMPLETE="complete",Vx=vs.EventType=z,$p.EventType=Xc,Xc.OPEN="a",Xc.CLOSE="b",Xc.ERROR="c",Xc.MESSAGE="d",Yi.prototype.listen=Yi.prototype.K,Du=vs.WebChannel=$p,Az=vs.FetchXmlHttpFactory=Uh,Qi.prototype.listenOnce=Qi.prototype.L,Qi.prototype.getLastError=Qi.prototype.Ka,Qi.prototype.getLastErrorCode=Qi.prototype.Ba,Qi.prototype.getStatus=Qi.prototype.Z,Qi.prototype.getResponseJson=Qi.prototype.Oa,Qi.prototype.getResponseText=Qi.prototype.oa,Qi.prototype.send=Qi.prototype.ea,Qi.prototype.setWithCredentials=Qi.prototype.Ha,Lx=vs.XhrIo=Qi}).apply(typeof c_<"u"?c_:typeof self<"u"?self:typeof window<"u"?window:{});var $2="@firebase/firestore",G2="4.8.0";var Bn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");var Qu="11.10.0";var jl=new Ao("@firebase/firestore");function Au(){return jl.logLevel}function Xe(i,...t){if(jl.logLevel<=Ht.DEBUG){let e=t.map(FE);jl.debug(`Firestore (${Qu}): ${i}`,...e)}}function bs(i,...t){if(jl.logLevel<=Ht.ERROR){let e=t.map(FE);jl.error(`Firestore (${Qu}): ${i}`,...e)}}function Cc(i,...t){if(jl.logLevel<=Ht.WARN){let e=t.map(FE);jl.warn(`Firestore (${Qu}): ${i}`,...e)}}function FE(i){if(typeof i=="string")return i;try{return(function(e){return JSON.stringify(e)})(i)}catch{return i}}function ut(i,t,e){let n="Unexpected state";typeof t=="string"?n=t:e=t,LM(i,n,e)}function LM(i,t,e){let n=`FIRESTORE (${Qu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{n+=" CONTEXT: "+JSON.stringify(e)}catch{n+=" CONTEXT: "+e}throw bs(n),new Error(n)}function Yt(i,t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,i||LM(t,r,n)}function Ct(i,t){return i}var de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ue=class extends Or{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Da=class{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};var g_=class{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},$x=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Bn.UNAUTHENTICATED))}shutdown(){}},Gx=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}},qx=class{constructor(t){this.t=t,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Yt(this.o===void 0,42304);let n=this.i,r=c=>this.i!==n?(n=this.i,e(c)):Promise.resolve(),a=new Da;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Da,t.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=a;t.enqueueRetryable(()=>N(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},s=c=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>s(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?s(c):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Da)}},0),o()}getToken(){let t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Yt(typeof n.accessToken=="string",31837,{l:n}),new g_(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new Bn(t)}},Kx=class{constructor(t,e,n){this.P=t,this.T=e,this.I=n,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Xx=class{constructor(t,e,n){this.P=t,this.T=e,this.I=n}getToken(){return Promise.resolve(new Kx(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},__=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Yx=class{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Yt(this.o===void 0,3512);let n=a=>{a.error!=null&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);let o=a.token!==this.m;return this.m=a.token,Xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};let r=a=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){let a=this.V.getImmediate({optional:!0});a?r(a):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new __(this.p));let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Yt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new __(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Rz(i){let t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<i;n++)e[n]=Math.floor(256*Math.random());return e}function VM(){return new TextEncoder}var Am=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516),n="";for(;n.length<20;){let r=Rz(40);for(let a=0;a<r.length;++a)n.length<20&&r[a]<e&&(n+=t.charAt(r[a]%62))}return n}};function Vt(i,t){return i<t?-1:i>t?1:0}function Qx(i,t){let e=0;for(;e<i.length&&e<t.length;){let n=i.codePointAt(e),r=t.codePointAt(e);if(n!==r){if(n<128&&r<128)return Vt(n,r);{let a=VM(),o=Mz(a.encode(q2(i,e)),a.encode(q2(t,e)));return o!==0?o:Vt(n,r)}}e+=n>65535?2:1}return Vt(i.length,t.length)}function q2(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function Mz(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return Vt(i[e],t[e]);return Vt(i.length,t.length)}function Lu(i,t,e){return i.length===t.length&&i.every((n,r)=>e(n,t[r]))}var Zx="__name__",v_=class i{constructor(t,e,n){e===void 0?e=0:e>t.length&&ut(637,{offset:e,range:t.length}),n===void 0?n=t.length-e:n>t.length-e&&ut(1746,{length:n,range:t.length-e}),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return i.comparator(this,t)===0}child(t){let e=this.segments.slice(this.offset,this.limit());return t instanceof i?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++){let a=i.compareSegments(t.get(r),e.get(r));if(a!==0)return a}return Vt(t.length,e.length)}static compareSegments(t,e){let n=i.isNumericId(t),r=i.isNumericId(e);return n&&!r?-1:!n&&r?1:n&&r?i.extractNumericId(t).compare(i.extractNumericId(e)):Qx(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return _s.fromString(t.substring(4,t.length-2))}},Di=class i extends v_{construct(t,e,n){return new i(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let e=[];for(let n of t){if(n.indexOf("//")>=0)throw new Ue(de.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(r=>r.length>0))}return new i(e)}static emptyPath(){return new i([])}},Oz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,da=class i extends v_{construct(t,e,n){return new i(t,e,n)}static isValidIdentifier(t){return Oz.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zx}static keyField(){return new i([Zx])}static fromServerFormat(t){let e=[],n="",r=0,a=()=>{if(n.length===0)throw new Ue(de.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""},o=!1;for(;r<t.length;){let s=t[r];if(s==="\\"){if(r+1===t.length)throw new Ue(de.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let c=t[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ue(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,r+=2}else s==="`"?(o=!o,r++):s!=="."||o?(n+=s,r++):(a(),r++)}if(a(),o)throw new Ue(de.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new i(e)}static emptyPath(){return new i([])}};var ht=class i{constructor(t){this.path=t}static fromPath(t){return new i(Di.fromString(t))}static fromName(t){return new i(Di.fromString(t).popFirst(5))}static empty(){return new i(Di.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Di.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Di.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new i(new Di(t.slice()))}};function BM(i,t,e){if(!e)throw new Ue(de.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function Fz(i,t,e,n){if(t===!0&&n===!0)throw new Ue(de.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function K2(i){if(!ht.isDocumentKey(i))throw new Ue(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function X2(i){if(ht.isDocumentKey(i))throw new Ue(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function UM(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Y_(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{let t=(function(n){return n.constructor?n.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":ut(12329,{type:typeof i})}function ua(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Ue(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let e=Y_(i);throw new Ue(de.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function xn(i,t){let e={typeString:i};return t&&(e.value=t),e}function Hm(i,t){if(!UM(i))throw new Ue(de.INVALID_ARGUMENT,"JSON must be an object");let e;for(let n in t)if(t[n]){let r=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in i)){e=`JSON missing required field: '${n}'`;break}let o=i[n];if(r&&typeof o!==r){e=`JSON field '${n}' must be a ${r}.`;break}if(a!==void 0&&o!==a.value){e=`Expected '${n}' field to equal '${a.value}'`;break}}if(e)throw new Ue(de.INVALID_ARGUMENT,e);return!0}var Y2=-62135596800,Q2=1e6,En=class i{static now(){return i.fromMillis(Date.now())}static fromDate(t){return i.fromMillis(t.getTime())}static fromMillis(t){let e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*Q2);return new i(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ue(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ue(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Y2)throw new Ue(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ue(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q2}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:i._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hm(t,i._jsonSchema))return new i(t.seconds,t.nanoseconds)}valueOf(){let t=this.seconds-Y2;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};En._jsonSchemaVersion="firestore/timestamp/1.0",En._jsonSchema={type:xn("string",En._jsonSchemaVersion),seconds:xn("number"),nanoseconds:xn("number")};var wt=class i{static fromTimestamp(t){return new i(t)}static min(){return new i(new En(0,0))}static max(){return new i(new En(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Rm=-1,Jx=class{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}};Jx.UNKNOWN_ID=-1;function Pz(i,t){let e=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,r=wt.fromTimestamp(n===1e9?new En(e+1,0):new En(e,n));return new Hl(r,ht.empty(),t)}function Nz(i){return new Hl(i.readTime,i.key,Rm)}var Hl=class i{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new i(wt.min(),ht.empty(),Rm)}static max(){return new i(wt.max(),ht.empty(),Rm)}};function Lz(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=ht.comparator(i.documentKey,t.documentKey),e!==0?e:Vt(i.largestBatchId,t.largestBatchId))}var Vz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",e1=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};function Zu(i){return N(this,null,function*(){if(i.code!==de.FAILED_PRECONDITION||i.message!==Vz)throw i;Xe("LocalStore","Unexpectedly lost primary lease")})}var be=class i{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new i((n,r)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,r)},this.catchCallback=a=>{this.wrapFailure(e,a).next(n,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{let e=t();return e instanceof i?e:i.resolve(e)}catch(e){return i.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):i.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):i.reject(e)}static resolve(t){return new i((e,n)=>{e(t)})}static reject(t){return new i((e,n)=>{n(t)})}static waitFor(t){return new i((e,n)=>{let r=0,a=0,o=!1;t.forEach(s=>{++r,s.next(()=>{++a,o&&a===r&&e()},c=>n(c))}),o=!0,a===r&&e()})}static or(t){let e=i.resolve(!1);for(let n of t)e=e.next(r=>r?i.resolve(r):n());return e}static forEach(t,e){let n=[];return t.forEach((r,a)=>{n.push(e.call(this,r,a))}),this.waitFor(n)}static mapArray(t,e){return new i((n,r)=>{let a=t.length,o=new Array(a),s=0;for(let c=0;c<a;c++){let l=c;e(t[l]).next(d=>{o[l]=d,++s,s===a&&n(o)},d=>r(d))}})}static doWhile(t,e){return new i((n,r)=>{let a=()=>{t()===!0?e().next(()=>{a()},r):n()};a()})}};function Bz(i){let t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ju(i){return i.name==="IndexedDbTransactionError"}var PE=(()=>{class i{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ae&&this.ae(e),e}}i.ue=-1;return i})(),NE=-1;function Wm(i){return i==null}function Mm(i){return i===0&&1/i==-1/0}function Uz(i){return typeof i=="number"&&Number.isInteger(i)&&!Mm(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}var zM="";function zz(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=Z2(t)),t=jz(i.get(e),t);return Z2(t)}function jz(i,t){let e=t,n=i.length;for(let r=0;r<n;r++){let a=i.charAt(r);switch(a){case"\0":e+="";break;case zM:e+="";break;default:e+=a}}return e}function Z2(i){return i+zM+""}var Hz="remoteDocuments",jM="owner";var HM="mutationQueues";var WM="mutations";var $M="documentMutations",Wz="remoteDocumentsV14";var GM="remoteDocumentGlobal";var qM="targets";var KM="targetDocuments";var XM="targetGlobal",YM="collectionParents";var QM="clientMetadata";var ZM="bundles";var JM="namedQueries";var $z="indexConfiguration";var Gz="indexState";var qz="indexEntries";var eO="documentOverlays";var Kz="globals";var Xz=[HM,WM,$M,Hz,qM,jM,XM,KM,QM,GM,YM,ZM,JM],d0e=[...Xz,eO],Yz=[HM,WM,$M,Wz,qM,jM,XM,KM,QM,GM,YM,ZM,JM,eO],Qz=Yz,Zz=[...Qz,$z,Gz,qz];var u0e=[...Zz,Kz];function J2(i){let t=0;for(let e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Dc(i,t){for(let e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function tO(i){for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}var tn=class i{constructor(t,e){this.comparator=t,this.root=e||Mo.EMPTY}insert(t,e){return new i(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Mo.BLACK,null,null))}remove(t){return new i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Mo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){let n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(t,n.key);if(r===0)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){let t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fu(this.root,t,this.comparator,!0)}},Fu=class{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?n(t.key,e):1,e&&r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},Mo=class i{constructor(t,e,n,r,a){this.key=t,this.value=e,this.color=n??i.RED,this.left=r??i.EMPTY,this.right=a??i.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,a){return new i(t??this.key,e??this.value,n??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this,a=n(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,e,n),null):a===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return i.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return i.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ut(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw ut(27949);return t+(this.isRed()?0:1)}};Mo.EMPTY=null,Mo.RED=!0,Mo.BLACK=!1;Mo.EMPTY=new class{constructor(){this.size=0}get key(){throw ut(57766)}get value(){throw ut(16141)}get color(){throw ut(16727)}get left(){throw ut(29726)}get right(){throw ut(36894)}copy(t,e,n,r,a){return this}insert(t,e,n){return new Mo(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Un=class i{constructor(t){this.comparator=t,this.data=new tn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){let n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){let e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new y_(this.data.getIterator())}getIteratorFrom(t){return new y_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof i)||this.size!==t.size)return!1;let e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){let r=e.getNext().key,a=n.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(e=>{t.push(e)}),t}toString(){let t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){let e=new i(this.comparator);return e.data=t,e}},y_=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ia=class i{constructor(t){this.fields=t,t.sort(da.comparator)}static empty(){return new i([])}unionWith(t){let e=new Un(da.comparator);for(let n of this.fields)e=e.add(n);for(let n of t)e=e.add(n);return new i(e.toArray())}covers(t){for(let e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Lu(this.fields,t.fields,(e,n)=>e.isEqual(n))}};var b_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var fr=class i{constructor(t){this.binaryString=t}static fromBase64String(t){let e=(function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new b_("Invalid base64 string: "+a):a}})(t);return new i(e)}static fromUint8Array(t){let e=(function(r){let a="";for(let o=0;o<r.length;++o)a+=String.fromCharCode(r[o]);return a})(t);return new i(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){let n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};fr.EMPTY_BYTE_STRING=new fr("");var Jz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(i){if(Yt(!!i,39018),typeof i=="string"){let t=0,e=Jz.exec(i);if(Yt(!!e,46558,{timestamp:i}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}let n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:ji(i.seconds),nanos:ji(i.nanos)}}function ji(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function xs(i){return typeof i=="string"?fr.fromBase64String(i):fr.fromUint8Array(i)}var iO="server_timestamp",nO="__type__",rO="__previous_value__",aO="__local_write_time__";function LE(i){var t,e;return((e=(((t=i?.mapValue)===null||t===void 0?void 0:t.fields)||{})[nO])===null||e===void 0?void 0:e.stringValue)===iO}function Q_(i){let t=i.mapValue.fields[rO];return LE(t)?Q_(t):t}function Om(i){let t=ws(i.mapValue.fields[aO].timestampValue);return new En(t.seconds,t.nanos)}var t1=class{constructor(t,e,n,r,a,o,s,c,l,d){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=d}},w_="(default)",x_=class i{constructor(t,e){this.projectId=t,this.database=e||w_}static empty(){return new i("","")}get isDefaultDatabase(){return this.database===w_}isEqual(t){return t instanceof i&&t.projectId===this.projectId&&t.database===this.database}};var VE="__type__",oO="__max__",d_={mapValue:{fields:{__type__:{stringValue:oO}}}},BE="__vector__",Vu="value";function Tc(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?LE(i)?4:cO(i)?9007199254740991:sO(i)?10:11:ut(28295,{value:i})}function Fo(i,t){if(i===t)return!0;let e=Tc(i);if(e!==Tc(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Om(i).isEqual(Om(t));case 3:return(function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;let o=ws(r.timestampValue),s=ws(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(r,a){return xs(r.bytesValue).isEqual(xs(a.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(r,a){return ji(r.geoPointValue.latitude)===ji(a.geoPointValue.latitude)&&ji(r.geoPointValue.longitude)===ji(a.geoPointValue.longitude)})(i,t);case 2:return(function(r,a){if("integerValue"in r&&"integerValue"in a)return ji(r.integerValue)===ji(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){let o=ji(r.doubleValue),s=ji(a.doubleValue);return o===s?Mm(o)===Mm(s):isNaN(o)&&isNaN(s)}return!1})(i,t);case 9:return Lu(i.arrayValue.values||[],t.arrayValue.values||[],Fo);case 10:case 11:return(function(r,a){let o=r.mapValue.fields||{},s=a.mapValue.fields||{};if(J2(o)!==J2(s))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(s[c]===void 0||!Fo(o[c],s[c])))return!1;return!0})(i,t);default:return ut(52216,{left:i})}}function Fm(i,t){return(i.values||[]).find(e=>Fo(e,t))!==void 0}function Bu(i,t){if(i===t)return 0;let e=Tc(i),n=Tc(t);if(e!==n)return Vt(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return Vt(i.booleanValue,t.booleanValue);case 2:return(function(a,o){let s=ji(a.integerValue||a.doubleValue),c=ji(o.integerValue||o.doubleValue);return s<c?-1:s>c?1:s===c?0:isNaN(s)?isNaN(c)?0:-1:1})(i,t);case 3:return eM(i.timestampValue,t.timestampValue);case 4:return eM(Om(i),Om(t));case 5:return Qx(i.stringValue,t.stringValue);case 6:return(function(a,o){let s=xs(a),c=xs(o);return s.compareTo(c)})(i.bytesValue,t.bytesValue);case 7:return(function(a,o){let s=a.split("/"),c=o.split("/");for(let l=0;l<s.length&&l<c.length;l++){let d=Vt(s[l],c[l]);if(d!==0)return d}return Vt(s.length,c.length)})(i.referenceValue,t.referenceValue);case 8:return(function(a,o){let s=Vt(ji(a.latitude),ji(o.latitude));return s!==0?s:Vt(ji(a.longitude),ji(o.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return tM(i.arrayValue,t.arrayValue);case 10:return(function(a,o){var s,c,l,d;let h=a.fields||{},f=o.fields||{},m=(s=h[Vu])===null||s===void 0?void 0:s.arrayValue,v=(c=f[Vu])===null||c===void 0?void 0:c.arrayValue,_=Vt(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((d=v?.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:tM(m,v)})(i.mapValue,t.mapValue);case 11:return(function(a,o){if(a===d_.mapValue&&o===d_.mapValue)return 0;if(a===d_.mapValue)return 1;if(o===d_.mapValue)return-1;let s=a.fields||{},c=Object.keys(s),l=o.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){let f=Qx(c[h],d[h]);if(f!==0)return f;let m=Bu(s[c[h]],l[d[h]]);if(m!==0)return m}return Vt(c.length,d.length)})(i.mapValue,t.mapValue);default:throw ut(23264,{le:e})}}function eM(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Vt(i,t);let e=ws(i),n=ws(t),r=Vt(e.seconds,n.seconds);return r!==0?r:Vt(e.nanos,n.nanos)}function tM(i,t){let e=i.values||[],n=t.values||[];for(let r=0;r<e.length&&r<n.length;++r){let a=Bu(e[r],n[r]);if(a)return a}return Vt(e.length,n.length)}function Uu(i){return i1(i)}function i1(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(e){let n=ws(e);return`time(${n.seconds},${n.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(e){return xs(e).toBase64()})(i.bytesValue):"referenceValue"in i?(function(e){return ht.fromName(e).toString()})(i.referenceValue):"geoPointValue"in i?(function(e){return`geo(${e.latitude},${e.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(e){let n="[",r=!0;for(let a of e.values||[])r?r=!1:n+=",",n+=i1(a);return n+"]"})(i.arrayValue):"mapValue"in i?(function(e){let n=Object.keys(e.fields||{}).sort(),r="{",a=!0;for(let o of n)a?a=!1:r+=",",r+=`${o}:${i1(e.fields[o])}`;return r+"}"})(i.mapValue):ut(61005,{value:i})}function f_(i){switch(Tc(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=Q_(i);return t?16+f_(t):16;case 5:return 2*i.stringValue.length;case 6:return xs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce((r,a)=>r+f_(a),0)})(i.arrayValue);case 10:case 11:return(function(n){let r=0;return Dc(n.fields,(a,o)=>{r+=a.length+f_(o)}),r})(i.mapValue);default:throw ut(13486,{value:i})}}function iM(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function n1(i){return!!i&&"integerValue"in i}function UE(i){return!!i&&"arrayValue"in i}function nM(i){return!!i&&"nullValue"in i}function rM(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function m_(i){return!!i&&"mapValue"in i}function sO(i){var t,e;return((e=(((t=i?.mapValue)===null||t===void 0?void 0:t.fields)||{})[VE])===null||e===void 0?void 0:e.stringValue)===BE}function Tm(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){let t={mapValue:{fields:{}}};return Dc(i.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Tm(n)),t}if(i.arrayValue){let t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Tm(i.arrayValue.values[e]);return t}return Object.assign({},i)}function cO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===oO}var f0e={mapValue:{fields:{[VE]:{stringValue:BE},[Vu]:{arrayValue:{}}}}};var Wr=class i{constructor(t){this.value=t}static empty(){return new i({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!m_(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tm(e)}setAll(t){let e=da.emptyPath(),n={},r=[];t.forEach((o,s)=>{if(!e.isImmediateParentOf(s)){let c=this.getFieldsMap(e);this.applyChanges(c,n,r),n={},r=[],e=s.popLast()}o?n[s.lastSegment()]=Tm(o):r.push(s.lastSegment())});let a=this.getFieldsMap(e);this.applyChanges(a,n,r)}delete(t){let e=this.field(t.popLast());m_(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Fo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];m_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Dc(e,(r,a)=>t[r]=a);for(let r of n)delete t[r]}clone(){return new i(Tm(this.value))}};function lO(i){let t=[];return Dc(i.fields,(e,n)=>{let r=new da([e]);if(m_(n)){let a=lO(n.mapValue).fields;if(a.length===0)t.push(r);else for(let o of a)t.push(r.child(o))}else t.push(r)}),new Ia(t)}var fa=class i{constructor(t,e,n,r,a,o,s){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(t){return new i(t,0,wt.min(),wt.min(),wt.min(),Wr.empty(),0)}static newFoundDocument(t,e,n,r){return new i(t,1,e,wt.min(),n,r,0)}static newNoDocument(t,e){return new i(t,2,e,wt.min(),wt.min(),Wr.empty(),0)}static newUnknownDocument(t,e){return new i(t,3,e,wt.min(),wt.min(),Wr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof i&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var zu=class{constructor(t,e){this.position=t,this.inclusive=e}};function aM(i,t,e){let n=0;for(let r=0;r<i.position.length;r++){let a=t[r],o=i.position[r];if(a.field.isKeyField()?n=ht.comparator(ht.fromName(o.referenceValue),e.key):n=Bu(o,e.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function oM(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Fo(i.position[e],t.position[e]))return!1;return!0}var ju=class{constructor(t,e="asc"){this.field=t,this.dir=e}};function e9(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}var E_=class{},wn=class i extends E_{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,n):new a1(t,e,n):e==="array-contains"?new c1(t,n):e==="in"?new l1(t,n):e==="not-in"?new d1(t,n):e==="array-contains-any"?new u1(t,n):new i(t,e,n)}static createKeyFieldInFilter(t,e,n){return e==="in"?new o1(t,n):new s1(t,n)}matches(t){let e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Bu(e,this.value)):e!==null&&Tc(this.value)===Tc(e)&&this.matchesComparison(Bu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},to=class i extends E_{constructor(t,e){super(),this.filters=t,this.op=e,this.he=null}static create(t,e){return new i(t,e)}matches(t){return dO(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function dO(i){return i.op==="and"}function uO(i){return t9(i)&&dO(i)}function t9(i){for(let t of i.filters)if(t instanceof to)return!1;return!0}function r1(i){if(i instanceof wn)return i.field.canonicalString()+i.op.toString()+Uu(i.value);if(uO(i))return i.filters.map(t=>r1(t)).join(",");{let t=i.filters.map(e=>r1(e)).join(",");return`${i.op}(${t})`}}function hO(i,t){return i instanceof wn?(function(n,r){return r instanceof wn&&n.op===r.op&&n.field.isEqual(r.field)&&Fo(n.value,r.value)})(i,t):i instanceof to?(function(n,r){return r instanceof to&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((a,o,s)=>a&&hO(o,r.filters[s]),!0):!1})(i,t):void ut(19439)}function fO(i){return i instanceof wn?(function(e){return`${e.field.canonicalString()} ${e.op} ${Uu(e.value)}`})(i):i instanceof to?(function(e){return e.op.toString()+" {"+e.getFilters().map(fO).join(" ,")+"}"})(i):"Filter"}var a1=class extends wn{constructor(t,e,n){super(t,e,n),this.key=ht.fromName(n.referenceValue)}matches(t){let e=ht.comparator(t.key,this.key);return this.matchesComparison(e)}},o1=class extends wn{constructor(t,e){super(t,"in",e),this.keys=mO("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}},s1=class extends wn{constructor(t,e){super(t,"not-in",e),this.keys=mO("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}};function mO(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(n=>ht.fromName(n.referenceValue))}var c1=class extends wn{constructor(t,e){super(t,"array-contains",e)}matches(t){let e=t.data.field(this.field);return UE(e)&&Fm(e.arrayValue,this.value)}},l1=class extends wn{constructor(t,e){super(t,"in",e)}matches(t){let e=t.data.field(this.field);return e!==null&&Fm(this.value.arrayValue,e)}},d1=class extends wn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Fm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Fm(this.value.arrayValue,e)}},u1=class extends wn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){let e=t.data.field(this.field);return!(!UE(e)||!e.arrayValue.values)&&e.arrayValue.values.some(n=>Fm(this.value.arrayValue,n))}};var h1=class{constructor(t,e=null,n=[],r=[],a=null,o=null,s=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=o,this.endAt=s,this.Pe=null}};function sM(i,t=null,e=[],n=[],r=null,a=null,o=null){return new h1(i,t,e,n,r,a,o)}function zE(i){let t=Ct(i);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(n=>r1(n)).join(","),e+="|ob:",e+=t.orderBy.map(n=>(function(a){return a.field.canonicalString()+a.dir})(n)).join(","),Wm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Uu(n)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Uu(n)).join(",")),t.Pe=e}return t.Pe}function jE(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!e9(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!hO(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!oM(i.startAt,t.startAt)&&oM(i.endAt,t.endAt)}function f1(i){return ht.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}var Wl=class{constructor(t,e=null,n=[],r=[],a=null,o="F",s=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function i9(i,t,e,n,r,a,o,s){return new Wl(i,t,e,n,r,a,o,s)}function Z_(i){return new Wl(i)}function cM(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function pO(i){return i.collectionGroup!==null}function Sm(i){let t=Ct(i);if(t.Te===null){t.Te=[];let e=new Set;for(let a of t.explicitOrderBy)t.Te.push(a),e.add(a.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Un(da.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(s=s.add(l.field))})}),s})(t).forEach(a=>{e.has(a.canonicalString())||a.isKeyField()||t.Te.push(new ju(a,n))}),e.has(da.keyField().canonicalString())||t.Te.push(new ju(da.keyField(),n))}return t.Te}function Oo(i){let t=Ct(i);return t.Ie||(t.Ie=n9(t,Sm(i))),t.Ie}function n9(i,t){if(i.limitType==="F")return sM(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(r=>{let a=r.dir==="desc"?"asc":"desc";return new ju(r.field,a)});let e=i.endAt?new zu(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new zu(i.startAt.position,i.startAt.inclusive):null;return sM(i.path,i.collectionGroup,t,i.filters,i.limit,e,n)}}function m1(i,t){let e=i.filters.concat([t]);return new Wl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function p1(i,t,e){return new Wl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function J_(i,t){return jE(Oo(i),Oo(t))&&i.limitType===t.limitType}function gO(i){return`${zE(Oo(i))}|lt:${i.limitType}`}function Ru(i){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>fO(r)).join(", ")}]`),Wm(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Uu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Uu(r)).join(",")),`Target(${n})`})(Oo(i))}; limitType=${i.limitType})`}function ev(i,t){return t.isFoundDocument()&&(function(n,r){let a=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ht.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(i,t)&&(function(n,r){for(let a of Sm(n))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0})(i,t)&&(function(n,r){for(let a of n.filters)if(!a.matches(r))return!1;return!0})(i,t)&&(function(n,r){return!(n.startAt&&!(function(o,s,c){let l=aM(o,s,c);return o.inclusive?l<=0:l<0})(n.startAt,Sm(n),r)||n.endAt&&!(function(o,s,c){let l=aM(o,s,c);return o.inclusive?l>=0:l>0})(n.endAt,Sm(n),r))})(i,t)}function r9(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function _O(i){return(t,e)=>{let n=!1;for(let r of Sm(i)){let a=a9(r,t,e);if(a!==0)return a;n=n||r.field.isKeyField()}return 0}}function a9(i,t,e){let n=i.field.isKeyField()?ht.comparator(t.key,e.key):(function(a,o,s){let c=o.data.field(a),l=s.data.field(a);return c!==null&&l!==null?Bu(c,l):ut(42886)})(i.field,t,e);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return ut(19790,{direction:i.dir})}}var Es=class{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){let e=this.mapKeyFn(t),n=this.inner[e];if(n!==void 0){for(let[r,a]of n)if(this.equalsFn(r,t))return a}}has(t){return this.get(t)!==void 0}set(t,e){let n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return this.inner[n]=[[t,e]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return void(r[a]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){let e=this.mapKeyFn(t),n=this.inner[e];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return n.length===1?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Dc(this.inner,(e,n)=>{for(let[r,a]of n)t(r,a)})}isEmpty(){return tO(this.inner)}size(){return this.innerSize}};var o9=new tn(ht.comparator);function Cs(){return o9}var vO=new tn(ht.comparator);function Cm(...i){let t=vO;for(let e of i)t=t.insert(e.key,e);return t}function yO(i){let t=vO;return i.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Bl(){return km()}function bO(){return km()}function km(){return new Es(i=>i.toString(),(i,t)=>i.isEqual(t))}var s9=new tn(ht.comparator),c9=new Un(ht.comparator);function $t(...i){let t=c9;for(let e of i)t=t.add(e);return t}var l9=new Un(Vt);function d9(){return l9}function HE(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mm(t)?"-0":t}}function wO(i){return{integerValue:""+i}}function u9(i,t){return Uz(t)?wO(t):HE(i,t)}var Hu=class{constructor(){this._=void 0}};function h9(i,t,e){return i instanceof $l?(function(r,a){let o={fields:{[nO]:{stringValue:iO},[aO]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&LE(a)&&(a=Q_(a)),a&&(o.fields[rO]=a),{mapValue:o}})(e,t):i instanceof Gl?EO(i,t):i instanceof ql?CO(i,t):(function(r,a){let o=xO(r,a),s=lM(o)+lM(r.Ee);return n1(o)&&n1(r.Ee)?wO(s):HE(r.serializer,s)})(i,t)}function f9(i,t,e){return i instanceof Gl?EO(i,t):i instanceof ql?CO(i,t):e}function xO(i,t){return i instanceof Wu?(function(n){return n1(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(t)?t:{integerValue:0}:null}var $l=class extends Hu{},Gl=class extends Hu{constructor(t){super(),this.elements=t}};function EO(i,t){let e=TO(t);for(let n of i.elements)e.some(r=>Fo(r,n))||e.push(n);return{arrayValue:{values:e}}}var ql=class extends Hu{constructor(t){super(),this.elements=t}};function CO(i,t){let e=TO(t);for(let n of i.elements)e=e.filter(r=>!Fo(r,n));return{arrayValue:{values:e}}}var Wu=class extends Hu{constructor(t,e){super(),this.serializer=t,this.Ee=e}};function lM(i){return ji(i.integerValue||i.doubleValue)}function TO(i){return UE(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}var g1=class{constructor(t,e){this.field=t,this.transform=e}};function m9(i,t){return i.field.isEqual(t.field)&&(function(n,r){return n instanceof Gl&&r instanceof Gl||n instanceof ql&&r instanceof ql?Lu(n.elements,r.elements,Fo):n instanceof Wu&&r instanceof Wu?Fo(n.Ee,r.Ee):n instanceof $l&&r instanceof $l})(i.transform,t.transform)}var _1=class{constructor(t,e){this.version=t,this.transformResults=e}},hr=class i{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new i}static exists(t){return new i(void 0,t)}static updateTime(t){return new i(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function p_(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}var $u=class{};function SO(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new Xl(i.key,hr.none()):new Kl(i.key,i.data,hr.none());{let e=i.data,n=Wr.empty(),r=new Un(da.comparator);for(let a of t.fields)if(!r.has(a)){let o=e.field(a);o===null&&a.length>1&&(a=a.popLast(),o=e.field(a)),o===null?n.delete(a):n.set(a,o),r=r.add(a)}return new Po(i.key,n,new Ia(r.toArray()),hr.none())}}function p9(i,t,e){i instanceof Kl?(function(r,a,o){let s=r.value.clone(),c=uM(r.fieldTransforms,a,o.transformResults);s.setAll(c),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()})(i,t,e):i instanceof Po?(function(r,a,o){if(!p_(r.precondition,a))return void a.convertToUnknownDocument(o.version);let s=uM(r.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(kO(r)),c.setAll(s),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(i,t,e):(function(r,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,t,e)}function Im(i,t,e,n){return i instanceof Kl?(function(a,o,s,c){if(!p_(a.precondition,o))return s;let l=a.value.clone(),d=hM(a.fieldTransforms,c,o);return l.setAll(d),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null})(i,t,e,n):i instanceof Po?(function(a,o,s,c){if(!p_(a.precondition,o))return s;let l=hM(a.fieldTransforms,c,o),d=o.data;return d.setAll(kO(a)),d.setAll(l),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))})(i,t,e,n):(function(a,o,s){return p_(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s})(i,t,e)}function g9(i,t){let e=null;for(let n of i.fieldTransforms){let r=t.data.field(n.field),a=xO(n.transform,r||null);a!=null&&(e===null&&(e=Wr.empty()),e.set(n.field,a))}return e||null}function dM(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Lu(n,r,(a,o)=>m9(a,o))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}var Kl=class extends $u{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Po=class extends $u{constructor(t,e,n,r,a=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}};function kO(i){let t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){let n=i.data.field(e);t.set(e,n)}}),t}function uM(i,t,e){let n=new Map;Yt(i.length===e.length,32656,{Ae:e.length,Re:i.length});for(let r=0;r<e.length;r++){let a=i[r],o=a.transform,s=t.data.field(a.field);n.set(a.field,f9(o,s,e[r]))}return n}function hM(i,t,e){let n=new Map;for(let r of i){let a=r.transform,o=e.data.field(r.field);n.set(r.field,h9(a,o,t))}return n}var Xl=class extends $u{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},C_=class extends $u{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var v1=class{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){let n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){let a=this.mutations[r];a.key.isEqual(t.key)&&p9(a,t,n[r])}}applyToLocalView(t,e){for(let n of this.baseMutations)n.key.isEqual(t.key)&&(e=Im(n,t,e,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(t.key)&&(e=Im(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){let n=bO();return this.mutations.forEach(r=>{let a=t.get(r.key),o=a.overlayedDocument,s=this.applyToLocalView(o,a.mutatedFields);s=e.has(r.key)?null:s;let c=SO(o,s);c!==null&&n.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(wt.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),$t())}isEqual(t){return this.batchId===t.batchId&&Lu(this.mutations,t.mutations,(e,n)=>dM(e,n))&&Lu(this.baseMutations,t.baseMutations,(e,n)=>dM(e,n))}},y1=class i{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){Yt(t.mutations.length===n.length,58842,{Ve:t.mutations.length,me:n.length});let r=(function(){return s9})(),a=t.mutations;for(let o=0;o<a.length;o++)r=r.insert(a[o].key,n[o].version);return new i(t,e,n,r)}};var b1=class{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var w1=class{constructor(t,e){this.count=t,this.unchangedNames=e}};var yn,Xt;function IO(i){switch(i){case de.OK:return ut(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return ut(15467,{code:i})}}function DO(i){if(i===void 0)return bs("GRPC error has no .code"),de.UNKNOWN;switch(i){case yn.OK:return de.OK;case yn.CANCELLED:return de.CANCELLED;case yn.UNKNOWN:return de.UNKNOWN;case yn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case yn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case yn.INTERNAL:return de.INTERNAL;case yn.UNAVAILABLE:return de.UNAVAILABLE;case yn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case yn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case yn.NOT_FOUND:return de.NOT_FOUND;case yn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case yn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case yn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case yn.ABORTED:return de.ABORTED;case yn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case yn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case yn.DATA_LOSS:return de.DATA_LOSS;default:return ut(39323,{code:i})}}(Xt=yn||(yn={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";var fM=null;var _9=new _s([4294967295,4294967295],0);function mM(i){let t=VM().encode(i),e=new Nx;return e.update(t),new Uint8Array(e.digest())}function pM(i){let t=new DataView(i.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),r=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new _s([e,n],0),new _s([r,a],0)]}var x1=class i{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Ul(`Invalid padding: ${e}`);if(n<0)throw new Ul(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${n}`);if(t.length===0&&e!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${e}`);this.fe=8*t.length-e,this.ge=_s.fromNumber(this.fe)}pe(t,e,n){let r=t.add(e.multiply(_s.fromNumber(n)));return r.compare(_9)===1&&(r=new _s([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;let e=mM(t),[n,r]=pM(e);for(let a=0;a<this.hashCount;a++){let o=this.pe(n,r,a);if(!this.ye(o))return!1}return!0}static create(t,e,n){let r=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),o=new i(a,r,e);return n.forEach(s=>o.insert(s)),o}insert(t){if(this.fe===0)return;let e=mM(t),[n,r]=pM(e);for(let a=0;a<this.hashCount;a++){let o=this.pe(n,r,a);this.we(o)}}we(t){let e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}},Ul=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var T_=class i{constructor(t,e,n,r,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e,n){let r=new Map;return r.set(t,Pm.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new i(wt.min(),r,new tn(Vt),Cs(),$t())}},Pm=class i{constructor(t,e,n,r,a){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new i(n,e,$t(),$t(),$t())}};var Pu=class{constructor(t,e,n,r){this.Se=t,this.removedTargetIds=e,this.key=n,this.be=r}},S_=class{constructor(t,e){this.targetId=t,this.De=e}},k_=class{constructor(t,e,n=fr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}},I_=class{constructor(){this.ve=0,this.Ce=gM(),this.Fe=fr.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=$t(),e=$t(),n=$t();return this.Ce.forEach((r,a)=>{switch(a){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ut(38017,{changeType:a})}}),new Pm(this.Fe,this.Me,t,e,n)}ke(){this.xe=!1,this.Ce=gM()}qe(t,e){this.xe=!0,this.Ce=this.Ce.insert(t,e)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},E1=class{constructor(t){this.We=t,this.Ge=new Map,this.ze=Cs(),this.je=u_(),this.Je=u_(),this.He=new tn(Vt)}Ye(t){for(let e of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(e,t.be):this.Xe(e,t.key,t.be);for(let e of t.removedTargetIds)this.Xe(e,t.key,t.be)}et(t){this.forEachTarget(t,e=>{let n=this.tt(e);switch(t.state){case 0:this.nt(e)&&n.Be(t.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(t.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(e);break;case 3:this.nt(e)&&(n.Ke(),n.Be(t.resumeToken));break;case 4:this.nt(e)&&(this.rt(e),n.Be(t.resumeToken));break;default:ut(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ge.forEach((n,r)=>{this.nt(r)&&e(r)})}it(t){let e=t.targetId,n=t.De.count,r=this.st(e);if(r){let a=r.target;if(f1(a))if(n===0){let o=new ht(a.path);this.Xe(e,o,fa.newNoDocument(o,wt.min()))}else Yt(n===1,20013,{expectedCount:n});else{let o=this.ot(e);if(o!==n){let s=this._t(t),c=s?this.ut(s,t,o):1;if(c!==0){this.rt(e);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(e,l)}fM?.ct((function(d,h,f,m,v){var _,y,S,D,T,G;let K={localCacheCount:d,existenceFilterCount:h.count,databaseId:f.database,projectId:f.projectId},j=h.unchangedNames;return j&&(K.bloomFilter={applied:v===0,hashCount:(_=j?.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(D=(S=(y=j?.bits)===null||y===void 0?void 0:y.bitmap)===null||S===void 0?void 0:S.length)!==null&&D!==void 0?D:0,padding:(G=(T=j?.bits)===null||T===void 0?void 0:T.padding)!==null&&G!==void 0?G:0,mightContain:w=>{var x;return(x=m?.mightContain(w))!==null&&x!==void 0&&x}}),K})(o,t.De,this.We.lt(),s,c))}}}}_t(t){let e=t.De.unchangedNames;if(!e||!e.bits)return null;let{bits:{bitmap:n="",padding:r=0},hashCount:a=0}=e,o,s;try{o=xs(n).toUint8Array()}catch(c){if(c instanceof b_)return Cc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{s=new x1(o,r,a)}catch(c){return Cc(c instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return s.fe===0?null:s}ut(t,e,n){return e.De.count===n-this.ht(t,e.targetId)?0:2}ht(t,e){let n=this.We.getRemoteKeysForTarget(e),r=0;return n.forEach(a=>{let o=this.We.lt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;t.mightContain(s)||(this.Xe(e,a,null),r++)}),r}Pt(t){let e=new Map;this.Ge.forEach((a,o)=>{let s=this.st(o);if(s){if(a.current&&f1(s.target)){let c=new ht(s.target.path);this.Tt(c).has(o)||this.It(o,c)||this.Xe(o,c,fa.newNoDocument(c,t))}a.Ne&&(e.set(o,a.Le()),a.ke())}});let n=$t();this.Je.forEach((a,o)=>{let s=!0;o.forEachWhile(c=>{let l=this.st(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.ze.forEach((a,o)=>o.setReadTime(t));let r=new T_(t,e,this.He,this.ze,n);return this.ze=Cs(),this.je=u_(),this.Je=u_(),this.He=new tn(Vt),r}Ze(t,e){if(!this.nt(t))return;let n=this.It(t,e.key)?2:0;this.tt(t).qe(e.key,n),this.ze=this.ze.insert(e.key,e),this.je=this.je.insert(e.key,this.Tt(e.key).add(t)),this.Je=this.Je.insert(e.key,this.dt(e.key).add(t))}Xe(t,e,n){if(!this.nt(t))return;let r=this.tt(t);this.It(t,e)?r.qe(e,1):r.Qe(e),this.Je=this.Je.insert(e,this.dt(e).delete(t)),this.Je=this.Je.insert(e,this.dt(e).add(t)),n&&(this.ze=this.ze.insert(e,n))}removeTarget(t){this.Ge.delete(t)}ot(t){let e=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let e=this.Ge.get(t);return e||(e=new I_,this.Ge.set(t,e)),e}dt(t){let e=this.Je.get(t);return e||(e=new Un(Vt),this.Je=this.Je.insert(t,e)),e}Tt(t){let e=this.je.get(t);return e||(e=new Un(Vt),this.je=this.je.insert(t,e)),e}nt(t){let e=this.st(t)!==null;return e||Xe("WatchChangeAggregator","Detected inactive target",t),e}st(t){let e=this.Ge.get(t);return e&&e.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new I_),this.We.getRemoteKeysForTarget(t).forEach(e=>{this.Xe(t,e,null)})}It(t,e){return this.We.getRemoteKeysForTarget(t).has(e)}};function u_(){return new tn(ht.comparator)}function gM(){return new tn(ht.comparator)}var v9={asc:"ASCENDING",desc:"DESCENDING"},y9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b9={and:"AND",or:"OR"},C1=class{constructor(t,e){this.databaseId=t,this.useProto3Json=e}};function T1(i,t){return i.useProto3Json||Wm(t)?t:{value:t}}function D_(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function AO(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function w9(i,t){return D_(i,t.toTimestamp())}function ha(i){return Yt(!!i,49232),wt.fromTimestamp((function(e){let n=ws(e);return new En(n.seconds,n.nanos)})(i))}function WE(i,t){return S1(i,t).canonicalString()}function S1(i,t){let e=(function(r){return new Di(["projects",r.projectId,"databases",r.database])})(i).child("documents");return t===void 0?e:e.child(t)}function RO(i){let t=Di.fromString(i);return Yt(LO(t),10190,{key:t.toString()}),t}function A_(i,t){return WE(i.databaseId,t.path)}function Dm(i,t){let e=RO(t);if(e.get(1)!==i.databaseId.projectId)throw new Ue(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new Ue(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new ht(OO(e))}function MO(i,t){return WE(i.databaseId,t)}function x9(i){let t=RO(i);return t.length===4?Di.emptyPath():OO(t)}function k1(i){return new Di(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function OO(i){return Yt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function _M(i,t,e){return{name:A_(i,t),fields:e.value.mapValue.fields}}function E9(i,t){return"found"in t?(function(n,r){Yt(!!r.found,43571),r.found.name,r.found.updateTime;let a=Dm(n,r.found.name),o=ha(r.found.updateTime),s=r.found.createTime?ha(r.found.createTime):wt.min(),c=new Wr({mapValue:{fields:r.found.fields}});return fa.newFoundDocument(a,o,s,c)})(i,t):"missing"in t?(function(n,r){Yt(!!r.missing,3894),Yt(!!r.readTime,22933);let a=Dm(n,r.missing),o=ha(r.readTime);return fa.newNoDocument(a,o)})(i,t):ut(7234,{result:t})}function C9(i,t){let e;if("targetChange"in t){t.targetChange;let n=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ut(39313,{state:l})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],a=(function(l,d){return l.useProto3Json?(Yt(d===void 0||typeof d=="string",58123),fr.fromBase64String(d||"")):(Yt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),fr.fromUint8Array(d||new Uint8Array))})(i,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&(function(l){let d=l.code===void 0?de.UNKNOWN:DO(l.code);return new Ue(d,l.message||"")})(o);e=new k_(n,r,a,s||null)}else if("documentChange"in t){t.documentChange;let n=t.documentChange;n.document,n.document.name,n.document.updateTime;let r=Dm(i,n.document.name),a=ha(n.document.updateTime),o=n.document.createTime?ha(n.document.createTime):wt.min(),s=new Wr({mapValue:{fields:n.document.fields}}),c=fa.newFoundDocument(r,a,o,s),l=n.targetIds||[],d=n.removedTargetIds||[];e=new Pu(l,d,c.key,c)}else if("documentDelete"in t){t.documentDelete;let n=t.documentDelete;n.document;let r=Dm(i,n.document),a=n.readTime?ha(n.readTime):wt.min(),o=fa.newNoDocument(r,a),s=n.removedTargetIds||[];e=new Pu([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;let n=t.documentRemove;n.document;let r=Dm(i,n.document),a=n.removedTargetIds||[];e=new Pu([],a,r,null)}else{if(!("filter"in t))return ut(11601,{At:t});{t.filter;let n=t.filter;n.targetId;let{count:r=0,unchangedNames:a}=n,o=new w1(r,a),s=n.targetId;e=new S_(s,o)}}return e}function FO(i,t){let e;if(t instanceof Kl)e={update:_M(i,t.key,t.value)};else if(t instanceof Xl)e={delete:A_(i,t.key)};else if(t instanceof Po)e={update:_M(i,t.key,t.data),updateMask:O9(t.fieldMask)};else{if(!(t instanceof C_))return ut(16599,{Rt:t.type});e={verify:A_(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(n=>(function(a,o){let s=o.transform;if(s instanceof $l)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Gl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof ql)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Wu)return{fieldPath:o.field.canonicalString(),increment:s.Ee};throw ut(20930,{transform:o.transform})})(0,n))),t.precondition.isNone||(e.currentDocument=(function(r,a){return a.updateTime!==void 0?{updateTime:w9(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ut(27497)})(i,t.precondition)),e}function T9(i,t){return i&&i.length>0?(Yt(t!==void 0,14353),i.map(e=>(function(r,a){let o=r.updateTime?ha(r.updateTime):ha(a);return o.isEqual(wt.min())&&(o=ha(a)),new _1(o,r.transformResults||[])})(e,t))):[]}function S9(i,t){return{documents:[MO(i,t.path)]}}function k9(i,t){let e={structuredQuery:{}},n=t.path,r;t.collectionGroup!==null?(r=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=MO(i,r);let a=(function(l){if(l.length!==0)return NO(to.create(l,"and"))})(t.filters);a&&(e.structuredQuery.where=a);let o=(function(l){if(l.length!==0)return l.map(d=>(function(f){return{field:Mu(f.field),direction:A9(f.dir)}})(d))})(t.orderBy);o&&(e.structuredQuery.orderBy=o);let s=T1(i,t.limit);return s!==null&&(e.structuredQuery.limit=s),t.startAt&&(e.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(t.endAt)),{Vt:e,parent:r}}function I9(i){let t=x9(i.parent),e=i.structuredQuery,n=e.from?e.from.length:0,r=null;if(n>0){Yt(n===1,65062);let d=e.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let a=[];e.where&&(a=(function(h){let f=PO(h);return f instanceof to&&uO(f)?f.getFilters():[f]})(e.where));let o=[];e.orderBy&&(o=(function(h){return h.map(f=>(function(v){return new ju(Ou(v.field),(function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(f))})(e.orderBy));let s=null;e.limit&&(s=(function(h){let f;return f=typeof h=="object"?h.value:h,Wm(f)?null:f})(e.limit));let c=null;e.startAt&&(c=(function(h){let f=!!h.before,m=h.values||[];return new zu(m,f)})(e.startAt));let l=null;return e.endAt&&(l=(function(h){let f=!h.before,m=h.values||[];return new zu(m,f)})(e.endAt)),i9(t,r,o,a,s,"F",c,l)}function D9(i,t){let e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function PO(i){return i.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":let n=Ou(e.unaryFilter.field);return wn.create(n,"==",{doubleValue:NaN});case"IS_NULL":let r=Ou(e.unaryFilter.field);return wn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let a=Ou(e.unaryFilter.field);return wn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ou(e.unaryFilter.field);return wn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ut(61313);default:return ut(60726)}})(i):i.fieldFilter!==void 0?(function(e){return wn.create(Ou(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ut(58110);default:return ut(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(e){return to.create(e.compositeFilter.filters.map(n=>PO(n)),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ut(1026)}})(e.compositeFilter.op))})(i):ut(30097,{filter:i})}function A9(i){return v9[i]}function R9(i){return y9[i]}function M9(i){return b9[i]}function Mu(i){return{fieldPath:i.canonicalString()}}function Ou(i){return da.fromServerFormat(i.fieldPath)}function NO(i){return i instanceof wn?(function(e){if(e.op==="=="){if(rM(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NAN"}};if(nM(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(rM(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NOT_NAN"}};if(nM(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mu(e.field),op:R9(e.op),value:e.value}}})(i):i instanceof to?(function(e){let n=e.getFilters().map(r=>NO(r));return n.length===1?n[0]:{compositeFilter:{op:M9(e.op),filters:n}}})(i):ut(54877,{filter:i})}function O9(i){let t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function LO(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}var Nm=class i{constructor(t,e,n,r,a=wt.min(),o=wt.min(),s=fr.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=c}withSequenceNumber(t){return new i(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};var I1=class{constructor(t){this.gt=t}};function F9(i){let t=I9({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?p1(t,t.limit,"L"):t}var R_=class{constructor(){}bt(t,e){this.Dt(t,e),e.vt()}Dt(t,e){if("nullValue"in t)this.Ct(e,5);else if("booleanValue"in t)this.Ct(e,10),e.Ft(t.booleanValue?1:0);else if("integerValue"in t)this.Ct(e,15),e.Ft(ji(t.integerValue));else if("doubleValue"in t){let n=ji(t.doubleValue);isNaN(n)?this.Ct(e,13):(this.Ct(e,15),Mm(n)?e.Ft(0):e.Ft(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Ct(e,20),typeof n=="string"&&(n=ws(n)),e.Mt(`${n.seconds||""}`),e.Ft(n.nanos||0)}else if("stringValue"in t)this.xt(t.stringValue,e),this.Ot(e);else if("bytesValue"in t)this.Ct(e,30),e.Nt(xs(t.bytesValue)),this.Ot(e);else if("referenceValue"in t)this.Bt(t.referenceValue,e);else if("geoPointValue"in t){let n=t.geoPointValue;this.Ct(e,45),e.Ft(n.latitude||0),e.Ft(n.longitude||0)}else"mapValue"in t?cO(t)?this.Ct(e,Number.MAX_SAFE_INTEGER):sO(t)?this.Lt(t.mapValue,e):(this.kt(t.mapValue,e),this.Ot(e)):"arrayValue"in t?(this.qt(t.arrayValue,e),this.Ot(e)):ut(19022,{Qt:t})}xt(t,e){this.Ct(e,25),this.$t(t,e)}$t(t,e){e.Mt(t)}kt(t,e){let n=t.fields||{};this.Ct(e,55);for(let r of Object.keys(n))this.xt(r,e),this.Dt(n[r],e)}Lt(t,e){var n,r;let a=t.fields||{};this.Ct(e,53);let o=Vu,s=((r=(n=a[o].arrayValue)===null||n===void 0?void 0:n.values)===null||r===void 0?void 0:r.length)||0;this.Ct(e,15),e.Ft(ji(s)),this.xt(o,e),this.Dt(a[o],e)}qt(t,e){let n=t.values||[];this.Ct(e,50);for(let r of n)this.Dt(r,e)}Bt(t,e){this.Ct(e,37),ht.fromName(t).path.forEach(n=>{this.Ct(e,60),this.$t(n,e)})}Ct(t,e){t.Ft(e)}Ot(t){t.Ft(2)}};R_.Ut=new R_;var D1=class{constructor(){this.Dn=new A1}addToCollectionParentIndex(t,e){return this.Dn.add(e),be.resolve()}getCollectionParents(t,e){return be.resolve(this.Dn.getEntries(e))}addFieldIndex(t,e){return be.resolve()}deleteFieldIndex(t,e){return be.resolve()}deleteAllFieldIndexes(t){return be.resolve()}createTargetIndexes(t,e){return be.resolve()}getDocumentsMatchingTarget(t,e){return be.resolve(null)}getIndexType(t,e){return be.resolve(0)}getFieldIndexes(t,e){return be.resolve([])}getNextCollectionGroupToUpdate(t){return be.resolve(null)}getMinOffset(t,e){return be.resolve(Hl.min())}getMinOffsetFromCollectionGroup(t,e){return be.resolve(Hl.min())}updateCollectionGroup(t,e,n){return be.resolve()}updateIndexEntries(t,e){return be.resolve()}},A1=class{constructor(){this.index={}}add(t){let e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Un(Di.comparator),a=!r.has(n);return this.index[e]=r.add(n),a}has(t){let e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Un(Di.comparator)).toArray()}};var m0e=new Uint8Array(0);var vM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VO=41943040,ka=class i{static withCacheSize(t){return new i(t,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}};ka.DEFAULT_COLLECTION_PERCENTILE=10,ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ka.DEFAULT=new ka(VO,ka.DEFAULT_COLLECTION_PERCENTILE,ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ka.DISABLED=new ka(-1,0,0);var Lm=class i{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new i(0)}static ur(){return new i(-1)}};var yM="LruGarbageCollector",P9=1048576;function bM([i,t],[e,n]){let r=Vt(i,e);return r===0?Vt(t,n):r}var R1=class{constructor(t){this.Tr=t,this.buffer=new Un(bM),this.Ir=0}dr(){return++this.Ir}Er(t){let e=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(e);else{let n=this.buffer.last();bM(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}}get maxValue(){return this.buffer.last()[0]}},M1=class{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){Xe(yM,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,()=>N(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ju(e)?Xe(yM,"Ignoring IndexedDB error during garbage collection: ",e):yield Zu(e)}yield this.Rr(3e5)}))}},O1=class{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.mr(t).next(n=>Math.floor(e/100*n))}nthSequenceNumber(t,e){if(e===0)return be.resolve(PE.ue);let n=new R1(e);return this.Vr.forEachTarget(t,r=>n.Er(r.sequenceNumber)).next(()=>this.Vr.gr(t,r=>n.Er(r))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.Vr.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Xe("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(vM)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vM):this.pr(t,e))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,e){let n,r,a,o,s,c,l,d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,o=Date.now(),this.nthSequenceNumber(t,r))).next(h=>(n=h,s=Date.now(),this.removeTargets(t,n,e))).next(h=>(a=h,c=Date.now(),this.removeOrphanedDocuments(t,n))).next(h=>(l=Date.now(),Au()<=Ht.DEBUG&&Xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(s-o)+`ms
	Removed ${a} targets in `+(c-s)+`ms
	Removed ${h} documents in `+(l-c)+`ms
Total Duration: ${l-d}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:h})))}};function N9(i,t){return new O1(i,t)}var F1=class{constructor(){this.changes=new Es(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,fa.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();let n=this.changes.get(e);return n!==void 0?be.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};var P1=class{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}};var N1=class{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(n=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(n!==null&&Im(n.mutation,r,Ia.empty(),En.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.getLocalViewOfDocuments(t,n,$t()).next(()=>n))}getLocalViewOfDocuments(t,e,n=$t()){let r=Bl();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,n).next(a=>{let o=Cm();return a.forEach((s,c)=>{o=o.insert(s,c.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){let n=Bl();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,$t()))}populateOverlays(t,e,n){let r=[];return n.forEach(a=>{e.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(t,r).next(a=>{a.forEach((o,s)=>{e.set(o,s)})})}computeViews(t,e,n,r){let a=Cs(),o=km(),s=(function(){return km()})();return e.forEach((c,l)=>{let d=n.get(l.key);r.has(l.key)&&(d===void 0||d.mutation instanceof Po)?a=a.insert(l.key,l):d!==void 0?(o.set(l.key,d.mutation.getFieldMask()),Im(d.mutation,l,d.mutation.getFieldMask(),En.now())):o.set(l.key,Ia.empty())}),this.recalculateAndSaveOverlays(t,a).next(c=>(c.forEach((l,d)=>o.set(l,d)),e.forEach((l,d)=>{var h;return s.set(l,new P1(d,(h=o.get(l))!==null&&h!==void 0?h:null))}),s))}recalculateAndSaveOverlays(t,e){let n=km(),r=new tn((o,s)=>o-s),a=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(let s of o)s.keys().forEach(c=>{let l=e.get(c);if(l===null)return;let d=n.get(c)||Ia.empty();d=s.applyToLocalView(l,d),n.set(c,d);let h=(r.get(s.batchId)||$t()).add(c);r=r.insert(s.batchId,h)})}).next(()=>{let o=[],s=r.getReverseIterator();for(;s.hasNext();){let c=s.getNext(),l=c.key,d=c.value,h=bO();d.forEach(f=>{if(!a.has(f)){let m=SO(e.get(f),n.get(f));m!==null&&h.set(f,m),a=a.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,h))}return be.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,e,n,r){return(function(o){return ht.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):pO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,r):this.getDocumentsMatchingCollectionQuery(t,e,n,r)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next(a=>{let o=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-a.size):be.resolve(Bl()),s=Rm,c=a;return o.next(l=>be.forEach(l,(d,h)=>(s<h.largestBatchId&&(s=h.largestBatchId),a.get(d)?be.resolve():this.remoteDocumentCache.getEntry(t,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(t,l,a)).next(()=>this.computeViews(t,c,l,$t())).next(d=>({batchId:s,changes:yO(d)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ht(e)).next(n=>{let r=Cm();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,n,r){let a=e.collectionGroup,o=Cm();return this.indexManager.getCollectionParents(t,a).next(s=>be.forEach(s,c=>{let l=(function(h,f){return new Wl(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)})(e,c.child(a));return this.getDocumentsMatchingCollectionQuery(t,l,n,r).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,a,r))).next(o=>{a.forEach((c,l)=>{let d=l.getKey();o.get(d)===null&&(o=o.insert(d,fa.newInvalidDocument(d)))});let s=Cm();return o.forEach((c,l)=>{let d=a.get(c);d!==void 0&&Im(d.mutation,l,Ia.empty(),En.now()),ev(e,l)&&(s=s.insert(c,l))}),s})}};var L1=class{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,e){return be.resolve(this.Br.get(e))}saveBundleMetadata(t,e){return this.Br.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:ha(r.createTime)}})(e)),be.resolve()}getNamedQuery(t,e){return be.resolve(this.Lr.get(e))}saveNamedQuery(t,e){return this.Lr.set(e.name,(function(r){return{name:r.name,query:F9(r.bundledQuery),readTime:ha(r.readTime)}})(e)),be.resolve()}};var V1=class{constructor(){this.overlays=new tn(ht.comparator),this.kr=new Map}getOverlay(t,e){return be.resolve(this.overlays.get(e))}getOverlays(t,e){let n=Bl();return be.forEach(e,r=>this.getOverlay(t,r).next(a=>{a!==null&&n.set(r,a)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((r,a)=>{this.wt(t,e,a)}),be.resolve()}removeOverlaysForBatchId(t,e,n){let r=this.kr.get(n);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(n)),be.resolve()}getOverlaysForCollection(t,e,n){let r=Bl(),a=e.length+1,o=new ht(e.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){let c=s.getNext().value,l=c.getKey();if(!e.isPrefixOf(l.path))break;l.path.length===a&&c.largestBatchId>n&&r.set(c.getKey(),c)}return be.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let a=new tn((l,d)=>l-d),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===e&&l.largestBatchId>n){let d=a.get(l.largestBatchId);d===null&&(d=Bl(),a=a.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let s=Bl(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>s.set(l,d)),!(s.size()>=r)););return be.resolve(s)}wt(t,e,n){let r=this.overlays.get(n.key);if(r!==null){let o=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new b1(e,n));let a=this.kr.get(e);a===void 0&&(a=$t(),this.kr.set(e,a)),this.kr.set(e,a.add(n.key))}};var B1=class{constructor(){this.sessionToken=fr.EMPTY_BYTE_STRING}getSessionToken(t){return be.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,be.resolve()}};var Vm=class{constructor(){this.qr=new Un(bn.Qr),this.$r=new Un(bn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,e){let n=new bn(t,e);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(t,e){t.forEach(n=>this.addReference(n,e))}removeReference(t,e){this.Wr(new bn(t,e))}Gr(t,e){t.forEach(n=>this.removeReference(n,e))}zr(t){let e=new ht(new Di([])),n=new bn(e,t),r=new bn(e,t+1),a=[];return this.$r.forEachInRange([n,r],o=>{this.Wr(o),a.push(o.key)}),a}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){let e=new ht(new Di([])),n=new bn(e,t),r=new bn(e,t+1),a=$t();return this.$r.forEachInRange([n,r],o=>{a=a.add(o.key)}),a}containsKey(t){let e=new bn(t,0),n=this.qr.firstAfterOrEqual(e);return n!==null&&t.isEqual(n.key)}},bn=class{constructor(t,e){this.key=t,this.Hr=e}static Qr(t,e){return ht.comparator(t.key,e.key)||Vt(t.Hr,e.Hr)}static Ur(t,e){return Vt(t.Hr,e.Hr)||ht.comparator(t.key,e.key)}};var U1=class{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.er=1,this.Yr=new Un(bn.Qr)}checkEmpty(t){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,n,r){let a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new v1(a,e,n,r);this.mutationQueue.push(o);for(let s of r)this.Yr=this.Yr.add(new bn(s.key,a)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return be.resolve(o)}lookupMutationBatch(t,e){return be.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){let n=e+1,r=this.Xr(n),a=r<0?0:r;return be.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?NE:this.er-1)}getAllMutationBatches(t){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){let n=new bn(e,0),r=new bn(e,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([n,r],o=>{let s=this.Zr(o.Hr);a.push(s)}),be.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Un(Vt);return e.forEach(r=>{let a=new bn(r,0),o=new bn(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,o],s=>{n=n.add(s.Hr)})}),be.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(t,e){let n=e.path,r=n.length+1,a=n;ht.isDocumentKey(a)||(a=a.child(""));let o=new bn(new ht(a),0),s=new Un(Vt);return this.Yr.forEachWhile(c=>{let l=c.key.path;return!!n.isPrefixOf(l)&&(l.length===r&&(s=s.add(c.Hr)),!0)},o),be.resolve(this.ei(s))}ei(t){let e=[];return t.forEach(n=>{let r=this.Zr(n);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){Yt(this.ti(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Yr;return be.forEach(e.mutations,r=>{let a=new bn(r.key,e.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Yr=n})}rr(t){}containsKey(t,e){let n=new bn(e,0),r=this.Yr.firstAfterOrEqual(n);return be.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,be.resolve()}ti(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){let e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}};var z1=class{constructor(t){this.ni=t,this.docs=(function(){return new tn(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){let n=e.key,r=this.docs.get(n),a=r?r.size:0,o=this.ni(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){let e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){let n=this.docs.get(e);return be.resolve(n?n.document.mutableCopy():fa.newInvalidDocument(e))}getEntries(t,e){let n=Cs();return e.forEach(r=>{let a=this.docs.get(r);n=n.insert(r,a?a.document.mutableCopy():fa.newInvalidDocument(r))}),be.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let a=Cs(),o=e.path,s=new ht(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Lz(Nz(d),n)<=0||(r.has(d.key)||ev(e,d))&&(a=a.insert(d.key,d.mutableCopy()))}return be.resolve(a)}getAllFromCollectionGroup(t,e,n,r){ut(9500)}ri(t,e){return be.forEach(this.docs,n=>e(n))}newChangeBuffer(t){return new j1(this)}getSize(t){return be.resolve(this.size)}},j1=class extends F1{constructor(t){super(),this.Or=t}applyChanges(t){let e=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?e.push(this.Or.addEntry(t,r)):this.Or.removeEntry(n)}),be.waitFor(e)}getFromCache(t,e){return this.Or.getEntry(t,e)}getAllFromCache(t,e){return this.Or.getEntries(t,e)}};var H1=class{constructor(t){this.persistence=t,this.ii=new Es(e=>zE(e),jE),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.si=0,this.oi=new Vm,this.targetCount=0,this._i=Lm.ar()}forEachTarget(t,e){return this.ii.forEach((n,r)=>e(r)),be.resolve()}getLastRemoteSnapshotVersion(t){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return be.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.si&&(this.si=e),be.resolve()}hr(t){this.ii.set(t.target,t);let e=t.targetId;e>this.highestTargetId&&(this._i=new Lm(e),this.highestTargetId=e),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,e){return this.hr(e),this.targetCount+=1,be.resolve()}updateTargetData(t,e){return this.hr(e),be.resolve()}removeTargetData(t,e){return this.ii.delete(e.target),this.oi.zr(e.targetId),this.targetCount-=1,be.resolve()}removeTargets(t,e,n){let r=0,a=[];return this.ii.forEach((o,s)=>{s.sequenceNumber<=e&&n.get(s.targetId)===null&&(this.ii.delete(o),a.push(this.removeMatchingKeysForTargetId(t,s.targetId)),r++)}),be.waitFor(a).next(()=>r)}getTargetCount(t){return be.resolve(this.targetCount)}getTargetData(t,e){let n=this.ii.get(e)||null;return be.resolve(n)}addMatchingKeys(t,e,n){return this.oi.Kr(e,n),be.resolve()}removeMatchingKeys(t,e,n){this.oi.Gr(e,n);let r=this.persistence.referenceDelegate,a=[];return r&&e.forEach(o=>{a.push(r.markPotentiallyOrphaned(t,o))}),be.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.oi.zr(e),be.resolve()}getMatchingKeysForTargetId(t,e){let n=this.oi.Jr(e);return be.resolve(n)}containsKey(t,e){return be.resolve(this.oi.containsKey(e))}};var M_=class{constructor(t,e){this.ai={},this.overlays={},this.ui=new PE(0),this.ci=!1,this.ci=!0,this.li=new B1,this.referenceDelegate=t(this),this.hi=new H1(this),this.indexManager=new D1,this.remoteDocumentCache=(function(r){return new z1(r)})(n=>this.referenceDelegate.Pi(n)),this.serializer=new I1(e),this.Ti=new L1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new V1,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.ai[t.toKey()];return n||(n=new U1(e,this.referenceDelegate),this.ai[t.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,e,n){Xe("MemoryPersistence","Starting transaction:",t);let r=new W1(this.ui.next());return this.referenceDelegate.Ii(),n(r).next(a=>this.referenceDelegate.di(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ei(t,e){return be.or(Object.values(this.ai).map(n=>()=>n.containsKey(t,e)))}},W1=class extends e1{constructor(t){super(),this.currentSequenceNumber=t}},$1=class i{constructor(t){this.persistence=t,this.Ai=new Vm,this.Ri=null}static Vi(t){return new i(t)}get mi(){if(this.Ri)return this.Ri;throw ut(60996)}addReference(t,e,n){return this.Ai.addReference(n,e),this.mi.delete(n.toString()),be.resolve()}removeReference(t,e,n){return this.Ai.removeReference(n,e),this.mi.add(n.toString()),be.resolve()}markPotentiallyOrphaned(t,e){return this.mi.add(e.toString()),be.resolve()}removeTarget(t,e){this.Ai.zr(e.targetId).forEach(r=>this.mi.add(r.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(a=>this.mi.add(a.toString()))}).next(()=>n.removeTargetData(t,e))}Ii(){this.Ri=new Set}di(t){let e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.mi,n=>{let r=ht.fromPath(n);return this.fi(t,r).next(a=>{a||e.removeEntry(r,wt.min())})}).next(()=>(this.Ri=null,e.apply(t)))}updateLimboDocument(t,e){return this.fi(t,e).next(n=>{n?this.mi.delete(e.toString()):this.mi.add(e.toString())})}Pi(t){return 0}fi(t,e){return be.or([()=>be.resolve(this.Ai.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}},O_=class i{constructor(t,e){this.persistence=t,this.gi=new Es(n=>zz(n.path),(n,r)=>n.isEqual(r)),this.garbageCollector=N9(this,e)}static Vi(t,e){return new i(t,e)}Ii(){}di(t){return be.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}mr(t){let e=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>e.next(r=>n+r))}yr(t){let e=0;return this.gr(t,n=>{e++}).next(()=>e)}gr(t,e){return be.forEach(this.gi,(n,r)=>this.Sr(t,n,r).next(a=>a?be.resolve():e(r)))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0,r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ri(t,o=>this.Sr(t,o,e).next(s=>{s||(n++,a.removeEntry(o,wt.min()))})).next(()=>a.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,e){return this.gi.set(e,t.currentSequenceNumber),be.resolve()}removeTarget(t,e){let n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.gi.set(n,t.currentSequenceNumber),be.resolve()}removeReference(t,e,n){return this.gi.set(n,t.currentSequenceNumber),be.resolve()}updateLimboDocument(t,e){return this.gi.set(e,t.currentSequenceNumber),be.resolve()}Pi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=f_(t.data.value)),e}Sr(t,e,n){return be.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{let r=this.gi.get(e);return be.resolve(r!==void 0&&r>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}};var G1=class i{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Is=n,this.ds=r}static Es(t,e){let n=$t(),r=$t();for(let a of e.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new i(t,e.fromCache,n,r)}};var q1=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}};var K1=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return T2()?8:Bz(Vn())>0?6:4})()}initialize(t,e){this.gs=t,this.indexManager=e,this.As=!0}getDocumentsMatchingQuery(t,e,n,r){let a={result:null};return this.ps(t,e).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ys(t,e,r,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;let o=new q1;return this.ws(t,e,o).next(s=>{if(a.result=s,this.Rs)return this.Ss(t,e,o,s.size)})}).next(()=>a.result)}Ss(t,e,n,r){return n.documentReadCount<this.Vs?(Au()<=Ht.DEBUG&&Xe("QueryEngine","SDK will not create cache indexes for query:",Ru(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),be.resolve()):(Au()<=Ht.DEBUG&&Xe("QueryEngine","Query:",Ru(e),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(Au()<=Ht.DEBUG&&Xe("QueryEngine","The SDK decides to create cache indexes for query:",Ru(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oo(e))):be.resolve())}ps(t,e){if(cM(e))return be.resolve(null);let n=Oo(e);return this.indexManager.getIndexType(t,n).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=p1(e,null,"F"),n=Oo(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{let o=$t(...a);return this.gs.getDocuments(t,o).next(s=>this.indexManager.getMinOffset(t,n).next(c=>{let l=this.bs(e,s);return this.Ds(e,l,o,c.readTime)?this.ps(t,p1(e,null,"F")):this.vs(t,l,e,c)}))})))}ys(t,e,n,r){return cM(e)||r.isEqual(wt.min())?be.resolve(null):this.gs.getDocuments(t,n).next(a=>{let o=this.bs(e,a);return this.Ds(e,o,n,r)?be.resolve(null):(Au()<=Ht.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ru(e)),this.vs(t,o,e,Pz(r,Rm)).next(s=>s))})}bs(t,e){let n=new Un(_O(t));return e.forEach((r,a)=>{ev(t,a)&&(n=n.add(a))}),n}Ds(t,e,n,r){if(t.limit===null)return!1;if(n.size!==e.size)return!0;let a=t.limitType==="F"?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}ws(t,e,n){return Au()<=Ht.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",Ru(e)),this.gs.getDocumentsMatchingQuery(t,e,Hl.min(),n)}vs(t,e,n,r){return this.gs.getDocumentsMatchingQuery(t,n,r).next(a=>(e.forEach(o=>{a=a.insert(o.key,o)}),a))}};var $E="LocalStore",L9=3e8,X1=class{constructor(t,e,n,r){this.persistence=t,this.Cs=e,this.serializer=r,this.Fs=new tn(Vt),this.Ms=new Es(a=>zE(a),jE),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(n)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new N1(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Fs))}};function V9(i,t,e,n){return new X1(i,t,e,n)}function BO(i,t){return N(this,null,function*(){let e=Ct(i);return yield e.persistence.runTransaction("Handle user change","readonly",n=>{let r;return e.mutationQueue.getAllMutationBatches(n).next(a=>(r=a,e.Ns(t),e.mutationQueue.getAllMutationBatches(n))).next(a=>{let o=[],s=[],c=$t();for(let l of r){o.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of a){s.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return e.localDocuments.getDocuments(n,c).next(l=>({Bs:l,removedBatchIds:o,addedBatchIds:s}))})})})}function B9(i,t){let e=Ct(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{let r=t.batch.keys(),a=e.Os.newChangeBuffer({trackRemovals:!0});return(function(s,c,l,d){let h=l.batch,f=h.keys(),m=be.resolve();return f.forEach(v=>{m=m.next(()=>d.getEntry(c,v)).next(_=>{let y=l.docVersions.get(v);Yt(y!==null,48541),_.version.compareTo(y)<0&&(h.applyToRemoteDocument(_,l),_.isValidDocument()&&(_.setReadTime(l.commitVersion),d.addEntry(_)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(c,h))})(e,n,t,a).next(()=>a.apply(n)).next(()=>e.mutationQueue.performConsistencyCheck(n)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(n,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(s){let c=$t();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(c=c.add(s.batch.mutations[l].key));return c})(t))).next(()=>e.localDocuments.getDocuments(n,r))})}function UO(i){let t=Ct(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function U9(i,t){let e=Ct(i),n=t.snapshotVersion,r=e.Fs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{let o=e.Os.newChangeBuffer({trackRemovals:!0});r=e.Fs;let s=[];t.targetChanges.forEach((d,h)=>{let f=r.get(h);if(!f)return;s.push(e.hi.removeMatchingKeys(a,d.removedDocuments,h).next(()=>e.hi.addMatchingKeys(a,d.addedDocuments,h)));let m=f.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(h)!==null?m=m.withResumeToken(fr.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,n)),r=r.insert(h,m),(function(_,y,S){return _.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=L9?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(f,m,d)&&s.push(e.hi.updateTargetData(a,m))});let c=Cs(),l=$t();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&s.push(e.persistence.referenceDelegate.updateLimboDocument(a,d))}),s.push(z9(a,o,t.documentUpdates).next(d=>{c=d.Ls,l=d.ks})),!n.isEqual(wt.min())){let d=e.hi.getLastRemoteSnapshotVersion(a).next(h=>e.hi.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(d)}return be.waitFor(s).next(()=>o.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,c,l)).next(()=>c)}).then(a=>(e.Fs=r,a))}function z9(i,t,e){let n=$t(),r=$t();return e.forEach(a=>n=n.add(a)),t.getEntries(i,n).next(a=>{let o=Cs();return e.forEach((s,c)=>{let l=a.get(s);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(s)),c.isNoDocument()&&c.version.isEqual(wt.min())?(t.removeEntry(s,c.readTime),o=o.insert(s,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(c),o=o.insert(s,c)):Xe($E,"Ignoring outdated watch update for ",s,". Current version:",l.version," Watch version:",c.version)}),{Ls:o,ks:r}})}function j9(i,t){let e=Ct(i);return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=NE),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function H9(i,t){let e=Ct(i);return e.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return e.hi.getTargetData(n,t).next(a=>a?(r=a,be.resolve(r)):e.hi.allocateTargetId(n).next(o=>(r=new Nm(t,o,"TargetPurposeListen",n.currentSequenceNumber),e.hi.addTargetData(n,r).next(()=>r))))}).then(n=>{let r=e.Fs.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Fs=e.Fs.insert(n.targetId,n),e.Ms.set(t,n.targetId)),n})}function Y1(i,t,e){return N(this,null,function*(){let n=Ct(i),r=n.Fs.get(t),a=e?"readwrite":"readwrite-primary";try{e||(yield n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Ju(o))throw o;Xe($E,`Failed to update sequence numbers for target ${t}: ${o}`)}n.Fs=n.Fs.remove(t),n.Ms.delete(r.target)})}function wM(i,t,e){let n=Ct(i),r=wt.min(),a=$t();return n.persistence.runTransaction("Execute query","readwrite",o=>(function(c,l,d){let h=Ct(c),f=h.Ms.get(d);return f!==void 0?be.resolve(h.Fs.get(f)):h.hi.getTargetData(l,d)})(n,o,Oo(t)).next(s=>{if(s)return r=s.lastLimboFreeSnapshotVersion,n.hi.getMatchingKeysForTargetId(o,s.targetId).next(c=>{a=c})}).next(()=>n.Cs.getDocumentsMatchingQuery(o,t,e?r:wt.min(),e?a:$t())).next(s=>(W9(n,r9(t),s),{documents:s,qs:a})))}function W9(i,t,e){let n=i.xs.get(t)||wt.min();e.forEach((r,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),i.xs.set(t,n)}var F_=class{constructor(){this.activeTargetIds=d9()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){let t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}};var Q1=class{constructor(){this.Fo=new F_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,e,n){this.Mo[t]=e}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new F_,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}};var Z1=class{xo(t){}shutdown(){}};var xM="ConnectivityMonitor",P_=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Xe(xM,"Network connectivity changed: AVAILABLE");for(let t of this.ko)t(0)}Lo(){Xe(xM,"Network connectivity changed: UNAVAILABLE");for(let t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var h_=null;function J1(){return h_===null?h_=(function(){return 268435456+Math.round(2147483648*Math.random())})():h_++,"0x"+h_.toString(16)}var jx="RestConnection",$9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},eE=class{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=e+"://"+t.host,this.Uo=`projects/${n}/databases/${r}`,this.Ko=this.databaseId.database===w_?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(t,e,n,r,a){let o=J1(),s=this.Go(t,e.toUriEncodedString());Xe(jx,`Sending RPC '${t}' ${o}:`,s,n);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,r,a);let{host:l}=new URL(s),d=Io(l);return this.jo(t,s,c,n,d).then(h=>(Xe(jx,`Received RPC '${t}' ${o}: `,h),h),h=>{throw Cc(jx,`RPC '${t}' ${o} failed with error: `,h,"url: ",s,"request:",n),h})}Jo(t,e,n,r,a,o){return this.Wo(t,e,n,r,a)}zo(t,e,n){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,a)=>t[a]=r),n&&n.headers.forEach((r,a)=>t[a]=r)}Go(t,e){let n=$9[t];return`${this.$o}/v1/${e}:${n}`}terminate(){}};var tE=class{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}};var ur="WebChannelConnection",iE=class extends eE{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,e,n,r,a){let o=J1();return new Promise((s,c)=>{let l=new Lx;l.setWithCredentials(!0),l.listenOnce(Vx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Em.NO_ERROR:let h=l.getResponseJson();Xe(ur,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(h)),s(h);break;case Em.TIMEOUT:Xe(ur,`RPC '${t}' ${o} timed out`),c(new Ue(de.DEADLINE_EXCEEDED,"Request time out"));break;case Em.HTTP_ERROR:let f=l.getStatus();if(Xe(ur,`RPC '${t}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let _=(function(S){let D=S.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(D)>=0?D:de.UNKNOWN})(v.status);c(new Ue(_,v.message))}else c(new Ue(de.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new Ue(de.UNAVAILABLE,"Connection failed."));break;default:ut(9055,{c_:t,streamId:o,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{Xe(ur,`RPC '${t}' ${o} completed.`)}});let d=JSON.stringify(r);Xe(ur,`RPC '${t}' ${o} sending request:`,r),l.send(e,"POST",d,n,15)})}P_(t,e,n){let r=J1(),a=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=zx(),s=Ux(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,e,n),c.encodeInitMessageHeaders=!0;let d=a.join("");Xe(ur,`Creating RPC '${t}' stream ${r}: ${d}`,c);let h=o.createWebChannel(d,c);this.T_(h);let f=!1,m=!1,v=new tE({Ho:y=>{m?Xe(ur,`Not sending because RPC '${t}' stream ${r} is closed:`,y):(f||(Xe(ur,`Opening RPC '${t}' stream ${r} transport.`),h.open(),f=!0),Xe(ur,`RPC '${t}' stream ${r} sending:`,y),h.send(y))},Yo:()=>h.close()}),_=(y,S,D)=>{y.listen(S,T=>{try{D(T)}catch(G){setTimeout(()=>{throw G},0)}})};return _(h,Du.EventType.OPEN,()=>{m||(Xe(ur,`RPC '${t}' stream ${r} transport opened.`),v.s_())}),_(h,Du.EventType.CLOSE,()=>{m||(m=!0,Xe(ur,`RPC '${t}' stream ${r} transport closed`),v.__(),this.I_(h))}),_(h,Du.EventType.ERROR,y=>{m||(m=!0,Cc(ur,`RPC '${t}' stream ${r} transport errored. Name:`,y.name,"Message:",y.message),v.__(new Ue(de.UNAVAILABLE,"The operation could not be completed")))}),_(h,Du.EventType.MESSAGE,y=>{var S;if(!m){let D=y.data[0];Yt(!!D,16349);let T=D,G=T?.error||((S=T[0])===null||S===void 0?void 0:S.error);if(G){Xe(ur,`RPC '${t}' stream ${r} received error:`,G);let K=G.status,j=(function(E){let A=yn[E];if(A!==void 0)return DO(A)})(K),w=G.message;j===void 0&&(j=de.INTERNAL,w="Unknown error status: "+K+" with message "+G.message),m=!0,v.__(new Ue(j,w)),h.close()}else Xe(ur,`RPC '${t}' stream ${r} received:`,D),v.a_(D)}}),_(s,Bx.STAT_EVENT,y=>{y.stat===l_.PROXY?Xe(ur,`RPC '${t}' stream ${r} detected buffering proxy`):y.stat===l_.NOPROXY&&Xe(ur,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.o_()},0),v}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(e=>e===t)}};function Hx(){return typeof document<"u"?document:null}function tv(i){return new C1(i,!0)}var Bm=class{constructor(t,e,n=1e3,r=1.5,a=6e4){this.Fi=t,this.timerId=e,this.d_=n,this.E_=r,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();let e=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,e-n);r>0&&Xe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var EM="PersistentStream",N_=class{constructor(t,e,n,r,a,o,s,c){this.Fi=t,this.w_=n,this.S_=r,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Bm(t,e)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return N(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}L_(){return N(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(t,e){return N(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():e&&e.code===de.RESOURCE_EXHAUSTED?(bs(e.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):e&&e.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,yield this.listener.n_(e)})}U_(){}auth(){this.state=1;let t=this.K_(this.b_),e=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.b_===e&&this.W_(n,r)},n=>{t(()=>{let r=new Ue(de.UNKNOWN,"Fetching auth token failed: "+n.message);return this.G_(r)})})}W_(t,e){let n=this.K_(this.b_);this.stream=this.z_(t,e),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{n(()=>this.G_(r))}),this.stream.onMessage(r=>{n(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(()=>N(this,null,function*(){this.state=0,this.start()}))}G_(t){return Xe(EM,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return e=>{this.Fi.enqueueAndForget(()=>this.b_===t?e():(Xe(EM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},nE=class extends N_{constructor(t,e,n,r,a,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,o),this.serializer=a}z_(t,e){return this.connection.P_("Listen",t,e)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();let e=C9(this.serializer,t),n=(function(a){if(!("targetChange"in a))return wt.min();let o=a.targetChange;return o.targetIds&&o.targetIds.length?wt.min():o.readTime?ha(o.readTime):wt.min()})(t);return this.listener.J_(e,n)}H_(t){let e={};e.database=k1(this.serializer),e.addTarget=(function(a,o){let s,c=o.target;if(s=f1(c)?{documents:S9(a,c)}:{query:k9(a,c).Vt},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=AO(a,o.resumeToken);let l=T1(a,o.expectedCount);l!==null&&(s.expectedCount=l)}else if(o.snapshotVersion.compareTo(wt.min())>0){s.readTime=D_(a,o.snapshotVersion.toTimestamp());let l=T1(a,o.expectedCount);l!==null&&(s.expectedCount=l)}return s})(this.serializer,t);let n=D9(this.serializer,t);n&&(e.labels=n),this.k_(e)}Y_(t){let e={};e.database=k1(this.serializer),e.removeTarget=t,this.k_(e)}},rE=class extends N_{constructor(t,e,n,r,a,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,o),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,e){return this.connection.P_("Write",t,e)}j_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();let e=T9(t.writeResults,t.commitTime),n=ha(t.commitTime);return this.listener.ta(n,e)}na(){let t={};t.database=k1(this.serializer),this.k_(t)}X_(t){let e={streamToken:this.lastStreamToken,writes:t.map(n=>FO(this.serializer,n))};this.k_(e)}};var aE=class{},oE=class extends aE{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new Ue(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Wo(t,S1(e,n),r,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ue(de.UNKNOWN,a.toString())})}Jo(t,e,n,r,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Jo(t,S1(e,n),r,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ue(de.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},sE=class{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){let e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(bs(e),this._a=!1):Xe("OnlineStateTracker",e)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Yl="RemoteStore",cE=class{constructor(t,e,n,r,a){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(o=>{n.enqueueAndForget(()=>N(this,null,function*(){Zl(this)&&(Xe(Yl,"Restarting streams for network reachability change."),yield(function(c){return N(this,null,function*(){let l=Ct(c);l.Ia.add(4),yield $m(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield iv(l)})})(this))}))}),this.Aa=new sE(n,r)}};function iv(i){return N(this,null,function*(){if(Zl(i))for(let t of i.da)yield t(!0)})}function $m(i){return N(this,null,function*(){for(let t of i.da)yield t(!1)})}function zO(i,t){let e=Ct(i);e.Ta.has(t.targetId)||(e.Ta.set(t.targetId,t),XE(e)?KE(e):eh(e).x_()&&qE(e,t))}function GE(i,t){let e=Ct(i),n=eh(e);e.Ta.delete(t),n.x_()&&jO(e,t),e.Ta.size===0&&(n.x_()?n.B_():Zl(e)&&e.Aa.set("Unknown"))}function qE(i,t){if(i.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){let e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}eh(i).H_(t)}function jO(i,t){i.Ra.$e(t),eh(i).Y_(t)}function KE(i){i.Ra=new E1({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>i.Ta.get(t)||null,lt:()=>i.datastore.serializer.databaseId}),eh(i).start(),i.Aa.aa()}function XE(i){return Zl(i)&&!eh(i).M_()&&i.Ta.size>0}function Zl(i){return Ct(i).Ia.size===0}function HO(i){i.Ra=void 0}function G9(i){return N(this,null,function*(){i.Aa.set("Online")})}function q9(i){return N(this,null,function*(){i.Ta.forEach((t,e)=>{qE(i,t)})})}function K9(i,t){return N(this,null,function*(){HO(i),XE(i)?(i.Aa.la(t),KE(i)):i.Aa.set("Unknown")})}function X9(i,t,e){return N(this,null,function*(){if(i.Aa.set("Online"),t instanceof k_&&t.state===2&&t.cause)try{yield(function(r,a){return N(this,null,function*(){let o=a.cause;for(let s of a.targetIds)r.Ta.has(s)&&(yield r.remoteSyncer.rejectListen(s,o),r.Ta.delete(s),r.Ra.removeTarget(s))})})(i,t)}catch(n){Xe(Yl,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield L_(i,n)}else if(t instanceof Pu?i.Ra.Ye(t):t instanceof S_?i.Ra.it(t):i.Ra.et(t),!e.isEqual(wt.min()))try{let n=yield UO(i.localStore);e.compareTo(n)>=0&&(yield(function(a,o){let s=a.Ra.Pt(o);return s.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=a.Ta.get(l);d&&a.Ta.set(l,d.withResumeToken(c.resumeToken,o))}}),s.targetMismatches.forEach((c,l)=>{let d=a.Ta.get(c);if(!d)return;a.Ta.set(c,d.withResumeToken(fr.EMPTY_BYTE_STRING,d.snapshotVersion)),jO(a,c);let h=new Nm(d.target,c,l,d.sequenceNumber);qE(a,h)}),a.remoteSyncer.applyRemoteEvent(s)})(i,e))}catch(n){Xe(Yl,"Failed to raise snapshot:",n),yield L_(i,n)}})}function L_(i,t,e){return N(this,null,function*(){if(!Ju(t))throw t;i.Ia.add(1),yield $m(i),i.Aa.set("Offline"),e||(e=()=>UO(i.localStore)),i.asyncQueue.enqueueRetryable(()=>N(null,null,function*(){Xe(Yl,"Retrying IndexedDB access"),yield e(),i.Ia.delete(1),yield iv(i)}))})}function WO(i,t){return t().catch(e=>L_(i,e,t))}function nv(i){return N(this,null,function*(){let t=Ct(i),e=Sc(t),n=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:NE;for(;Y9(t);)try{let r=yield j9(t.localStore,n);if(r===null){t.Pa.length===0&&e.B_();break}n=r.batchId,Q9(t,r)}catch(r){yield L_(t,r)}$O(t)&&GO(t)})}function Y9(i){return Zl(i)&&i.Pa.length<10}function Q9(i,t){i.Pa.push(t);let e=Sc(i);e.x_()&&e.Z_&&e.X_(t.mutations)}function $O(i){return Zl(i)&&!Sc(i).M_()&&i.Pa.length>0}function GO(i){Sc(i).start()}function Z9(i){return N(this,null,function*(){Sc(i).na()})}function J9(i){return N(this,null,function*(){let t=Sc(i);for(let e of i.Pa)t.X_(e.mutations)})}function ej(i,t,e){return N(this,null,function*(){let n=i.Pa.shift(),r=y1.from(n,t,e);yield WO(i,()=>i.remoteSyncer.applySuccessfulWrite(r)),yield nv(i)})}function tj(i,t){return N(this,null,function*(){t&&Sc(i).Z_&&(yield(function(n,r){return N(this,null,function*(){if((function(o){return IO(o)&&o!==de.ABORTED})(r.code)){let a=n.Pa.shift();Sc(n).N_(),yield WO(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield nv(n)}})})(i,t)),$O(i)&&GO(i)})}function CM(i,t){return N(this,null,function*(){let e=Ct(i);e.asyncQueue.verifyOperationInProgress(),Xe(Yl,"RemoteStore received new credentials");let n=Zl(e);e.Ia.add(3),yield $m(e),n&&e.Aa.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.Ia.delete(3),yield iv(e)})}function ij(i,t){return N(this,null,function*(){let e=Ct(i);t?(e.Ia.delete(2),yield iv(e)):t||(e.Ia.add(2),yield $m(e),e.Aa.set("Unknown"))})}function eh(i){return i.Va||(i.Va=(function(e,n,r){let a=Ct(e);return a.ia(),new nE(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(i.datastore,i.asyncQueue,{Zo:G9.bind(null,i),e_:q9.bind(null,i),n_:K9.bind(null,i),J_:X9.bind(null,i)}),i.da.push(t=>N(null,null,function*(){t?(i.Va.N_(),XE(i)?KE(i):i.Aa.set("Unknown")):(yield i.Va.stop(),HO(i))}))),i.Va}function Sc(i){return i.ma||(i.ma=(function(e,n,r){let a=Ct(e);return a.ia(),new rE(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:Z9.bind(null,i),n_:tj.bind(null,i),ea:J9.bind(null,i),ta:ej.bind(null,i)}),i.da.push(t=>N(null,null,function*(){t?(i.ma.N_(),yield nv(i)):(yield i.ma.stop(),i.Pa.length>0&&(Xe(Yl,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))}))),i.ma}var lE=class i{constructor(t,e,n,r,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new Da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,a){let o=Date.now()+n,s=new i(t,e,o,r,a);return s.start(n),s}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ue(de.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function YE(i,t){if(bs("AsyncQueue",`${t}: ${i}`),Ju(i))return new Ue(de.UNAVAILABLE,`${t}: ${i}`);throw i}var V_=class i{static emptySet(t){return new i(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||ht.comparator(e.key,n.key):(e,n)=>ht.comparator(e.key,n.key),this.keyedMap=Cm(),this.sortedSet=new tn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){let e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){let e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){let e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof i)||this.size!==t.size)return!1;let e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){let r=e.getNext().key,a=n.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){let t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){let n=new i;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}};var B_=class{constructor(){this.fa=new tn(ht.comparator)}track(t){let e=t.doc.key,n=this.fa.get(e);n?t.type!==0&&n.type===3?this.fa=this.fa.insert(e,t):t.type===3&&n.type!==1?this.fa=this.fa.insert(e,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.fa=this.fa.insert(e,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.fa=this.fa.remove(e):t.type===1&&n.type===2?this.fa=this.fa.insert(e,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):ut(63341,{At:t,ga:n}):this.fa=this.fa.insert(e,t)}pa(){let t=[];return this.fa.inorderTraversal((e,n)=>{t.push(n)}),t}},Gu=class i{constructor(t,e,n,r,a,o,s,c,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,r,a){let o=[];return e.forEach(s=>{o.push({type:0,doc:s})}),new i(t,e,V_.emptySet(e),o,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&J_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;let e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}};var dE=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}},uE=class{constructor(){this.queries=TM(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,n){let r=Ct(e),a=r.queries;r.queries=TM(),a.forEach((o,s)=>{for(let c of s.wa)c.onError(n)})})(this,new Ue(de.ABORTED,"Firestore shutting down"))}};function TM(){return new Es(i=>gO(i),J_)}function QE(i,t){return N(this,null,function*(){let e=Ct(i),n=3,r=t.query,a=e.queries.get(r);a?!a.Sa()&&t.ba()&&(n=2):(a=new dE,n=t.ba()?0:1);try{switch(n){case 0:a.ya=yield e.onListen(r,!0);break;case 1:a.ya=yield e.onListen(r,!1);break;case 2:yield e.onFirstRemoteStoreListen(r)}}catch(o){let s=YE(o,`Initialization of query '${Ru(t.query)}' failed`);return void t.onError(s)}e.queries.set(r,a),a.wa.push(t),t.va(e.onlineState),a.ya&&t.Ca(a.ya)&&JE(e)})}function ZE(i,t){return N(this,null,function*(){let e=Ct(i),n=t.query,r=3,a=e.queries.get(n);if(a){let o=a.wa.indexOf(t);o>=0&&(a.wa.splice(o,1),a.wa.length===0?r=t.ba()?0:1:!a.Sa()&&t.ba()&&(r=2))}switch(r){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}})}function nj(i,t){let e=Ct(i),n=!1;for(let r of t){let a=r.query,o=e.queries.get(a);if(o){for(let s of o.wa)s.Ca(r)&&(n=!0);o.ya=r}}n&&JE(e)}function rj(i,t,e){let n=Ct(i),r=n.queries.get(t);if(r)for(let a of r.wa)a.onError(e);n.queries.delete(t)}function JE(i){i.Da.forEach(t=>{t.next()})}var hE,SM;(SM=hE||(hE={})).Fa="default",SM.Cache="cache";var Um=class{constructor(t,e,n){this.query=t,this.Ma=e,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(t){if(!this.options.includeMetadataChanges){let n=[];for(let r of t.docChanges)r.type!==3&&n.push(r);t=new Gu(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),e=!0):this.Ba(t,this.onlineState)&&(this.La(t),e=!0),this.Oa=t,e}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let e=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),e=!0),e}Ba(t,e){if(!t.fromCache||!this.ba())return!0;let n=e!=="Offline";return(!this.options.ka||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Na(t){if(t.docChanges.length>0)return!0;let e=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}La(t){t=Gu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==hE.Cache}};var U_=class{constructor(t){this.key=t}},z_=class{constructor(t){this.key=t}},fE=class{constructor(t,e){this.query=t,this.Ha=e,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=$t(),this.mutatedKeys=$t(),this.Xa=_O(t),this.eu=new V_(this.Xa)}get tu(){return this.Ha}nu(t,e){let n=e?e.ru:new B_,r=e?e.eu:this.eu,a=e?e.mutatedKeys:this.mutatedKeys,o=r,s=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,h)=>{let f=r.get(d),m=ev(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),y=!1;f&&m?f.data.isEqual(m.data)?v!==_&&(n.track({type:3,doc:m}),y=!0):this.iu(f,m)||(n.track({type:2,doc:m}),y=!0,(c&&this.Xa(m,c)>0||l&&this.Xa(m,l)<0)&&(s=!0)):!f&&m?(n.track({type:0,doc:m}),y=!0):f&&!m&&(n.track({type:1,doc:f}),y=!0,(c||l)&&(s=!0)),y&&(m?(o=o.add(m),a=_?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{eu:o,ru:n,Ds:s,mutatedKeys:a}}iu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,r){let a=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;let o=t.ru.pa();o.sort((d,h)=>(function(m,v){let _=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut(20277,{At:y})}};return _(m)-_(v)})(d.type,h.type)||this.Xa(d.doc,h.doc)),this.su(n),r=r!=null&&r;let s=e&&!r?this.ou():[],c=this.Za.size===0&&this.current&&!r?1:0,l=c!==this.Ya;return this.Ya=c,o.length!==0||l?{snapshot:new Gu(this.query,t.eu,a,o,t.mutatedKeys,c===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:s}:{_u:s}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new B_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}ou(){if(!this.current)return[];let t=this.Za;this.Za=$t(),this.eu.forEach(n=>{this.au(n.key)&&(this.Za=this.Za.add(n.key))});let e=[];return t.forEach(n=>{this.Za.has(n)||e.push(new z_(n))}),this.Za.forEach(n=>{t.has(n)||e.push(new U_(n))}),e}uu(t){this.Ha=t.qs,this.Za=$t();let e=this.nu(t.documents);return this.applyChanges(e,!0)}cu(){return Gu.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},eC="SyncEngine",mE=class{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}},pE=class{constructor(t){this.key=t,this.lu=!1}},gE=class{constructor(t,e,n,r,a,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Es(s=>gO(s),J_),this.Tu=new Map,this.Iu=new Set,this.du=new tn(ht.comparator),this.Eu=new Map,this.Au=new Vm,this.Ru={},this.Vu=new Map,this.mu=Lm.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function aj(i,t,e=!0){return N(this,null,function*(){let n=ZO(i),r,a=n.Pu.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.cu()):r=yield qO(n,t,e,!0),r})}function oj(i,t){return N(this,null,function*(){let e=ZO(i);yield qO(e,t,!0,!1)})}function qO(i,t,e,n){return N(this,null,function*(){let r=yield H9(i.localStore,Oo(t)),a=r.targetId,o=i.sharedClientState.addLocalQueryTarget(a,e),s;return n&&(s=yield sj(i,t,a,o==="current",r.resumeToken)),i.isPrimaryClient&&e&&zO(i.remoteStore,r),s})}function sj(i,t,e,n,r){return N(this,null,function*(){i.gu=(h,f,m)=>(function(_,y,S,D){return N(this,null,function*(){let T=y.view.nu(S);T.Ds&&(T=yield wM(_.localStore,y.query,!1).then(({documents:w})=>y.view.nu(w,T)));let G=D&&D.targetChanges.get(y.targetId),K=D&&D.targetMismatches.get(y.targetId)!=null,j=y.view.applyChanges(T,_.isPrimaryClient,G,K);return IM(_,y.targetId,j._u),j.snapshot})})(i,h,f,m);let a=yield wM(i.localStore,t,!0),o=new fE(t,a.qs),s=o.nu(a.documents),c=Pm.createSynthesizedTargetChangeForCurrentChange(e,n&&i.onlineState!=="Offline",r),l=o.applyChanges(s,i.isPrimaryClient,c);IM(i,e,l._u);let d=new mE(t,e,o);return i.Pu.set(t,d),i.Tu.has(e)?i.Tu.get(e).push(t):i.Tu.set(e,[t]),l.snapshot})}function cj(i,t,e){return N(this,null,function*(){let n=Ct(i),r=n.Pu.get(t),a=n.Tu.get(r.targetId);if(a.length>1)return n.Tu.set(r.targetId,a.filter(o=>!J_(o,t))),void n.Pu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Y1(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),e&&GE(n.remoteStore,r.targetId),_E(n,r.targetId)}).catch(Zu))):(_E(n,r.targetId),yield Y1(n.localStore,r.targetId,!0))})}function lj(i,t){return N(this,null,function*(){let e=Ct(i),n=e.Pu.get(t),r=e.Tu.get(n.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),GE(e.remoteStore,n.targetId))})}function dj(i,t,e){return N(this,null,function*(){let n=_j(i);try{let r=yield(function(o,s){let c=Ct(o),l=En.now(),d=s.reduce((m,v)=>m.add(v.key),$t()),h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Cs(),_=$t();return c.Os.getEntries(m,d).next(y=>{v=y,v.forEach((S,D)=>{D.isValidDocument()||(_=_.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,v)).next(y=>{h=y;let S=[];for(let D of s){let T=g9(D,h.get(D.key).overlayedDocument);T!=null&&S.push(new Po(D.key,T,lO(T.value.mapValue),hr.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,S,s)}).next(y=>{f=y;let S=y.applyToLocalDocumentSet(h,_);return c.documentOverlayCache.saveOverlays(m,y.batchId,S)})}).then(()=>({batchId:f.batchId,changes:yO(h)}))})(n.localStore,t);n.sharedClientState.addPendingMutation(r.batchId),(function(o,s,c){let l=o.Ru[o.currentUser.toKey()];l||(l=new tn(Vt)),l=l.insert(s,c),o.Ru[o.currentUser.toKey()]=l})(n,r.batchId,e),yield Gm(n,r.changes),yield nv(n.remoteStore)}catch(r){let a=YE(r,"Failed to persist write");e.reject(a)}})}function KO(i,t){return N(this,null,function*(){let e=Ct(i);try{let n=yield U9(e.localStore,t);t.targetChanges.forEach((r,a)=>{let o=e.Eu.get(a);o&&(Yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.lu=!0:r.modifiedDocuments.size>0?Yt(o.lu,14607):r.removedDocuments.size>0&&(Yt(o.lu,42227),o.lu=!1))}),yield Gm(e,n,t)}catch(n){yield Zu(n)}})}function kM(i,t,e){let n=Ct(i);if(n.isPrimaryClient&&e===0||!n.isPrimaryClient&&e===1){let r=[];n.Pu.forEach((a,o)=>{let s=o.view.va(t);s.snapshot&&r.push(s.snapshot)}),(function(o,s){let c=Ct(o);c.onlineState=s;let l=!1;c.queries.forEach((d,h)=>{for(let f of h.wa)f.va(s)&&(l=!0)}),l&&JE(c)})(n.eventManager,t),r.length&&n.hu.J_(r),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}function uj(i,t,e){return N(this,null,function*(){let n=Ct(i);n.sharedClientState.updateQueryState(t,"rejected",e);let r=n.Eu.get(t),a=r&&r.key;if(a){let o=new tn(ht.comparator);o=o.insert(a,fa.newNoDocument(a,wt.min()));let s=$t().add(a),c=new T_(wt.min(),new Map,new tn(Vt),o,s);yield KO(n,c),n.du=n.du.remove(a),n.Eu.delete(t),tC(n)}else yield Y1(n.localStore,t,!1).then(()=>_E(n,t,e)).catch(Zu)})}function hj(i,t){return N(this,null,function*(){let e=Ct(i),n=t.batch.batchId;try{let r=yield B9(e.localStore,t);YO(e,n,null),XO(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),yield Gm(e,r)}catch(r){yield Zu(r)}})}function fj(i,t,e){return N(this,null,function*(){let n=Ct(i);try{let r=yield(function(o,s){let c=Ct(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,s).next(h=>(Yt(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,s)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})})(n.localStore,t);YO(n,t,e),XO(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),yield Gm(n,r)}catch(r){yield Zu(r)}})}function XO(i,t){(i.Vu.get(t)||[]).forEach(e=>{e.resolve()}),i.Vu.delete(t)}function YO(i,t,e){let n=Ct(i),r=n.Ru[n.currentUser.toKey()];if(r){let a=r.get(t);a&&(e?a.reject(e):a.resolve(),r=r.remove(t)),n.Ru[n.currentUser.toKey()]=r}}function _E(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(let n of i.Tu.get(t))i.Pu.delete(n),e&&i.hu.pu(n,e);i.Tu.delete(t),i.isPrimaryClient&&i.Au.zr(t).forEach(n=>{i.Au.containsKey(n)||QO(i,n)})}function QO(i,t){i.Iu.delete(t.path.canonicalString());let e=i.du.get(t);e!==null&&(GE(i.remoteStore,e),i.du=i.du.remove(t),i.Eu.delete(e),tC(i))}function IM(i,t,e){for(let n of e)n instanceof U_?(i.Au.addReference(n.key,t),mj(i,n)):n instanceof z_?(Xe(eC,"Document no longer in limbo: "+n.key),i.Au.removeReference(n.key,t),i.Au.containsKey(n.key)||QO(i,n.key)):ut(19791,{yu:n})}function mj(i,t){let e=t.key,n=e.path.canonicalString();i.du.get(e)||i.Iu.has(n)||(Xe(eC,"New document in limbo: "+e),i.Iu.add(n),tC(i))}function tC(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){let t=i.Iu.values().next().value;i.Iu.delete(t);let e=new ht(Di.fromString(t)),n=i.mu.next();i.Eu.set(n,new pE(e)),i.du=i.du.insert(e,n),zO(i.remoteStore,new Nm(Oo(Z_(e.path)),n,"TargetPurposeLimboResolution",PE.ue))}}function Gm(i,t,e){return N(this,null,function*(){let n=Ct(i),r=[],a=[],o=[];n.Pu.isEmpty()||(n.Pu.forEach((s,c)=>{o.push(n.gu(c,t,e).then(l=>{var d;if((l||e)&&n.isPrimaryClient){let h=l?!l.fromCache:(d=e?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(l){r.push(l);let h=G1.Es(c.targetId,l);a.push(h)}}))}),yield Promise.all(o),n.hu.J_(r),yield(function(c,l){return N(this,null,function*(){let d=Ct(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>be.forEach(l,f=>be.forEach(f.Is,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>be.forEach(f.ds,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Ju(h))throw h;Xe($E,"Failed to update sequence numbers: "+h)}for(let h of l){let f=h.targetId;if(!h.fromCache){let m=d.Fs.get(f),v=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(v);d.Fs=d.Fs.insert(f,_)}}})})(n.localStore,a))})}function pj(i,t){return N(this,null,function*(){let e=Ct(i);if(!e.currentUser.isEqual(t)){Xe(eC,"User change. New user:",t.toKey());let n=yield BO(e.localStore,t);e.currentUser=t,(function(a,o){a.Vu.forEach(s=>{s.forEach(c=>{c.reject(new Ue(de.CANCELLED,o))})}),a.Vu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),yield Gm(e,n.Bs)}})}function gj(i,t){let e=Ct(i),n=e.Eu.get(t);if(n&&n.lu)return $t().add(n.key);{let r=$t(),a=e.Tu.get(t);if(!a)return r;for(let o of a){let s=e.Pu.get(o);r=r.unionWith(s.view.tu)}return r}}function ZO(i){let t=Ct(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=KO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uj.bind(null,t),t.hu.J_=nj.bind(null,t.eventManager),t.hu.pu=rj.bind(null,t.eventManager),t}function _j(i){let t=Ct(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fj.bind(null,t),t}var JO=(()=>{class i{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){return N(this,null,function*(){this.serializer=tv(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),yield this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)})}Cu(e,n){return null}Fu(e,n){return null}vu(e){return V9(this.persistence,new K1,e.initialUser,this.serializer)}Du(e){return new M_($1.Vi,this.serializer)}bu(e){return new Q1}terminate(){return N(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return i.provider={build:()=>new i},i})(),vE=class extends JO{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,e){Yt(this.persistence.referenceDelegate instanceof O_,46915);let n=this.persistence.referenceDelegate.garbageCollector;return new M1(n,t.asyncQueue,e)}Du(t){let e=this.cacheSizeBytes!==void 0?ka.withCacheSize(this.cacheSizeBytes):ka.DEFAULT;return new M_(n=>O_.Vi(n,e),this.serializer)}};var vj=(()=>{class i{initialize(e,n){return N(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kM(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pj.bind(null,this.syncEngine),yield ij(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return(function(){return new uE})()}createDatastore(e){let n=tv(e.databaseInfo.databaseId),r=(function(o){return new iE(o)})(e.databaseInfo);return(function(o,s,c,l){return new oE(o,s,c,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,s,c){return new cE(r,a,o,s,c)})(this.localStore,this.datastore,e.asyncQueue,n=>kM(this.syncEngine,n,0),(function(){return P_.C()?new P_:new Z1})())}createSyncEngine(e,n){return(function(a,o,s,c,l,d,h){let f=new gE(a,o,s,c,l,d);return h&&(f.fu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return N(this,null,function*(){var e,n;yield(function(a){return N(this,null,function*(){let o=Ct(a);Xe(Yl,"RemoteStore shutting down."),o.Ia.add(5),yield $m(o),o.Ea.shutdown(),o.Aa.set("Unknown")})})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}}return i.provider={build:()=>new i},i})();var zm=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):bs("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,e){setTimeout(()=>{this.muted||t(e)},0)}};var yE=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){return N(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ue(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let e=yield(function(r,a){return N(this,null,function*(){let o=Ct(r),s={documents:a.map(h=>A_(o.serializer,h))},c=yield o.Jo("BatchGetDocuments",o.serializer.databaseId,Di.emptyPath(),s,a.length),l=new Map;c.forEach(h=>{let f=E9(o.serializer,h);l.set(f.key.toString(),f)});let d=[];return a.forEach(h=>{let f=l.get(h.toString());Yt(!!f,55234,{key:h}),d.push(f)}),d})})(this.datastore,t);return e.forEach(n=>this.recordVersion(n)),e})}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(t.toString())}delete(t){this.write(new Xl(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){return N(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let t=this.readVersions;this.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((e,n)=>{let r=ht.fromPath(n);this.mutations.push(new C_(r,this.precondition(r)))}),yield(function(n,r){return N(this,null,function*(){let a=Ct(n),o={writes:r.map(s=>FO(a.serializer,s))};yield a.Wo("Commit",a.serializer.databaseId,Di.emptyPath(),o)})})(this.datastore,this.mutations),this.committed=!0})}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ut(50498,{Wu:t.constructor.name});e=wt.min()}let n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ue(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){let e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(wt.min())?hr.exists(!1):hr.updateTime(e):hr.none()}preconditionForUpdate(t){let e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(wt.min()))throw new Ue(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hr.updateTime(e)}return hr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};var bE=class{constructor(t,e,n,r,a){this.asyncQueue=t,this.datastore=e,this.options=n,this.updateFunction=r,this.deferred=a,this.Gu=n.maxAttempts,this.F_=new Bm(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_(()=>N(this,null,function*(){let t=new yE(this.datastore),e=this.Ju(t);e&&e.then(n=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(n)}).catch(r=>{this.Hu(r)}))}).catch(n=>{this.Hu(n)})}))}Ju(t){try{let e=this.updateFunction(t);return!Wm(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Hu(t){this.Gu>0&&this.Yu(t)?(this.Gu-=1,this.asyncQueue.enqueueAndForget(()=>(this.ju(),Promise.resolve()))):this.deferred.reject(t)}Yu(t){if(t.name==="FirebaseError"){let e=t.code;return e==="aborted"||e==="failed-precondition"||e==="already-exists"||!IO(e)}return!1}};var kc="FirestoreClient",wE=class{constructor(t,e,n,r,a){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Bn.UNAUTHENTICATED,this.clientId=Am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,o=>N(this,null,function*(){Xe(kc,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,o=>(Xe(kc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();let t=new Da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>N(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){let n=YE(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}};function Wx(i,t){return N(this,null,function*(){i.asyncQueue.verifyOperationInProgress(),Xe(kc,"Initializing OfflineComponentProvider");let e=i.configuration;yield t.initialize(e);let n=e.initialUser;i.setCredentialChangeListener(r=>N(null,null,function*(){n.isEqual(r)||(yield BO(t.localStore,r),n=r)})),t.persistence.setDatabaseDeletedListener(()=>{Cc("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{Xe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{Cc("Terminating Firestore due to IndexedDb database deletion failed",r)})}),i._offlineComponents=t})}function DM(i,t){return N(this,null,function*(){i.asyncQueue.verifyOperationInProgress();let e=yield yj(i);Xe(kc,"Initializing OnlineComponentProvider"),yield t.initialize(e,i.configuration),i.setCredentialChangeListener(n=>CM(t.remoteStore,n)),i.setAppCheckTokenChangeListener((n,r)=>CM(t.remoteStore,r)),i._onlineComponents=t})}function yj(i){return N(this,null,function*(){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Xe(kc,"Using user provided OfflineComponentProvider");try{yield Wx(i,i._uninitializedComponentsProvider._offline)}catch(t){let e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===de.FAILED_PRECONDITION||r.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Cc("Error using user provided cache. Falling back to memory cache: "+e),yield Wx(i,new JO)}}else Xe(kc,"Using default OfflineComponentProvider"),yield Wx(i,new vE(void 0));return i._offlineComponents})}function iC(i){return N(this,null,function*(){return i._onlineComponents||(i._uninitializedComponentsProvider?(Xe(kc,"Using user provided OnlineComponentProvider"),yield DM(i,i._uninitializedComponentsProvider._online)):(Xe(kc,"Using default OnlineComponentProvider"),yield DM(i,new vj))),i._onlineComponents})}function bj(i){return iC(i).then(t=>t.syncEngine)}function wj(i){return iC(i).then(t=>t.datastore)}function j_(i){return N(this,null,function*(){let t=yield iC(i),e=t.eventManager;return e.onListen=aj.bind(null,t.syncEngine),e.onUnlisten=cj.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=oj.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=lj.bind(null,t.syncEngine),e})}function xj(i,t,e={}){let n=new Da;return i.asyncQueue.enqueueAndForget(()=>N(null,null,function*(){return(function(a,o,s,c,l){let d=new zm({next:f=>{d.Ou(),o.enqueueAndForget(()=>ZE(a,h));let m=f.docs.has(s);!m&&f.fromCache?l.reject(new Ue(de.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&c&&c.source==="server"?l.reject(new Ue(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new Um(Z_(s.path),d,{includeMetadataChanges:!0,ka:!0});return QE(a,h)})(yield j_(i),i.asyncQueue,t,e,n)})),n.promise}function Ej(i,t,e={}){let n=new Da;return i.asyncQueue.enqueueAndForget(()=>N(null,null,function*(){return(function(a,o,s,c,l){let d=new zm({next:f=>{d.Ou(),o.enqueueAndForget(()=>ZE(a,h)),f.fromCache&&c.source==="server"?l.reject(new Ue(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new Um(s,d,{includeMetadataChanges:!0,ka:!0});return QE(a,h)})(yield j_(i),i.asyncQueue,t,e,n)})),n.promise}function eF(i){let t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}var AM=new Map;var tF="firestore.googleapis.com",RM=!0,H_=class{constructor(t){var e,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Ue(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tF,this.ssl=RM}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:RM;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=VO;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<P9)throw new Ue(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Fz("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eF((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ue(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ue(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ue(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},qu=class{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ue(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ue(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new $x;switch(n.type){case"firstParty":return new Xx(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ue(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return N(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){let n=AM.get(e);n&&(Xe("ComponentProvider","Removing Datastore"),AM.delete(e),n.terminate())})(this),Promise.resolve()}};function nC(i,t,e,n={}){var r;i=ua(i,qu);let a=Io(t),o=i._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:i._getEmulatorOptions()}),c=`${t}:${e}`;a&&(Su(`https://${c}`),ku("Firestore",!0)),o.host!==tF&&o.host!==c&&Cc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},o),{host:c,ssl:a,emulatorOptions:n});if(!Do(l,s)&&(i._setSettings(l),n.mockUserToken)){let d,h;if(typeof n.mockUserToken=="string")d=n.mockUserToken,h=Bn.MOCK_USER;else{d=y2(n.mockUserToken,(r=i._app)===null||r===void 0?void 0:r.options.projectId);let f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new Ue(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Bn(f)}i._authCredentials=new Gx(new g_(d,h))}}var Ql=class i{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new i(this.firestore,t,this._query)}},An=class i{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new i(this.firestore,t,this._key)}toJSON(){return{type:i._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,n){if(Hm(e,i._jsonSchema))return new i(t,n||null,new ht(Di.fromString(e.referencePath)))}};An._jsonSchemaVersion="firestore/documentReference/1.0",An._jsonSchema={type:xn("string",An._jsonSchemaVersion),referencePath:xn("string")};var bc=class i extends Ql{constructor(t,e,n){super(t,e,Z_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new An(this.firestore,null,new ht(t))}withConverter(t){return new i(this.firestore,t,this._path)}};function tr(i,t,...e){if(i=Ii(i),BM("collection","path",t),i instanceof qu){let n=Di.fromString(t,...e);return X2(n),new bc(i,null,n)}{if(!(i instanceof An||i instanceof bc))throw new Ue(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=i._path.child(Di.fromString(t,...e));return X2(n),new bc(i.firestore,null,n)}}function no(i,t,...e){if(i=Ii(i),arguments.length===1&&(t=Am.newId()),BM("doc","path",t),i instanceof qu){let n=Di.fromString(t,...e);return K2(n),new An(i,null,new ht(n))}{if(!(i instanceof An||i instanceof bc))throw new Ue(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=i._path.child(Di.fromString(t,...e));return K2(n),new An(i.firestore,i instanceof bc?i.converter:null,new ht(n))}}var MM="AsyncQueue",W_=class{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Bm(this,"async_queue_retry"),this.oc=()=>{let n=Hx();n&&Xe(MM,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=t;let e=Hx();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;let e=Hx();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});let e=new Da;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}cc(){return N(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Ju(t))throw t;Xe(MM,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(t){let e=this._c.then(()=>(this.nc=!0,t().catch(n=>{throw this.tc=n,this.nc=!1,bs("INTERNAL UNHANDLED ERROR: ",OM(n)),n}).then(n=>(this.nc=!1,n))));return this._c=e,e}enqueueAfterDelay(t,e,n){this.ac(),this.sc.indexOf(t)>-1&&(e=0);let r=lE.createAndSchedule(this,t,e,n,a=>this.lc(a));return this.ec.push(r),r}ac(){this.tc&&ut(47125,{hc:OM(this.tc)})}verifyOperationInProgress(){}Pc(){return N(this,null,function*(){let t;do t=this._c,yield t;while(t!==this._c)})}Tc(t){for(let e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(let e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){let e=this.ec.indexOf(t);this.ec.splice(e,1)}};function OM(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}function FM(i){return(function(e,n){if(typeof e!="object"||e===null)return!1;let r=e;for(let a of n)if(a in r&&typeof r[a]=="function")return!0;return!1})(i,["next","error","complete"])}var io=class extends qu{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new W_,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return N(this,null,function*(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new W_(t),this._firestoreClient=void 0,yield t}})}};function iF(i,t){let e=typeof i=="object"?i:gs(),n=typeof i=="string"?i:t||w_,r=gc(e,"firestore").getImmediate({identifier:n});if(!r._initialized){let a=r_("firestore");a&&nC(r,...a)}return r}function th(i){if(i._terminated)throw new Ue(de.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Cj(i),i._firestoreClient}function Cj(i){var t,e,n;let r=i._freezeSettings(),a=(function(s,c,l,d){return new t1(s,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,eF(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,r);i._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((n=r.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(i._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),i._firestoreClient=new wE(i._authCredentials,i._appCheckCredentials,i._queue,a,i._componentsProvider&&(function(s){let c=s?._online.build();return{_offline:s?._offline.build(c),_online:c}})(i._componentsProvider))}var ys=class i{constructor(t){this._byteString=t}static fromBase64String(t){try{return new i(fr.fromBase64String(t))}catch(e){throw new Ue(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new i(fr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hm(t,i._jsonSchema))return i.fromBase64String(t.bytes)}};ys._jsonSchemaVersion="firestore/bytes/1.0",ys._jsonSchema={type:xn("string",ys._jsonSchemaVersion),bytes:xn("string")};var Ic=class{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Ue(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new da(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};function rC(){return new Ic(Zx)}var Ku=class{constructor(t){this._methodName=t}};var wc=class i{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ue(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ue(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:i._jsonSchemaVersion}}static fromJSON(t){if(Hm(t,i._jsonSchema))return new i(t.latitude,t.longitude)}};wc._jsonSchemaVersion="firestore/geoPoint/1.0",wc._jsonSchema={type:xn("string",wc._jsonSchemaVersion),latitude:xn("number"),longitude:xn("number")};var xc=class i{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return(function(n,r){if(n.length!==r.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==r[a])return!1;return!0})(this._values,t._values)}toJSON(){return{type:i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hm(t,i._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new i(t.vectorValues);throw new Ue(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};xc._jsonSchemaVersion="firestore/vectorValue/1.0",xc._jsonSchema={type:xn("string",xc._jsonSchemaVersion),vectorValues:xn("object")};var Tj=/^__.*__$/,xE=class{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return this.fieldMask!==null?new Po(t,this.data,this.fieldMask,e,this.fieldTransforms):new Kl(t,this.data,e,this.fieldTransforms)}},$_=class{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Po(t,this.data,this.fieldMask,e,this.fieldTransforms)}};function nF(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut(40011,{Ec:i})}}var EE=class i{constructor(t,e,n,r,a,o){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new i(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var e;let n=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:n,mc:!1});return r.fc(t),r}gc(t){var e;let n=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:n,mc:!1});return r.Ac(),r}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return q_(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(nF(this.Ec)&&Tj.test(t))throw this.wc('Document fields cannot begin and end with "__"')}},CE=class{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||tv(t)}Dc(t,e,n,r=!1){return new EE({Ec:t,methodName:e,bc:n,path:da.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function rv(i){let t=i._freezeSettings(),e=tv(i._databaseId);return new CE(i._databaseId,!!t.ignoreUndefinedProperties,e)}function aC(i,t,e,n,r,a={}){let o=i.Dc(a.merge||a.mergeFields?2:0,t,e,r);oC("Data must be an object, but it was:",o,n);let s=oF(n,o),c,l;if(a.merge)c=new Ia(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){let d=[];for(let h of a.mergeFields){let f=SE(t,h,e);if(!o.contains(f))throw new Ue(de.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);cF(d,f)||d.push(f)}c=new Ia(d),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new xE(new Wr(s),c,l)}var G_=class i extends Ku{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof i}};var TE=class i extends Ku{_toFieldTransform(t){return new g1(t.path,new $l)}isEqual(t){return t instanceof i}};function rF(i,t,e,n){let r=i.Dc(1,t,e);oC("Data must be an object, but it was:",r,n);let a=[],o=Wr.empty();Dc(n,(c,l)=>{let d=sC(t,c,e);l=Ii(l);let h=r.gc(d);if(l instanceof G_)a.push(d);else{let f=qm(l,h);f!=null&&(a.push(d),o.set(d,f))}});let s=new Ia(a);return new $_(o,s,r.fieldTransforms)}function aF(i,t,e,n,r,a){let o=i.Dc(1,t,e),s=[SE(t,n,e)],c=[r];if(a.length%2!=0)throw new Ue(de.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<a.length;f+=2)s.push(SE(t,a[f])),c.push(a[f+1]);let l=[],d=Wr.empty();for(let f=s.length-1;f>=0;--f)if(!cF(l,s[f])){let m=s[f],v=c[f];v=Ii(v);let _=o.gc(m);if(v instanceof G_)l.push(m);else{let y=qm(v,_);y!=null&&(l.push(m),d.set(m,y))}}let h=new Ia(l);return new $_(d,h,o.fieldTransforms)}function Sj(i,t,e,n=!1){return qm(e,i.Dc(n?4:3,t))}function qm(i,t){if(sF(i=Ii(i)))return oC("Unsupported field value:",t,i),oF(i,t);if(i instanceof Ku)return(function(n,r){if(!nF(r.Ec))throw r.wc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${n._methodName}() is not currently supported inside arrays`);let a=n._toFieldTransform(r);a&&r.fieldTransforms.push(a)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(n,r){let a=[],o=0;for(let s of n){let c=qm(s,r.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}})(i,t)}return(function(n,r){if((n=Ii(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return u9(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let a=En.fromDate(n);return{timestampValue:D_(r.serializer,a)}}if(n instanceof En){let a=new En(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:D_(r.serializer,a)}}if(n instanceof wc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ys)return{bytesValue:AO(r.serializer,n._byteString)};if(n instanceof An){let a=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw r.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:WE(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof xc)return(function(o,s){return{mapValue:{fields:{[VE]:{stringValue:BE},[Vu]:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.wc("VectorValues must only contain numeric values.");return HE(s.serializer,l)})}}}}}})(n,r);throw r.wc(`Unsupported field value: ${Y_(n)}`)})(i,t)}function oF(i,t){let e={};return tO(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Dc(i,(n,r)=>{let a=qm(r,t.Vc(n));a!=null&&(e[n]=a)}),{mapValue:{fields:e}}}function sF(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof En||i instanceof wc||i instanceof ys||i instanceof An||i instanceof Ku||i instanceof xc)}function oC(i,t,e){if(!sF(e)||!UM(e)){let n=Y_(e);throw n==="an object"?t.wc(i+" a custom object"):t.wc(i+" "+n)}}function SE(i,t,e){if((t=Ii(t))instanceof Ic)return t._internalPath;if(typeof t=="string")return sC(i,t);throw q_("Field path arguments must be of type string or ",i,!1,void 0,e)}var kj=new RegExp("[~\\*/\\[\\]]");function sC(i,t,e){if(t.search(kj)>=0)throw q_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Ic(...t.split("."))._internalPath}catch{throw q_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function q_(i,t,e,n,r){let a=n&&!n.isEmpty(),o=r!==void 0,s=`Function ${t}() called with invalid data`;e&&(s+=" (via `toFirestore()`)"),s+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${n}`),o&&(c+=` in document ${r}`),c+=")"),new Ue(de.INVALID_ARGUMENT,s+i+c)}function cF(i,t){return i.some(e=>e.isEqual(t))}var Xu=class{constructor(t,e,n,r,a){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new kE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let e=this._document.data.field(cC("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}},kE=class extends Xu{data(){return super.data()}};function cC(i,t){return typeof t=="string"?sC(i,t):t instanceof Ic?t._internalPath:t._delegate._internalPath}function lF(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ue(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jm=class{},IE=class extends jm{};function Jl(i,t,...e){let n=[];t instanceof jm&&n.push(t),n=n.concat(e),(function(a){let o=a.filter(c=>c instanceof DE).length,s=a.filter(c=>c instanceof K_).length;if(o>1||o>0&&s>0)throw new Ue(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(let r of n)i=r._apply(i);return i}var K_=class i extends IE{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new i(t,e,n)}_apply(t){let e=this._parse(t);return dF(t._query,e),new Ql(t.firestore,t.converter,m1(t._query,e))}_parse(t){let e=rv(t.firestore);return(function(a,o,s,c,l,d,h){let f;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Ue(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){NM(h,d);let v=[];for(let _ of h)v.push(PM(c,a,_));f={arrayValue:{values:v}}}else f=PM(c,a,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||NM(h,d),f=Sj(s,o,h,d==="in"||d==="not-in");return wn.create(l,d,f)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}};function ed(i,t,e){let n=t,r=cC("where",i);return K_._create(r,n,e)}var DE=class i extends jm{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new i(t,e)}_parse(t){let e=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return e.length===1?e[0]:to.create(e,this._getOperator())}_apply(t){let e=this._parse(t);return e.getFilters().length===0?t:((function(r,a){let o=r,s=a.getFlattenedFilters();for(let c of s)dF(o,c),o=m1(o,c)})(t._query,e),new Ql(t.firestore,t.converter,m1(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function PM(i,t,e){if(typeof(e=Ii(e))=="string"){if(e==="")throw new Ue(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pO(t)&&e.indexOf("/")!==-1)throw new Ue(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);let n=t.path.child(Di.fromString(e));if(!ht.isDocumentKey(n))throw new Ue(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return iM(i,new ht(n))}if(e instanceof An)return iM(i,e._key);throw new Ue(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Y_(e)}.`)}function NM(i,t){if(!Array.isArray(i)||i.length===0)throw new Ue(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function dF(i,t){let e=(function(r,a){for(let o of r)for(let s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null})(i.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new Ue(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ue(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}var X_=class{convertValue(t,e="none"){switch(Tc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ji(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw ut(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){let n={};return Dc(t,(r,a)=>{n[r]=this.convertValue(a,e)}),n}convertVectorValue(t){var e,n,r;let a=(r=(n=(e=t.fields)===null||e===void 0?void 0:e[Vu].arrayValue)===null||n===void 0?void 0:n.values)===null||r===void 0?void 0:r.map(o=>ji(o.doubleValue));return new xc(a)}convertGeoPoint(t){return new wc(ji(t.latitude),ji(t.longitude))}convertArray(t,e){return(t.values||[]).map(n=>this.convertValue(n,e))}convertServerTimestamp(t,e){switch(e){case"previous":let n=Q_(t);return n==null?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Om(t));default:return null}}convertTimestamp(t){let e=ws(t);return new En(e.seconds,e.nanos)}convertDocumentKey(t,e){let n=Di.fromString(t);Yt(LO(n),9688,{name:t});let r=new x_(n.get(1),n.get(3)),a=new ht(n.popFirst(5));return r.isEqual(e)||bs(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}};function lC(i,t,e){let n;return n=i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t,n}var AE=class extends X_{constructor(t){super(),this.firestore=t}convertBytes(t){return new ys(t)}convertReference(t){let e=this.convertDocumentKey(t,this.firestore._databaseId);return new An(this.firestore,null,e)}};var vc=class{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Ec=class i extends Xu{constructor(t,e,n,r,a,o){super(t,e,n,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let e=new Nu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){let n=this._document.data.field(cC("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ue(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t=this._document,e={};return e.type=i._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}};Ec._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ec._jsonSchema={type:xn("string",Ec._jsonSchemaVersion),bundleSource:xn("string","DocumentSnapshot"),bundleName:xn("string"),bundle:xn("string")};var Nu=class extends Ec{data(t={}){return super.data(t)}},zl=class i{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new vc(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new Nu(this._firestore,this._userDataWriter,n.key,n,new vc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ue(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,a){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>{let c=new Nu(r._firestore,r._userDataWriter,s.doc.key,s.doc,new vc(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);return s.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{let c=new Nu(r._firestore,r._userDataWriter,s.doc.key,s.doc,new vc(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,d=-1;return s.type!==0&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),d=o.indexOf(s.doc.key)),{type:Ij(s.type),doc:c,oldIndex:l,newIndex:d}})}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ue(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t={};t.type=i._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Am.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let e=[],n=[],r=[];return this.docs.forEach(a=>{a._document!==null&&(e.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}};function Ij(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut(61501,{type:i})}}function uF(i){i=ua(i,An);let t=ua(i.firestore,io);return xj(th(t),i._key).then(e=>fF(t,i,e))}zl._jsonSchemaVersion="firestore/querySnapshot/1.0",zl._jsonSchema={type:xn("string",zl._jsonSchemaVersion),bundleSource:xn("string","QuerySnapshot"),bundleName:xn("string"),bundle:xn("string")};var Yu=class extends X_{constructor(t){super(),this.firestore=t}convertBytes(t){return new ys(t)}convertReference(t){let e=this.convertDocumentKey(t,this.firestore._databaseId);return new An(this.firestore,null,e)}};function dC(i){i=ua(i,Ql);let t=ua(i.firestore,io),e=th(t),n=new Yu(t);return lF(i._query),Ej(e,i._query).then(r=>new zl(t,n,i,r))}function av(i,t,e){i=ua(i,An);let n=ua(i.firestore,io),r=lC(i.converter,t,e);return hC(n,[aC(rv(n),"setDoc",i._key,r,i.converter!==null,e).toMutation(i._key,hr.none())])}function hF(i){return hC(ua(i.firestore,io),[new Xl(i._key,hr.none())])}function uC(i,...t){var e,n,r;i=Ii(i);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||FM(t[o])||(a=t[o++]);let s={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(FM(t[o])){let h=t[o];t[o]=(e=h.next)===null||e===void 0?void 0:e.bind(h),t[o+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),t[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let c,l,d;if(i instanceof An)l=ua(i.firestore,io),d=Z_(i._key.path),c={next:h=>{t[o]&&t[o](fF(l,i,h))},error:t[o+1],complete:t[o+2]};else{let h=ua(i,Ql);l=ua(h.firestore,io),d=h._query;let f=new Yu(l);c={next:m=>{t[o]&&t[o](new zl(l,f,h,m))},error:t[o+1],complete:t[o+2]},lF(i._query)}return(function(f,m,v,_){let y=new zm(_),S=new Um(m,y,v);return f.asyncQueue.enqueueAndForget(()=>N(null,null,function*(){return QE(yield j_(f),S)})),()=>{y.Ou(),f.asyncQueue.enqueueAndForget(()=>N(null,null,function*(){return ZE(yield j_(f),S)}))}})(th(l),d,s,c)}function hC(i,t){return(function(n,r){let a=new Da;return n.asyncQueue.enqueueAndForget(()=>N(null,null,function*(){return dj(yield bj(n),r,a)})),a.promise})(th(i),t)}function fF(i,t,e){let n=e.docs.get(t._key),r=new Yu(i);return new Ec(i,r,t._key,n,new vc(e.hasPendingWrites,e.fromCache),t.converter)}var Dj={maxAttempts:5};var RE=class{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=rv(t)}set(t,e,n){this._verifyNotCommitted();let r=yc(t,this._firestore),a=lC(r.converter,e,n),o=aC(this._dataReader,"WriteBatch.set",r._key,a,r.converter!==null,n);return this._mutations.push(o.toMutation(r._key,hr.none())),this}update(t,e,n,...r){this._verifyNotCommitted();let a=yc(t,this._firestore),o;return o=typeof(e=Ii(e))=="string"||e instanceof Ic?aF(this._dataReader,"WriteBatch.update",a._key,e,n,r):rF(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,hr.exists(!0))),this}delete(t){this._verifyNotCommitted();let e=yc(t,this._firestore);return this._mutations=this._mutations.concat(new Xl(e._key,hr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function yc(i,t){if((i=Ii(i)).firestore!==t)throw new Ue(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}var ME=class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=rv(t)}get(t){let e=yc(t,this._firestore),n=new AE(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||r.length!==1)return ut(24041);let a=r[0];if(a.isFoundDocument())return new Xu(this._firestore,n,a.key,a,e.converter);if(a.isNoDocument())return new Xu(this._firestore,n,e._key,null,e.converter);throw ut(18433,{doc:a})})}set(t,e,n){let r=yc(t,this._firestore),a=lC(r.converter,e,n),o=aC(this._dataReader,"Transaction.set",r._key,a,r.converter!==null,n);return this._transaction.set(r._key,o),this}update(t,e,n,...r){let a=yc(t,this._firestore),o;return o=typeof(e=Ii(e))=="string"||e instanceof Ic?aF(this._dataReader,"Transaction.update",a._key,e,n,r):rF(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this}delete(t){let e=yc(t,this._firestore);return this._transaction.delete(e._key),this}};var OE=class extends ME{constructor(t,e){super(t,e),this._firestore=t}get(t){let e=yc(t,this._firestore),n=new Yu(this._firestore);return super.get(t).then(r=>new Ec(this._firestore,n,e._key,r._document,new vc(!1,!1),e.converter))}};function fC(i,t,e){i=ua(i,io);let n=Object.assign(Object.assign({},Dj),e);return(function(a){if(a.maxAttempts<1)throw new Ue(de.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n),(function(a,o,s){let c=new Da;return a.asyncQueue.enqueueAndForget(()=>N(null,null,function*(){let l=yield wj(a);new bE(a.asyncQueue,l,s,o,c).zu()})),c.promise})(th(i),r=>t(new OE(i,r)),n)}function ma(){return new TE("serverTimestamp")}function Km(i){return th(i=ua(i,io)),new RE(i,t=>hC(i,t))}(function(t,e=!0){(function(r){Qu=r})(_c),la(new er("firestore",(n,{instanceIdentifier:r,options:a})=>{let o=n.getProvider("app").getImmediate(),s=new io(new qx(n.getProvider("auth-internal")),new Yx(o,n.getProvider("app-check-internal")),(function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ue(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new x_(l.options.projectId,d)})(o,r),o);return a=Object.assign({useFetchStreams:e},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),Ei($2,G2,t),Ei($2,G2,"esm2017")})();var Aj="firebase",Rj="11.10.0";Ei(Aj,Rj,"app");function ov(i,t){let e=t?.injector??g($e),n=new Id(1),r=Ba(()=>{let a;try{a=i()}catch(o){mi(()=>n.error(o));return}mi(()=>n.next(a))},{injector:e,manualCleanup:!0});return e.get(Qo).onDestroy(()=>{r.destroy(),n.complete()}),n.asObservable()}function Ts(i,t){let n=!t?.manualCleanup?t?.injector?.get(Qo)??g(Qo):null,r=Mj(t?.equal),a;t?.requireSync?a=it({kind:0},{equal:r}):a=it({kind:1,value:t?.initialValue},{equal:r});let o,s=i.subscribe({next:c=>a.set({kind:1,value:c}),error:c=>{a.set({kind:2,error:c}),o?.()},complete:()=>{o?.()}});if(t?.requireSync&&a().kind===0)throw new st(601,!1);return o=n?.onDestroy(s.unsubscribe.bind(s)),Lt(()=>{let c=a();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new st(601,!1)}},{equal:t?.equal})}function Mj(i=Object.is){return(t,e)=>t.kind===1&&e.kind===1&&i(t.value,e.value)}function mF(i){i===void 0&&(i=g($e));let t=i.get(Xh);return e=>new Li(n=>{let r=t.add(),a=!1;function o(){a||(r(),a=!0)}let s=e.subscribe({next:c=>{n.next(c),o()},complete:()=>{n.complete(),o()},error:c=>{n.error(c),o()}});return s.add(()=>{n.unsubscribe(),o()}),s})}var No=new pg("ANGULARFIRE2_VERSION");function id(i,t,e){if(t){if(t.length===1)return t[0];let a=t.filter(o=>o.app===e);if(a.length===1)return a[0]}return e.container.getProvider(i).getImmediate({optional:!0})}var Ac=(i,t)=>{let e=t?[t]:s_(),n=[];return e.forEach(r=>{r.container.getProvider(i).instances.forEach(o=>{n.includes(o)||n.push(o)})}),n},ih=(function(i){return i[i.SILENT=0]="SILENT",i[i.WARN=1]="WARN",i[i.VERBOSE=2]="VERBOSE",i})(ih||{}),pF=hb()&&typeof Zone<"u"?ih.WARN:ih.SILENT;var sv=class{zone;delegate;constructor(t,e=uk){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){let r=this.zone,a=function(o){r?r.runGuarded(()=>{t.apply(this,[o])}):t.apply(this,[o])};return this.delegate.schedule(a,e,n)}},Lo=(()=>{class i{outsideAngular;insideAngular;constructor(){let e=g(Me);this.outsideAngular=e.runOutsideAngular(()=>new sv(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=e.run(()=>new sv(typeof Zone>"u"?void 0:Zone.current,dk))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),gF=!1;function Oj(i,t){!gF&&(pF>ih.SILENT||hb())&&(gF=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),pF>=t&&console.warn(`Firebase API called outside injection context: ${i.name}`)}function Fj(i){let t=g(Me,{optional:!0});return t?t.runOutsideAngular(()=>i()):i()}function td(i){let t=g(Me,{optional:!0});return t?t.run(()=>i()):i()}var Pj=(i,t,e)=>(...n)=>(t&&setTimeout(t,0),Bi(e,()=>td(()=>i.apply(void 0,n)))),Pi=(i,t,e)=>(e||=t?ih.WARN:ih.VERBOSE,function(){let n,r=arguments,a,o,s;try{a=g(Lo),o=g(Xh),s=g(Oi)}catch{return Oj(i,e),i.apply(this,r)}for(let l=0;l<arguments.length;l++)typeof r[l]=="function"&&(t&&(n||=td(()=>o.add())),r[l]=Pj(r[l],n,s));let c=Fj(()=>i.apply(this,r));return t?c instanceof Li?c.pipe(Yy(a.outsideAngular),Xy(a.insideAngular),mF(s)):c instanceof Promise?td(()=>{let l=o.add();return new Promise((d,h)=>{c.then(f=>Bi(s,()=>td(()=>d(f))),f=>Bi(s,()=>td(()=>h(f)))).finally(l)})}):typeof c=="function"&&n?function(){return setTimeout(n,0),c.apply(this,arguments)}:td(()=>c):c instanceof Li?c.pipe(Yy(a.outsideAngular),Xy(a.insideAngular)):td(()=>c)});var ro=class{constructor(t){return t}},Ss=class{constructor(){return s_()}};function Nj(i){return i&&i.length===1?i[0]:new ro(gs())}var mC=new se("angularfire2._apps"),Lj={provide:ro,useFactory:Nj,deps:[[new Ui,mC]]},Vj={provide:Ss,deps:[[new Ui,mC]]};function Bj(i){return(t,e)=>{let n=e.get(Jo);Ei("angularfire",No.full,"core"),Ei("angularfire",No.full,"app"),Ei("angular",nI.full,n.toString());let r=t.runOutsideAngular(()=>i(e));return new ro(r)}}function _F(i,...t){return sr([Lj,Vj,{provide:mC,useFactory:Bj(i),multi:!0,deps:[Me,$e,Lo,...t]}])}var vF=Pi(Px,!0);var Uj=new Map,zj={activated:!1,tokenObservers:[]},jj={initialized:!1,enabled:!1};function ao(i){return Uj.get(i)||Object.assign({},zj)}function xF(){return jj}var Hj="https://content-firebaseappcheck.googleapis.com/v1";var Wj="exchangeDebugToken",yF={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},i_e=1440*60*1e3;var _C=class{constructor(t,e,n,r,a){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return N(this,null,function*(){this.stop();try{this.pending=new Ll,this.pending.promise.catch(e=>{}),yield $j(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ll,this.pending.promise.catch(e=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}};function $j(i){return new Promise(t=>{setTimeout(t,i)})}var Gj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Rc=new eo("appCheck","AppCheck",Gj);function EF(i){if(!ao(i).activated)throw Rc.create("use-before-activation",{appName:i.name})}function CF(n,r){return N(this,arguments,function*({url:i,body:t},e){let a={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){let m=yield o.getHeartbeatsHeader();m&&(a["X-Firebase-Client"]=m)}let s={method:"POST",body:JSON.stringify(t),headers:a},c;try{c=yield fetch(i,s)}catch(m){throw Rc.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw Rc.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(m){throw Rc.create("fetch-parse-error",{originalErrorMessage:m?.message})}let d=l.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Rc.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let h=Number(d[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+h,issuedAtTimeMillis:f}})}function TF(i,t){let{projectId:e,appId:n,apiKey:r}=i.options;return{url:`${Hj}/projects/${e}/apps/${n}:${Wj}?key=${r}`,body:{debug_token:t}}}var qj="firebase-app-check-database",Kj=1,vC="firebase-app-check-store";var cv=null;function Xj(){return cv||(cv=new Promise((i,t)=>{try{let e=indexedDB.open(qj,Kj);e.onsuccess=n=>{i(n.target.result)},e.onerror=n=>{var r;t(Rc.create("storage-open",{originalErrorMessage:(r=n.target.error)===null||r===void 0?void 0:r.message}))},e.onupgradeneeded=n=>{let r=n.target.result;switch(n.oldVersion){case 0:r.createObjectStore(vC,{keyPath:"compositeKey"})}}}catch(e){t(Rc.create("storage-open",{originalErrorMessage:e?.message}))}}),cv)}function Yj(i,t){return Qj(Zj(i),t)}function Qj(i,t){return N(this,null,function*(){let n=(yield Xj()).transaction(vC,"readwrite"),a=n.objectStore(vC).put({compositeKey:i,value:t});return new Promise((o,s)=>{a.onsuccess=c=>{o()},n.onerror=c=>{var l;s(Rc.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function Zj(i){return`${i.options.appId}-${i.name}`}var Xm=new Ao("@firebase/app-check");function pC(i,t){return bm()?Yj(i,t).catch(e=>{Xm.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function SF(){return xF().enabled}function kF(){return N(this,null,function*(){let i=xF();if(i.enabled&&i.token)return i.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Jj={error:"UNKNOWN_ERROR"};function e7(i){return t_.encodeString(JSON.stringify(i),!1)}function yC(i,t=!1,e=!1){return N(this,null,function*(){let n=i.app;EF(n);let r=ao(n),a=r.token,o;if(a&&!Ym(a)&&(r.token=void 0,a=void 0),!a){let l=yield r.cachedTokenPromise;l&&(Ym(l)?a=l:yield pC(n,void 0))}if(!t&&a&&Ym(a))return{token:a.token};let s=!1;if(SF())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=CF(TF(n,yield kF()),i.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let l=yield r.exchangeTokenPromise;return yield pC(n,l),r.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Xm.warn(l.message):e&&Xm.error(l),gC(l)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),a=yield ao(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Xm.warn(l.message):e&&Xm.error(l),o=l}let c;return a?o?Ym(a)?c={token:a.token,internalError:o}:c=gC(o):(c={token:a.token},r.token=a,yield pC(n,a)):c=gC(o),s&&r7(n,c),c})}function t7(i){return N(this,null,function*(){let t=i.app;EF(t);let{provider:e}=ao(t);if(SF()){let n=yield kF(),{token:r}=yield CF(TF(t,n),i.heartbeatServiceProvider);return{token:r}}else{let{token:n}=yield e.getToken();return{token:n}}})}function i7(i,t,e,n){let{app:r}=i,a=ao(r),o={next:e,error:n,type:t};if(a.tokenObservers=[...a.tokenObservers,o],a.token&&Ym(a.token)){let s=a.token;Promise.resolve().then(()=>{e({token:s.token}),bF(i)}).catch(()=>{})}a.cachedTokenPromise.then(()=>bF(i))}function IF(i,t){let e=ao(i),n=e.tokenObservers.filter(r=>r.next!==t);n.length===0&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=n}function bF(i){let{app:t}=i,e=ao(t),n=e.tokenRefresher;n||(n=n7(i),e.tokenRefresher=n),!n.isRunning()&&e.isTokenAutoRefreshEnabled&&n.start()}function n7(i){let{app:t}=i;return new _C(()=>N(null,null,function*(){let e=ao(t),n;if(e.token?n=yield yC(i,!0):n=yield yC(i),n.error)throw n.error;if(n.internalError)throw n.internalError}),()=>!0,()=>{let e=ao(t);if(e.token){let n=e.token.issuedAtTimeMillis+(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)*.5+3e5,r=e.token.expireTimeMillis-300*1e3;return n=Math.min(n,r),Math.max(0,n-Date.now())}else return 0},yF.RETRIAL_MIN_WAIT,yF.RETRIAL_MAX_WAIT)}function r7(i,t){let e=ao(i).tokenObservers;for(let n of e)try{n.type==="EXTERNAL"&&t.error!=null?n.error(t.error):n.next(t)}catch{}}function Ym(i){return i.expireTimeMillis-Date.now()>0}function gC(i){return{token:e7(Jj),error:i}}var bC=class{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){let{tokenObservers:t}=ao(this.app);for(let e of t)IF(this.app,e.next);return Promise.resolve()}};function a7(i,t){return new bC(i,t)}function o7(i){return{getToken:t=>yC(i,t),getLimitedUseToken:()=>t7(i),addTokenListener:t=>i7(i,"INTERNAL",t),removeTokenListener:t=>IF(i.app,t)}}var s7="@firebase/app-check",c7="0.10.1";var l7="app-check",wF="app-check-internal";function d7(){la(new er(l7,i=>{let t=i.getProvider("app").getImmediate(),e=i.getProvider("heartbeat");return a7(t,e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,t,e)=>{i.getProvider(wF).initialize()})),la(new er(wF,i=>{let t=i.getProvider("app-check").getImmediate();return o7(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ei(s7,c7)}d7();var u7="app-check";var Mc=class{constructor(){return Ac(u7)}};var h7=["localhost","0.0.0.0","127.0.0.1"],p_e=typeof window<"u"&&h7.includes(window.location.hostname);function HF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var WF=HF,$F=new eo("auth","Firebase",HF());var mv=new Ao("@firebase/auth");function f7(i,...t){mv.logLevel<=Ht.WARN&&mv.warn(`Auth (${_c}): ${i}`,...t)}function dv(i,...t){mv.logLevel<=Ht.ERROR&&mv.error(`Auth (${_c}): ${i}`,...t)}function Bo(i,...t){throw VC(i,...t)}function oo(i,...t){return VC(i,...t)}function LC(i,t,e){let n=Object.assign(Object.assign({},WF()),{[t]:e});return new eo("auth","Firebase",n).create(t,{appName:i.name})}function Pc(i){return LC(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GF(i,t,e){let n=e;if(!(t instanceof n))throw n.name!==t.constructor.name&&Bo(i,"argument-error"),LC(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function VC(i,...t){if(typeof i!="string"){let e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(e,...n)}return $F.create(i,...t)}function xt(i,t,...e){if(!i)throw VC(t,...e)}function ks(i){let t="INTERNAL ASSERTION FAILED: "+i;throw dv(t),new Error(t)}function Ds(i,t){i||ks(t)}function EC(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function m7(){return DF()==="http:"||DF()==="https:"}function DF(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}function p7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m7()||x2()||"connection"in navigator)?navigator.onLine:!0}function g7(){if(typeof navigator>"u")return null;let i=navigator;return i.languages&&i.languages[0]||i.language||null}var nd=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ds(e>t,"Short delay should be less than long delay!"),this.isMobile=b2()||E2()}get(){return p7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function BC(i,t){Ds(i.emulator,"Emulator should always be set here");let{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var pv=class{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var _7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var v7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],y7=new nd(3e4,6e4);function UC(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}function ah(a,o,s,c){return N(this,arguments,function*(i,t,e,n,r={}){return qF(i,r,()=>N(null,null,function*(){let l={},d={};n&&(t==="GET"?d=n:l={body:JSON.stringify(n)});let h=Iu(Object.assign({key:i.config.apiKey},d)).slice(1),f=yield i._getAdditionalHeaders();f["Content-Type"]="application/json",i.languageCode&&(f["X-Firebase-Locale"]=i.languageCode);let m=Object.assign({method:t,headers:f},l);return w2()||(m.referrerPolicy="no-referrer"),i.emulatorConfig&&Io(i.emulatorConfig.host)&&(m.credentials="include"),pv.fetch()(yield KF(i,i.config.apiHost,e,h),m)}))})}function qF(i,t,e){return N(this,null,function*(){i._canInitEmulator=!1;let n=Object.assign(Object.assign({},_7),t);try{let r=new CC(i),a=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();let o=yield a.json();if("needConfirmation"in o)throw lv(i,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{let s=a.ok?o.errorMessage:o.error.message,[c,l]=s.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw lv(i,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw lv(i,"email-already-in-use",o);if(c==="USER_DISABLED")throw lv(i,"user-disabled",o);let d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw LC(i,d,l);Bo(i,d)}}catch(r){if(r instanceof Or)throw r;Bo(i,"network-request-failed",{message:String(r)})}})}function b7(a,o,s,c){return N(this,arguments,function*(i,t,e,n,r={}){let l=yield ah(i,t,e,n,r);return"mfaPendingCredential"in l&&Bo(i,"multi-factor-auth-required",{_serverResponse:l}),l})}function KF(i,t,e,n){return N(this,null,function*(){let r=`${t}${e}?${n}`,a=i,o=a.config.emulator?BC(i.config,r):`${i.config.apiScheme}://${r}`;return v7.includes(e)&&(yield a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o})}var CC=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(oo(this.auth,"network-request-failed")),y7.get())})}};function lv(i,t,e){let n={appName:i.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);let r=oo(i,t,n);return r.customData._tokenResponse=e,r}function w7(i,t){return N(this,null,function*(){return ah(i,"POST","/v1/accounts:delete",t)})}function gv(i,t){return N(this,null,function*(){return ah(i,"POST","/v1/accounts:lookup",t)})}function Qm(i){if(i)try{let t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function zC(i,t=!1){return N(this,null,function*(){let e=Ii(i),n=yield e.getIdToken(t),r=jC(n);xt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");let a=typeof r.firebase=="object"?r.firebase:void 0,o=a?.sign_in_provider;return{claims:r,token:n,authTime:Qm(wC(r.auth_time)),issuedAtTime:Qm(wC(r.iat)),expirationTime:Qm(wC(r.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}})}function wC(i){return Number(i)*1e3}function jC(i){let[t,e,n]=i.split(".");if(t===void 0||e===void 0||n===void 0)return dv("JWT malformed, contained fewer than 3 sections"),null;try{let r=i_(e);return r?JSON.parse(r):(dv("Failed to decode base64 JWT payload"),null)}catch(r){return dv("Caught error parsing JWT payload as JSON",r?.toString()),null}}function AF(i){let t=jC(i);return xt(t,"internal-error"),xt(typeof t.exp<"u","internal-error"),xt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Jm(i,t,e=!1){return N(this,null,function*(){if(e)return t;try{return yield t}catch(n){throw n instanceof Or&&x7(n)&&i.auth.currentUser===i&&(yield i.auth.signOut()),n}})}function x7({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}var TC=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(()=>N(this,null,function*(){yield this.iteration()}),e)}iteration(){return N(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ep=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qm(this.lastLoginAt),this.creationTime=Qm(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function _v(i){return N(this,null,function*(){var t;let e=i.auth,n=yield i.getIdToken(),r=yield Jm(i,gv(e,{idToken:n}));xt(r?.users.length,e,"internal-error");let a=r.users[0];i._notifyReloadListener(a);let o=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?XF(a.providerUserInfo):[],s=E7(i.providerData,o),c=i.isAnonymous,l=!(i.email&&a.passwordHash)&&!s?.length,d=c?l:!1,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new ep(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(i,h)})}function HC(i){return N(this,null,function*(){let t=Ii(i);yield _v(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function E7(i,t){return[...i.filter(n=>!t.some(r=>r.providerId===n.providerId)),...t]}function XF(i){return i.map(t=>{var{providerId:e}=t,n=ag(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function C7(i,t){return N(this,null,function*(){let e=yield qF(i,{},()=>N(null,null,function*(){let n=Iu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=i.config,o=yield KF(i,r,"/v1/token",`key=${a}`),s=yield i._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:s,body:n};return i.emulatorConfig&&Io(i.emulatorConfig.host)&&(c.credentials="include"),pv.fetch()(o,c)}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function T7(i,t){return N(this,null,function*(){return ah(i,"POST","/v2/accounts:revokeToken",UC(i,t))})}var Zm=class i{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){xt(t.idToken,"internal-error"),xt(typeof t.idToken<"u","internal-error"),xt(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):AF(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){xt(t.length!==0,"internal-error");let e=AF(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){return N(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(xt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,e){return N(this,null,function*(){let{accessToken:n,refreshToken:r,expiresIn:a}=yield C7(t,e);this.updateTokensAndExpiration(n,r,Number(a))})}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){let{refreshToken:n,accessToken:r,expirationTime:a}=e,o=new i;return n&&(xt(typeof n=="string","internal-error",{appName:t}),o.refreshToken=n),r&&(xt(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),a&&(xt(typeof a=="number","internal-error",{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new i,this.toJSON())}_performRefresh(){return ks("not implemented")}};function Oc(i,t){xt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}var Fc=class i{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,a=ag(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ep(a.createdAt||void 0,a.lastLoginAt||void 0)}getIdToken(t){return N(this,null,function*(){let e=yield Jm(this,this.stsTokenManager.getToken(this.auth,t));return xt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(t){return zC(this,t)}reload(){return HC(this)}_assign(t){this!==t&&(xt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new i(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){return N(this,null,function*(){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&(yield _v(this)),yield this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)})}delete(){return N(this,null,function*(){if(dr(this.auth.app))return Promise.reject(Pc(this.auth));let t=yield this.getIdToken();return yield Jm(this,w7(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,a,o,s,c,l,d;let h=(n=e.displayName)!==null&&n!==void 0?n:void 0,f=(r=e.email)!==null&&r!==void 0?r:void 0,m=(a=e.phoneNumber)!==null&&a!==void 0?a:void 0,v=(o=e.photoURL)!==null&&o!==void 0?o:void 0,_=(s=e.tenantId)!==null&&s!==void 0?s:void 0,y=(c=e._redirectEventId)!==null&&c!==void 0?c:void 0,S=(l=e.createdAt)!==null&&l!==void 0?l:void 0,D=(d=e.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:G,isAnonymous:K,providerData:j,stsTokenManager:w}=e;xt(T&&w,t,"internal-error");let x=Zm.fromJSON(this.name,w);xt(typeof T=="string",t,"internal-error"),Oc(h,t.name),Oc(f,t.name),xt(typeof G=="boolean",t,"internal-error"),xt(typeof K=="boolean",t,"internal-error"),Oc(m,t.name),Oc(v,t.name),Oc(_,t.name),Oc(y,t.name),Oc(S,t.name),Oc(D,t.name);let E=new i({uid:T,auth:t,email:f,emailVerified:G,displayName:h,isAnonymous:K,photoURL:v,phoneNumber:m,tenantId:_,stsTokenManager:x,createdAt:S,lastLoginAt:D});return j&&Array.isArray(j)&&(E.providerData=j.map(A=>Object.assign({},A))),y&&(E._redirectEventId=y),E}static _fromIdTokenResponse(t,e,n=!1){return N(this,null,function*(){let r=new Zm;r.updateFromServerResponse(e);let a=new i({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return yield _v(a),a})}static _fromGetAccountInfoResponse(t,e,n){return N(this,null,function*(){let r=e.users[0];xt(r.localId!==void 0,"internal-error");let a=r.providerUserInfo!==void 0?XF(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!a?.length,s=new Zm;s.updateFromIdToken(n);let c=new i({uid:r.localId,auth:t,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new ep(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!a?.length};return Object.assign(c,l),c})}};var RF=new Map;function Is(i){Ds(i instanceof Function,"Expected a class definition");let t=RF.get(i);return t?(Ds(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,RF.set(i,t),t)}var S7=(()=>{class i{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return N(this,null,function*(){return!0})}_set(e,n){return N(this,null,function*(){this.storage[e]=n})}_get(e){return N(this,null,function*(){let n=this.storage[e];return n===void 0?null:n})}_remove(e){return N(this,null,function*(){delete this.storage[e]})}_addListener(e,n){}_removeListener(e,n){}}return i.type="NONE",i})(),SC=S7;function uv(i,t,e){return`firebase:${i}:${t}:${e}`}var vv=class i{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;let{config:r,name:a}=this.auth;this.fullUserKey=uv(this.userKey,r.apiKey,a),this.fullPersistenceKey=uv("persistence",r.apiKey,a),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return N(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let e=yield gv(this.auth,{idToken:t}).catch(()=>{});return e?Fc._fromGetAccountInfoResponse(this.auth,e,t):null}return Fc._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return N(this,null,function*(){if(this.persistence===t)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,n="authUser"){return N(this,null,function*(){if(!e.length)return new i(Is(SC),t,n);let r=(yield Promise.all(e.map(l=>N(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),a=r[0]||Is(SC),o=uv(n,t.config.apiKey,t.name),s=null;for(let l of e)try{let d=yield l._get(o);if(d){let h;if(typeof d=="string"){let f=yield gv(t,{idToken:d}).catch(()=>{});if(!f)break;h=yield Fc._fromGetAccountInfoResponse(t,f,d)}else h=Fc._fromJSON(t,d);l!==a&&(s=h),a=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new i(a,t,n):(a=c[0],s&&(yield a._set(o,s.toJSON())),yield Promise.all(e.map(l=>N(null,null,function*(){if(l!==a)try{yield l._remove(o)}catch{}}))),new i(a,t,n))})}};function MF(i){let t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(JF(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(YF(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tP(t))return"Blackberry";if(iP(t))return"Webos";if(QF(t))return"Safari";if((t.includes("chrome/")||ZF(t))&&!t.includes("edge/"))return"Chrome";if(eP(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(e);if(n?.length===2)return n[1]}return"Other"}function YF(i=Vn()){return/firefox\//i.test(i)}function QF(i=Vn()){let t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ZF(i=Vn()){return/crios\//i.test(i)}function JF(i=Vn()){return/iemobile/i.test(i)}function eP(i=Vn()){return/android/i.test(i)}function tP(i=Vn()){return/blackberry/i.test(i)}function iP(i=Vn()){return/webos/i.test(i)}function WC(i=Vn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function k7(i=Vn()){var t;return WC(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function I7(){return C2()&&document.documentMode===10}function nP(i=Vn()){return WC(i)||eP(i)||iP(i)||tP(i)||/windows phone/i.test(i)||JF(i)}function rP(i,t=[]){let e;switch(i){case"Browser":e=MF(Vn());break;case"Worker":e=`${MF(Vn())}-${i}`;break;default:e=i}let n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${_c}/${n}`}var kC=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let n=a=>new Promise((o,s)=>{try{let c=t(a);o(c)}catch(c){s(c)}});n.onAbort=e,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return N(this,null,function*(){if(this.auth.currentUser===t)return;let e=[];try{for(let n of this.queue)yield n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(let r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}})}};function D7(e){return N(this,arguments,function*(i,t={}){return ah(i,"GET","/v2/passwordPolicy",UC(i,t))})}var A7=6,IC=class{constructor(t){var e,n,r,a;let o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:A7,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=t.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,r,a,o,s;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(e=c.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),c}validatePasswordLengthOptions(t,e){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let r=0;r<t.length;r++)n=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}};var DC=class{constructor(t,e,n,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yv(this),this.idTokenSubscription=new yv(this),this.beforeStateQueue=new kC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$F,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Is(e)),this._initializationPromise=this.queue(()=>N(this,null,function*(){var n,r,a;if(!this._deleted&&(this.persistenceManager=yield vv.create(this,t),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return N(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return N(this,null,function*(){try{let e=yield gv(this,{idToken:t}),n=yield Fc._fromGetAccountInfoResponse(this,e,t);yield this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return N(this,null,function*(){var e;if(dr(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let n=yield this.assertedPersistence.getCurrentUser(),r=n,a=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,s=r?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!o||o===s)&&c?.user&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return N(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(t){return N(this,null,function*(){try{yield _v(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=g7()}_delete(){return N(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return N(this,null,function*(){if(dr(this.app))return Promise.reject(Pc(this));let e=t?Ii(t):null;return e&&xt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(t,e=!1){return N(this,null,function*(){if(!this._deleted)return t&&xt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>N(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return N(this,null,function*(){return dr(this.app)?Promise.reject(Pc(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return dr(this.app)?Promise.reject(Pc(this)):this.queue(()=>N(this,null,function*(){yield this.assertedPersistence.setPersistence(Is(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return N(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return N(this,null,function*(){let t=yield D7(this),e=new IC(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new eo("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let n=this.onAuthStateChanged(()=>{n(),t()},e)}})}revokeAccessToken(t){return N(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),yield T7(this,n)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,e){return N(this,null,function*(){let n=yield this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return N(this,null,function*(){if(!this.redirectPersistenceManager){let e=t&&Is(t)||this._popupRedirectResolver;xt(e,this,"argument-error"),this.redirectPersistenceManager=yield vv.create(this,[Is(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return N(this,null,function*(){var e,n;return this._isInitialized&&(yield this.queue(()=>N(this,null,function*(){}))),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return N(this,null,function*(){if(t===this.currentUser)return this.queue(()=>N(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};let a=typeof e=="function"?e:e.next.bind(e),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof e=="function"){let c=t.addObserver(e,n,r);return()=>{o=!0,c()}}else{let c=t.addObserver(e);return()=>{o=!0,c()}}}directlySetCurrentUser(t){return N(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=rP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return N(this,null,function*(){var t;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return N(this,null,function*(){var t;if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return e?.error&&f7(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function oh(i){return Ii(i)}var yv=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=I2(e=>this.observer=e)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var $C={loadJS(){return N(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R7(i){$C=i}function M7(i){return $C.loadJS(i)}function O7(){return $C.gapiScript}function aP(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function GC(i,t){let e=gc(i,"auth");if(e.isInitialized()){let r=e.getImmediate(),a=e.getOptions();if(Do(a,t??{}))return r;Bo(r,"already-initialized")}return e.initialize({options:t})}function F7(i,t){let e=t?.persistence||[],n=(Array.isArray(e)?e:[e]).map(Is);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(n,t?.popupRedirectResolver)}function kv(i,t,e){let n=oh(i);xt(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");let r=!!e?.disableWarnings,a=oP(t),{host:o,port:s}=P7(t),c=s===null?"":`:${s}`,l={url:`${a}//${o}${c}/`},d=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!n._canInitEmulator){xt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),xt(Do(l,n.config.emulator)&&Do(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=l,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Io(o)?(Su(`${a}//${o}${c}`),ku("Auth",!0)):r||N7()}function oP(i){let t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function P7(i){let t=oP(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};let n=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){let a=r[1];return{host:a,port:OF(n.substr(a.length+1))}}else{let[a,o]=n.split(":");return{host:a,port:OF(o)}}}function OF(i){if(!i)return null;let t=Number(i);return isNaN(t)?null:t}function N7(){function i(){let t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}var tp=class{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ks("not implemented")}_getIdTokenResponse(t){return ks("not implemented")}_linkToIdToken(t,e){return ks("not implemented")}_getReauthenticationResolver(t){return ks("not implemented")}};function nh(i,t){return N(this,null,function*(){return b7(i,"POST","/v1/accounts:signInWithIdp",UC(i,t))})}var L7="http://localhost",bv=class i extends tp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let e=new i(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Bo("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,a=ag(e,["providerId","signInMethod"]);if(!n||!r)return null;let o=new i(n,r);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(t){let e=this.buildRequest();return nh(t,e)}_linkToIdToken(t,e){let n=this.buildRequest();return n.idToken=e,nh(t,n)}_getReauthenticationResolver(t){let e=this.buildRequest();return e.autoCreate=!1,nh(t,e)}buildRequest(){let t={requestUri:L7,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{let e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Iu(e)}return t}};var rh=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var wv=class extends rh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var Iv=(()=>{class i extends wv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bv._fromParams({providerId:i.PROVIDER_ID,signInMethod:i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return i.credentialFromTaggedObject(e)}static credentialFromError(e){return i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return i.credential(n,r)}catch{return null}}}i.GOOGLE_SIGN_IN_METHOD="google.com",i.PROVIDER_ID="google.com";return i})();var ip=class i{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,n,r=!1){return N(this,null,function*(){let a=yield Fc._fromIdTokenResponse(t,n,r),o=FF(n);return new i({user:a,providerId:o,_tokenResponse:n,operationType:e})})}static _forOperation(t,e,n){return N(this,null,function*(){yield t._updateTokensIfNecessary(n,!0);let r=FF(n);return new i({user:t,providerId:r,_tokenResponse:n,operationType:e})})}};function FF(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}var AC=class i extends Or{constructor(t,e,n,r){var a;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,i.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new i(t,e,n,r)}};function sP(i,t,e,n){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?AC._fromErrorAndOperation(i,a,t,n):a})}function V7(i,t,e=!1){return N(this,null,function*(){let n=yield Jm(i,t._linkToIdToken(i.auth,yield i.getIdToken()),e);return ip._forOperation(i,"link",n)})}function B7(i,t,e=!1){return N(this,null,function*(){let{auth:n}=i;if(dr(n.app))return Promise.reject(Pc(n));let r="reauthenticate";try{let a=yield Jm(i,sP(n,r,t,i),e);xt(a.idToken,n,"internal-error");let o=jC(a.idToken);xt(o,n,"internal-error");let{sub:s}=o;return xt(i.uid===s,n,"user-mismatch"),ip._forOperation(i,r,a)}catch(a){throw a?.code==="auth/user-not-found"&&Bo(n,"user-mismatch"),a}})}function U7(i,t,e=!1){return N(this,null,function*(){if(dr(i.app))return Promise.reject(Pc(i));let n="signIn",r=yield sP(i,n,t),a=yield ip._fromIdTokenResponse(i,n,r);return e||(yield i._updateCurrentUser(a.user)),a})}function rp(i,t,e,n){return Ii(i).onIdTokenChanged(t,e,n)}function qC(i,t,e){return Ii(i).beforeAuthStateChanged(t,e)}function KC(i){return Ii(i).signOut()}var xv="__sak";var Ev=class{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(xv,"1"),this.storage.removeItem(xv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){let e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var z7=1e3,j7=10,H7=(()=>{class i extends Ev{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let n of Object.keys(this.listeners)){let r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,c,l)=>{this.notifyListeners(s,l)});return}let r=e.key;n?this.detachListener():this.stopPolling();let a=()=>{let s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);I7()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,j7):a()}notifyListeners(e,n){this.localCache[e]=n;let r=this.listeners[e];if(r)for(let a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},z7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,n){return N(this,null,function*(){yield js(i.prototype,this,"_set").call(this,e,n),this.localCache[e]=JSON.stringify(n)})}_get(e){return N(this,null,function*(){let n=yield js(i.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(n),n})}_remove(e){return N(this,null,function*(){yield js(i.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}return i.type="LOCAL",i})(),cP=H7;var W7=(()=>{class i extends Ev{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}return i.type="SESSION",i})(),XC=W7;function $7(i){return Promise.all(i.map(t=>N(null,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}})))}var G7=(()=>{class i{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;let r=new i(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){return N(this,null,function*(){let n=e,{eventId:r,eventType:a,data:o}=n.data,s=this.handlersMap[a];if(!s?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});let c=Array.from(s).map(d=>N(this,null,function*(){return d(n.origin,o)})),l=yield $7(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:l})})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}i.receivers=[];return i})();function YC(i="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return i+e}var RC=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,n=50){return N(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,o;return new Promise((s,c)=>{let l=YC("",20);r.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(h){let f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(f.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Vo(){return window}function q7(i){Vo().location.href=i}function lP(){return typeof Vo().WorkerGlobalScope<"u"&&typeof Vo().importScripts=="function"}function K7(){return N(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function X7(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function Y7(){return lP()?self:null}var dP="firebaseLocalStorageDb",Q7=1,Cv="firebaseLocalStorage",uP="fbase_key",rd=class{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function Dv(i,t){return i.transaction([Cv],t?"readwrite":"readonly").objectStore(Cv)}function Z7(){let i=indexedDB.deleteDatabase(dP);return new rd(i).toPromise()}function MC(){let i=indexedDB.open(dP,Q7);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{let n=i.result;try{n.createObjectStore(Cv,{keyPath:uP})}catch(r){e(r)}}),i.addEventListener("success",()=>N(null,null,function*(){let n=i.result;n.objectStoreNames.contains(Cv)?t(n):(n.close(),yield Z7(),t(yield MC()))}))})}function PF(i,t,e){return N(this,null,function*(){let n=Dv(i,!0).put({[uP]:t,value:e});return new rd(n).toPromise()})}function J7(i,t){return N(this,null,function*(){let e=Dv(i,!1).get(t),n=yield new rd(e).toPromise();return n===void 0?null:n.value})}function NF(i,t){let e=Dv(i,!0).delete(t);return new rd(e).toPromise()}var eH=800,tH=3,iH=(()=>{class i{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return N(this,null,function*(){return this.db?this.db:(this.db=yield MC(),this.db)})}_withRetries(e){return N(this,null,function*(){let n=0;for(;;)try{let r=yield this._openDb();return yield e(r)}catch(r){if(n++>tH)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return N(this,null,function*(){return lP()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return N(this,null,function*(){this.receiver=G7._getInstance(Y7()),this.receiver._subscribe("keyChanged",(e,n)=>N(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(n.key)}})),this.receiver._subscribe("ping",(e,n)=>N(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return N(this,null,function*(){var e,n;if(this.activeServiceWorker=yield K7(),!this.activeServiceWorker)return;this.sender=new RC(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return N(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||X7()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return N(this,null,function*(){try{if(!indexedDB)return!1;let e=yield MC();return yield PF(e,xv,"1"),yield NF(e,xv),!0}catch{}return!1})}_withPendingWrite(e){return N(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,n){return N(this,null,function*(){return this._withPendingWrite(()=>N(this,null,function*(){return yield this._withRetries(r=>PF(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)}))})}_get(e){return N(this,null,function*(){let n=yield this._withRetries(r=>J7(r,e));return this.localCache[e]=n,n})}_remove(e){return N(this,null,function*(){return this._withPendingWrite(()=>N(this,null,function*(){return yield this._withRetries(n=>NF(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return N(this,null,function*(){let e=yield this._withRetries(a=>{let o=Dv(a,!1).getAll();return new rd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let n=[],r=new Set;if(e.length!==0)for(let{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(let a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n})}notifyListeners(e,n){this.localCache[e]=n;let r=this.listeners[e];if(r)for(let a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>N(this,null,function*(){return this._poll()}),eH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return i.type="LOCAL",i})(),hP=iH;var T_e=aP("rcb"),S_e=new nd(3e4,6e4);function QC(i,t){return t?Is(t):(xt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}var np=class extends tp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return nh(t,this._buildIdpRequest())}_linkToIdToken(t,e){return nh(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return nh(t,this._buildIdpRequest())}_buildIdpRequest(t){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}};function nH(i){return U7(i.auth,new np(i),i.bypassAuthState)}function rH(i){let{auth:t,user:e}=i;return xt(e,t,"internal-error"),B7(e,new np(i),i.bypassAuthState)}function aH(i){return N(this,null,function*(){let{auth:t,user:e}=i;return xt(e,t,"internal-error"),V7(e,new np(i),i.bypassAuthState)})}var Tv=class{constructor(t,e,n,r,a=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((t,e)=>N(this,null,function*(){this.pendingPromise={resolve:t,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}onAuthEvent(t){return N(this,null,function*(){let{urlResponse:e,sessionId:n,postBody:r,tenantId:a,error:o,type:s}=t;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:e,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(s)(c))}catch(l){this.reject(l)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return nH;case"linkViaPopup":case"linkViaRedirect":return aH;case"reauthViaPopup":case"reauthViaRedirect":return rH;default:Bo(this.auth,"internal-error")}}resolve(t){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var oH=new nd(2e3,1e4);function ZC(i,t,e){return N(this,null,function*(){if(dr(i.app))return Promise.reject(oo(i,"operation-not-supported-in-this-environment"));let n=oh(i);GF(i,t,rh);let r=QC(n,e);return new sH(n,"signInViaPopup",t,r).executeNotNull()})}var sH=(()=>{class i extends Tv{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,i.currentPopupAction&&i.currentPopupAction.cancel(),i.currentPopupAction=this}executeNotNull(){return N(this,null,function*(){let e=yield this.execute();return xt(e,this.auth,"internal-error"),e})}onExecution(){return N(this,null,function*(){Ds(this.filter.length===1,"Popup operations only handle one event");let e=YC();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,i.currentPopupAction=null}pollUserCancellation(){let e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oH.get())};e()}}i.currentPopupAction=null;return i})(),cH="pendingRedirect",hv=new Map,OC=class i extends Tv{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}execute(){return N(this,null,function*(){let t=hv.get(this.auth._key());if(!t){try{let n=(yield lH(this.resolver,this.auth))?yield js(i.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}hv.set(this.auth._key(),t)}return this.bypassAuthState||hv.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return N(this,null,function*(){if(t.type==="signInViaRedirect")return js(i.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let e=yield this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,js(i.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return N(this,null,function*(){})}cleanUp(){}};function lH(i,t){return N(this,null,function*(){let e=mP(t),n=fP(i);if(!(yield n._isAvailable()))return!1;let r=(yield n._get(e))==="true";return yield n._remove(e),r})}function dH(i,t){return N(this,null,function*(){return fP(i)._set(mP(t),"true")})}function uH(i,t){hv.set(i._key(),t)}function fP(i){return Is(i._redirectPersistence)}function mP(i){return uv(cH,i.config.apiKey,i.name)}function JC(i,t,e){return hH(i,t,e)}function hH(i,t,e){return N(this,null,function*(){if(dr(i.app))return Promise.reject(Pc(i));let n=oh(i);GF(i,t,rh),yield n._initializationPromise;let r=QC(n,e);return yield dH(r,n),r._openRedirect(n,t,"signInViaRedirect")})}function eT(i,t){return N(this,null,function*(){return yield oh(i)._initializationPromise,pP(i,t,!1)})}function pP(i,t,e=!1){return N(this,null,function*(){if(dr(i.app))return Promise.reject(Pc(i));let n=oh(i),r=QC(n,t),o=yield new OC(n,r,e).execute();return o&&!e&&(delete o.user._redirectEventId,yield n._persistUserIfCurrent(o.user),yield n._setRedirectUser(null,t)),o})}var fH=600*1e3,FC=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mH(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!gP(t)){let r=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";e.onError(oo(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){let n=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fH&&this.cachedEventUids.clear(),this.cachedEventUids.has(LF(t))}saveEventToCache(t){this.cachedEventUids.add(LF(t)),this.lastProcessedEventTime=Date.now()}};function LF(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function gP({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function mH(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gP(i);default:return!1}}function pH(e){return N(this,arguments,function*(i,t={}){return ah(i,"GET","/v1/projects",t)})}var gH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_H=/^https?/;function vH(i){return N(this,null,function*(){if(i.config.emulator)return;let{authorizedDomains:t}=yield pH(i);for(let e of t)try{if(yH(e))return}catch{}Bo(i,"unauthorized-domain")})}function yH(i){let t=EC(),{protocol:e,hostname:n}=new URL(t);if(i.startsWith("chrome-extension://")){let o=new URL(i);return o.hostname===""&&n===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===n}if(!_H.test(e))return!1;if(gH.test(i))return n===i;let r=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}var bH=new nd(3e4,6e4);function VF(){let i=Vo().___jsl;if(i?.H){for(let t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function wH(i){return new Promise((t,e)=>{var n,r,a;function o(){VF(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{VF(),e(oo(i,"network-request-failed"))},timeout:bH.get()})}if(!((r=(n=Vo().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((a=Vo().gapi)===null||a===void 0)&&a.load)o();else{let s=aP("iframefcb");return Vo()[s]=()=>{gapi.load?o():e(oo(i,"network-request-failed"))},M7(`${O7()}?onload=${s}`).catch(c=>e(c))}}).catch(t=>{throw fv=null,t})}var fv=null;function xH(i){return fv=fv||wH(i),fv}var EH=new nd(5e3,15e3),CH="__/auth/iframe",TH="emulator/auth/iframe",SH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IH(i){let t=i.config;xt(t.authDomain,i,"auth-domain-config-required");let e=t.emulator?BC(t,TH):`https://${i.config.authDomain}/${CH}`,n={apiKey:t.apiKey,appName:i.name,v:_c},r=kH.get(i.config.apiHost);r&&(n.eid=r);let a=i._getFrameworks();return a.length&&(n.fw=a.join(",")),`${e}?${Iu(n).slice(1)}`}function DH(i){return N(this,null,function*(){let t=yield xH(i),e=Vo().gapi;return xt(e,i,"internal-error"),t.open({where:document.body,url:IH(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SH,dontclear:!0},n=>new Promise((r,a)=>N(null,null,function*(){yield n.restyle({setHideOnLeave:!1});let o=oo(i,"network-request-failed"),s=Vo().setTimeout(()=>{a(o)},EH.get());function c(){Vo().clearTimeout(s),r(n)}n.ping(c).then(c,()=>{a(o)})})))})}var AH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RH=500,MH=600,OH="_blank",FH="http://localhost",Sv=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function PH(i,t,e,n=RH,r=MH){let a=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString(),s="",c=Object.assign(Object.assign({},AH),{width:n.toString(),height:r.toString(),top:a,left:o}),l=Vn().toLowerCase();e&&(s=ZF(l)?OH:e),YF(l)&&(t=t||FH,c.scrollbars="yes");let d=Object.entries(c).reduce((f,[m,v])=>`${f}${m}=${v},`,"");if(k7(l)&&s!=="_self")return NH(t||"",s),new Sv(null);let h=window.open(t||"",s,d);xt(h,i,"popup-blocked");try{h.focus()}catch{}return new Sv(h)}function NH(i,t){let e=document.createElement("a");e.href=i,e.target=t;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}var LH="__/auth/handler",VH="emulator/auth/handler",BH=encodeURIComponent("fac");function BF(i,t,e,n,r,a){return N(this,null,function*(){xt(i.config.authDomain,i,"auth-domain-config-required"),xt(i.config.apiKey,i,"invalid-api-key");let o={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:n,v:_c,eventId:r};if(t instanceof rh){t.setDefaultLanguage(i.languageCode),o.providerId=t.providerId||"",k2(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[d,h]of Object.entries(a||{}))o[d]=h}if(t instanceof wv){let d=t.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}i.tenantId&&(o.tid=i.tenantId);let s=o;for(let d of Object.keys(s))s[d]===void 0&&delete s[d];let c=yield i._getAppCheckToken(),l=c?`#${BH}=${encodeURIComponent(c)}`:"";return`${UH(i)}?${Iu(s).slice(1)}${l}`})}function UH({config:i}){return i.emulator?BC(i,VH):`https://${i.authDomain}/${LH}`}var xC="webStorageSupport",PC=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XC,this._completeRedirectFn=pP,this._overrideRedirectResult=uH}_openPopup(t,e,n,r){return N(this,null,function*(){var a;Ds((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");let o=yield BF(t,e,n,EC(),r);return PH(t,o,YC())})}_openRedirect(t,e,n,r){return N(this,null,function*(){yield this._originValidation(t);let a=yield BF(t,e,n,EC(),r);return q7(a),new Promise(()=>{})})}_initialize(t){let e=t._key();if(this.eventManagers[e]){let{manager:r,promise:a}=this.eventManagers[e];return r?Promise.resolve(r):(Ds(a,"If manager is not set, promise should be"),a)}let n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}initAndGetManager(t){return N(this,null,function*(){let e=yield DH(t),n=new FC(t);return e.register("authEvent",r=>(xt(r?.authEvent,t,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n})}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(xC,{type:xC},r=>{var a;let o=(a=r?.[0])===null||a===void 0?void 0:a[xC];o!==void 0&&e(!!o),Bo(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=vH(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return nP()||QF()||WC()}},_P=PC;var UF="@firebase/auth",zF="1.10.8";var NC=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return N(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(n=>{t(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function zH(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jH(i){la(new er("auth",(t,{options:e})=>{let n=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;xt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});let c={apiKey:o,authDomain:s,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rP(i)},l=new DC(n,r,a,c);return F7(l,e),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),la(new er("auth-internal",t=>{let e=oh(t.getProvider("auth").getImmediate());return(n=>new NC(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ei(UF,zF,zH(i)),Ei(UF,zF,"esm2017")}var HH=300,WH=bx("authIdTokenMaxAge")||HH,jF=null,$H=i=>t=>N(null,null,function*(){let e=t&&(yield t.getIdTokenResult()),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>WH)return;let r=e?.token;jF!==r&&(jF=r,yield fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function tT(i=gs()){let t=gc(i,"auth");if(t.isInitialized())return t.getImmediate();let e=GC(i,{popupRedirectResolver:_P,persistence:[hP,cP,XC]}),n=bx("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){let a=new URL(n,location.origin);if(location.origin===a.origin){let o=$H(a.toString());qC(e,o,()=>o(e.currentUser)),rp(e,s=>o(s))}}let r=vx("auth");return r&&kv(e,`http://${r}`),e}function GH(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}R7({loadJS(i){return new Promise((t,e)=>{let n=document.createElement("script");n.setAttribute("src",i),n.onload=t,n.onerror=r=>{let a=oo("internal-error");a.customData=r,e(a)},n.type="text/javascript",n.charset="UTF-8",GH().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jH("Browser");function bP(i){return new Li(function(t){var e=rp(i,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:e}})}var wP="auth",Xi=class{constructor(t){return t}},ad=class{constructor(){return Ac(wP)}};var iT=new se("angularfire2.auth-instances");function OW(i,t){let e=id(wP,i,t);return e&&new Xi(e)}function FW(i){return(t,e)=>{let n=t.runOutsideAngular(()=>i(e));return new Xi(n)}}var PW={provide:ad,deps:[[new Ui,iT]]},NW={provide:Xi,useFactory:OW,deps:[[new Ui,iT],ro]};function xP(i,...t){return Ei("angularfire",No.full,"auth"),sr([NW,PW,{provide:iT,useFactory:FW(i),multi:!0,deps:[Me,$e,Lo,Ss,[new Ui,Mc],...t]}])}var sh=Pi(bP,!0);var EP=Pi(kv,!0);var nT=Pi(tT,!0);var CP=Pi(eT,!0);var TP=Pi(ZC,!0,2),SP=Pi(JC,!0,2),Av=Pi(KC,!0,2);var Rv=function(){return Rv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Rv.apply(this,arguments)};var BW={includeMetadataChanges:!1};function rT(i,t){return t===void 0&&(t=BW),new Li(function(e){var n=uC(i,t,{next:e.next.bind(e),error:e.error.bind(e),complete:e.complete.bind(e)});return{unsubscribe:n}})}function kP(i){return rT(i,{includeMetadataChanges:!0})}function IP(i,t){return t===void 0&&(t={}),kP(i).pipe(De(function(e){return aT(e,t)}))}function aT(i,t){var e;t===void 0&&(t={});var n=i.data(t);return!i.exists()||typeof n!="object"||n===null||!t.idField?n:Rv(Rv({},n),(e={},e[t.idField]=i.id,e))}function DP(i){return rT(i,{includeMetadataChanges:!0}).pipe(De(function(t){return t.docs}))}function AP(i,t){return t===void 0&&(t={}),DP(i).pipe(De(function(e){return e.map(function(n){return aT(n,t)})}))}var Ci=class{constructor(t){return t}},RP="firestore",oT=class{constructor(){return Ac(RP)}};var sT=new se("angularfire2.firestore-instances");function UW(i,t){let e=id(RP,i,t);return e&&new Ci(e)}function zW(i){return(t,e)=>{let n=t.runOutsideAngular(()=>i(e));return new Ci(n)}}var jW={provide:oT,deps:[[new Ui,sT]]},HW={provide:Ci,useFactory:UW,deps:[[new Ui,sT],ro]};function MP(i,...t){return Ei("angularfire",No.full,"fst"),sr([HW,jW,{provide:sT,useFactory:zW(i),multi:!0,deps:[Me,$e,Lo,Ss,[new Ui,ad],[new Ui,Mc],...t]}])}var Aa=Pi(AP,!0);var OP=Pi(IP,!0);var FP=Pi(tr,!0,2);var PP=Pi(nC,!0);var NP=Pi(hF,!0,2);var cT=Pi(no,!0,2);var LP=Pi(uF,!0);var lT=Pi(iF,!0);var dT=Pi(av,!0,2);var Mv=class{uid="";ExceedanceFraction=0;DateCalculated=new Date().toISOString();MostRecentNumber=6;OELNumber=.05;ResultsUsed=[];constructor(t={}){Object.assign(this,t)}};var ch=class i{firestore=g(Ci);exceedanceFractionservice=g(mc);auth=g(Xi);constructor(){}sanitizeRows(t=[]){return(t||[]).map(e=>{let n=e?.SampleNumber,r=e?.TWA,a=r===""||r===void 0||r===null?null:Number(r);return{Location:e?.Location??"",SampleNumber:n===void 0||n===""?null:n,SampleDate:e?.SampleDate??"",ExposureGroup:e?.ExposureGroup??"",Agent:e?.Agent??"",TWA:a,Notes:e?.Notes??""}})}stripUndefined(t){let e={};for(let n of Object.keys(t||{})){let r=t[n];r!==void 0&&(e[n]=r)}return e}saveSampleInfo(t,e,n){return N(this,null,function*(){try{let r=t[0]?.ExposureGroup||"unknown-group",a=this.slugify(r),o=tr(this.firestore,`organizations/${e}/exposureGroups`),s=no(o,a),c=this.auth.currentUser?.uid;if(!c)throw new Error("AUTH_REQUIRED");return yield fC(this.firestore,l=>N(this,null,function*(){let d=yield l.get(s),f=(d.exists()?d.data()||{}:{})?.Results??[],m=[...this.sanitizeRows(f),...this.sanitizeRows(t)];if(d.exists())l.update(s,{Results:JSON.parse(JSON.stringify(m)),OrganizationUid:e,OrganizationName:n,Group:r,ExposureGroup:r,updatedAt:ma(),updatedBy:c});else{let v={OrganizationUid:e,OrganizationName:n,Group:r,ExposureGroup:r,Results:JSON.parse(JSON.stringify(m)),createdAt:ma(),createdBy:c,updatedAt:ma(),updatedBy:c};l.set(s,v)}})),s}catch(r){throw console.log("There was a problem saving exposure group",r),r}})}saveGroupedSampleInfo(t,e,n){return N(this,null,function*(){let r=tr(this.firestore,`organizations/${e}/exposureGroups`),a=Object.entries(t||{}).filter(([d,h])=>(h?.length??0)>0);if(a.length===0)return[];let o=this.auth.currentUser?.uid;if(!o)throw new Error("AUTH_REQUIRED");let s=[];{let d=a.map(([v,_])=>{let y=v||_[0]?.ExposureGroup||"unknown-group",S=this.slugify(y),D=no(r,S);return{id:S,groupName:y,ref:D}}),h=new Set,f=30;for(let v=0;v<d.length;v+=f){let _=d.slice(v,v+f);try{let y=Jl(r,ed(rC(),"in",_.map(D=>D.id)));(yield dC(y)).forEach(D=>h.add(D.id))}catch{}}let m=Km(this.firestore);for(let v of d){let _={OrganizationUid:e,OrganizationName:n,Group:v.groupName,ExposureGroup:v.groupName,Importing:!0,updatedAt:ma(),updatedBy:o};h.has(v.id)||(_.createdAt=ma(),_.createdBy=o),m.set(v.ref,_,{merge:!0}),s.push({id:v.id,groupName:v.groupName})}yield m.commit()}let c=300,l=[];for(let[d,h]of a){let f=d||h[0]?.ExposureGroup||"unknown-group",m=this.slugify(f),v=tr(this.firestore,`organizations/${e}/exposureGroups/${m}/results`),_=this.sanitizeRows(h);for(let y=0;y<_.length;y+=c){let S=Km(this.firestore),D=Math.min(y+c,_.length);for(let T=y;T<D;T++){let G=_[T],j=`${G.SampleNumber||""}-${G.SampleDate||""}-${G.TWA||""}-${T}`.toLowerCase().replace(/[^a-z0-9\-]/g,"").slice(0,120)||`${Date.now()}-${T}`,w=no(v,j),x=this.stripUndefined(kt(ae({},G),{Group:f,ExposureGroup:f,createdAt:ma(),createdBy:o,updatedAt:ma(),updatedBy:o}));S.set(w,x,{merge:!0})}try{yield S.commit()}catch(T){l.push({group:f,error:T?.message||String(T)})}}}{let d=Km(this.firestore);for(let h of s){let f=no(r,h.id);d.set(f,{Importing:!1,updatedAt:ma(),updatedBy:o},{merge:!0})}yield d.commit()}if(l.length){let d=`Some groups failed to upload (${l.length}). First error: ${l[0].group}: ${l[0].error}`,h=new Error(d);throw h.code="PARTIAL_UPLOAD_FAILED",h.details=l,h}return s})}separateSampleInfoByExposureGroup(t){let e={};return t.forEach(n=>{e[n.ExposureGroup]||(e[n.ExposureGroup]=[]),e[n.ExposureGroup].push(n)}),e}createExceedanceFraction(t,e,n){return new Mv({ExceedanceFraction:t,DateCalculated:new Date().toISOString(),OELNumber:.05,MostRecentNumber:e.length,ResultsUsed:n})}getTWAListFromSampleInfo(t){let e=!1,n=[];return t.forEach(r=>{r.TWA&&+r.TWA>0?n.push(+r.TWA):+(r.TWA??0)==0&&(e=!0)}),n}slugify(t){return t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/-+/g,"-").slice(0,120)}getMostRecentSamples(t,e=6){let r=[...(t||[]).filter(a=>a&&Number(a.TWA)>0)].sort((a,o)=>this.parseDateToEpoch(o.SampleDate)-this.parseDateToEpoch(a.SampleDate));return r.slice(0,Math.min(e,r.length))}parseDateToEpoch(t){if(!t)return 0;let n=new Date(t).getTime();return isNaN(n)?0:n}static \u0275fac=function(e){return new(e||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})};var WW="type.googleapis.com/google.protobuf.Int64Value",$W="type.googleapis.com/google.protobuf.UInt64Value";function zP(i,t){let e={};for(let n in i)i.hasOwnProperty(n)&&(e[n]=t(i[n]));return e}function Ov(i){if(i==null)return null;if(i instanceof Number&&(i=i.valueOf()),typeof i=="number"&&isFinite(i)||i===!0||i===!1||Object.prototype.toString.call(i)==="[object String]")return i;if(i instanceof Date)return i.toISOString();if(Array.isArray(i))return i.map(t=>Ov(t));if(typeof i=="function"||typeof i=="object")return zP(i,t=>Ov(t));throw new Error("Data cannot be encoded in JSON: "+i)}function lh(i){if(i==null)return i;if(i["@type"])switch(i["@type"]){case WW:case $W:{let t=Number(i.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+i);return t}default:throw new Error("Data cannot be decoded from JSON: "+i)}return Array.isArray(i)?i.map(t=>lh(t)):typeof i=="function"||typeof i=="object"?zP(i,t=>lh(t)):i}var mT="functions";var VP={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$r=class i extends Or{constructor(t,e,n){super(`${mT}/${t}`,e||""),this.details=n,Object.setPrototypeOf(this,i.prototype)}};function GW(i){if(i>=200&&i<300)return"ok";switch(i){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Fv(i,t){let e=GW(i),n=e,r;try{let a=t&&t.error;if(a){let o=a.status;if(typeof o=="string"){if(!VP[o])return new $r("internal","internal");e=VP[o],n=o}let s=a.message;typeof s=="string"&&(n=s),r=a.details,r!==void 0&&(r=lh(r))}}catch{}return e==="ok"?null:new $r(e,n,r)}var uT=class{constructor(t,e,n,r){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,dr(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(a=>this.auth=a,()=>{}),this.messaging||n.get().then(a=>this.messaging=a,()=>{}),this.appCheck||r?.get().then(a=>this.appCheck=a,()=>{})}getAuthToken(){return N(this,null,function*(){if(this.auth)try{let t=yield this.auth.getToken();return t?.accessToken}catch{return}})}getMessagingToken(){return N(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(t){return N(this,null,function*(){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){let e=t?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return e.error?null:e.token}return null})}getContext(t){return N(this,null,function*(){let e=yield this.getAuthToken(),n=yield this.getMessagingToken(),r=yield this.getAppCheckToken(t);return{authToken:e,messagingToken:n,appCheckToken:r}})}};var hT="us-central1",qW=/^data: (.*?)(?:\n|$)/;function KW(i){let t=null;return{promise:new Promise((e,n)=>{t=setTimeout(()=>{n(new $r("deadline-exceeded","deadline-exceeded"))},i)}),cancel:()=>{t&&clearTimeout(t)}}}var fT=class{constructor(t,e,n,r,a=hT,o=(...s)=>fetch(...s)){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new uT(t,e,n,r),this.cancelAllRequests=new Promise(s=>{this.deleteService=()=>Promise.resolve(s())});try{let s=new URL(a);this.customDomain=s.origin+(s.pathname==="/"?"":s.pathname),this.region=hT}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(t){let e=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${e}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${e}.cloudfunctions.net/${t}`}};function XW(i,t,e){let n=Io(t);i.emulatorOrigin=`http${n?"s":""}://${t}:${e}`,n&&(Su(i.emulatorOrigin),ku("Functions",!0))}function YW(i,t,e){let n=r=>ZW(i,t,r,e||{});return n.stream=(r,a)=>e$(i,t,r,a),n}function QW(i,t,e,n){return N(this,null,function*(){e["Content-Type"]="application/json";let r;try{r=yield n(i,{method:"POST",body:JSON.stringify(t),headers:e})}catch{return{status:0,json:null}}let a=null;try{a=yield r.json()}catch{}return{status:r.status,json:a}})}function jP(i,t){return N(this,null,function*(){let e={},n=yield i.contextProvider.getContext(t.limitedUseAppCheckTokens);return n.authToken&&(e.Authorization="Bearer "+n.authToken),n.messagingToken&&(e["Firebase-Instance-ID-Token"]=n.messagingToken),n.appCheckToken!==null&&(e["X-Firebase-AppCheck"]=n.appCheckToken),e})}function ZW(i,t,e,n){let r=i._url(t);return JW(i,r,e,n)}function JW(i,t,e,n){return N(this,null,function*(){e=Ov(e);let r={data:e},a=yield jP(i,n),o=n.timeout||7e4,s=KW(o),c=yield Promise.race([QW(t,r,a,i.fetchImpl),s.promise,i.cancelAllRequests]);if(s.cancel(),!c)throw new $r("cancelled","Firebase Functions instance was deleted.");let l=Fv(c.status,c.json);if(l)throw l;if(!c.json)throw new $r("internal","Response is not valid JSON object.");let d=c.json.data;if(typeof d>"u"&&(d=c.json.result),typeof d>"u")throw new $r("internal","Response is missing data field.");return{data:lh(d)}})}function e$(i,t,e,n){let r=i._url(t);return t$(i,r,e,n||{})}function t$(i,t,e,n){return N(this,null,function*(){var r;e=Ov(e);let a={data:e},o=yield jP(i,n);o["Content-Type"]="application/json",o.Accept="text/event-stream";let s;try{s=yield i.fetchImpl(t,{method:"POST",body:JSON.stringify(a),headers:o,signal:n?.signal})}catch(m){if(m instanceof Error&&m.name==="AbortError"){let _=new $r("cancelled","Request was cancelled.");return{data:Promise.reject(_),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(_)}}}}}}let v=Fv(0,null);return{data:Promise.reject(v),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(v)}}}}}}let c,l,d=new Promise((m,v)=>{c=m,l=v});(r=n?.signal)===null||r===void 0||r.addEventListener("abort",()=>{let m=new $r("cancelled","Request was cancelled.");l(m)});let h=s.body.getReader(),f=i$(h,c,l,n?.signal);return{stream:{[Symbol.asyncIterator](){let m=f.getReader();return{next(){return N(this,null,function*(){let{value:_,done:y}=yield m.read();return{value:_,done:y}})},return(){return N(this,null,function*(){return yield m.cancel(),{done:!0,value:void 0}})}}}},data:d}})}function i$(i,t,e,n){let r=(o,s)=>{let c=o.match(qW);if(!c)return;let l=c[1];try{let d=JSON.parse(l);if("result"in d){t(lh(d.result));return}if("message"in d){s.enqueue(lh(d.message));return}if("error"in d){let h=Fv(0,d);s.error(h),e(h);return}}catch(d){if(d instanceof $r){s.error(d),e(d);return}}},a=new TextDecoder;return new ReadableStream({start(o){let s="";return c();function c(){return N(this,null,function*(){if(n?.aborted){let l=new $r("cancelled","Request was cancelled");return o.error(l),e(l),Promise.resolve()}try{let{value:l,done:d}=yield i.read();if(d){s.trim()&&r(s.trim(),o),o.close();return}if(n?.aborted){let f=new $r("cancelled","Request was cancelled");o.error(f),e(f),yield i.cancel();return}s+=a.decode(l,{stream:!0});let h=s.split(`
`);s=h.pop()||"";for(let f of h)f.trim()&&r(f.trim(),o);return c()}catch(l){let d=l instanceof $r?l:Fv(0,null);o.error(d),e(d)}})}},cancel(){return i.cancel()}})}var BP="@firebase/functions",UP="0.12.9";var n$="auth-internal",r$="app-check-internal",a$="messaging-internal";function o$(i){let t=(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),a=e.getProvider(n$),o=e.getProvider(a$),s=e.getProvider(r$);return new fT(r,a,o,s,n)};la(new er(mT,t,"PUBLIC").setMultipleInstances(!0)),Ei(BP,UP,i),Ei(BP,UP,"esm2017")}function HP(i=gs(),t=hT){let n=gc(Ii(i),mT).getImmediate({identifier:t}),r=r_("functions");return r&&pT(n,...r),n}function pT(i,t,e){XW(Ii(i),t,e)}function WP(i,t,e){return YW(Ii(i),t,e)}o$();var As=class{constructor(t){return t}},$P="functions",gT=class{constructor(){return Ac($P)}};var _T=new se("angularfire2.functions-instances");function s$(i,t){let e=id($P,i,t);return e&&new As(e)}function c$(i){return(t,e)=>{let n=t.runOutsideAngular(()=>i(e));return new As(n)}}var l$={provide:gT,deps:[[new Ui,_T]]},d$={provide:As,useFactory:s$,deps:[[new Ui,_T],ro]};function GP(i,...t){return Ei("angularfire",No.full,"fn"),sr([d$,l$,{provide:_T,useFactory:c$(i),multi:!0,deps:[Me,$e,Lo,Ss,[new Ui,ad],[new Ui,Mc],...t]}])}var qP=Pi(pT,!0),vT=Pi(HP,!0),ap=Pi(WP,!0);var op=class{Name="";Uid="";UserUids=[];Permissions={};constructor(t){Object.assign(this,t)}};var Pv=class i{auth=g(Xi);user$=sh(this.auth).pipe(_o(100));user=Ts(this.user$,{initialValue:null});userUid=()=>this.user()?.uid??null;static \u0275fac=function(e){return new(e||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})};var yT=class{currentOrg=null;organizationList=[];isLoadingOrganizations=!1;isErrorLoadingOrganizations=!1},Nv=class i{firestore=g(Ci);auth=g(Xi);env=g(Oi);userService=g(Pv);_state=it(new yT);state=Lt(()=>this._state());organizationList=Lt(()=>this.state().organizationList);currentOrg=Lt(()=>this.state().currentOrg);isLoadingOrganizations=Lt(()=>this.state().isLoadingOrganizations);isErrorLoadingOrganizations=Lt(()=>this.state().isErrorLoadingOrganizations);user$=this.userService.user$;userSig=Ts(this.user$,{initialValue:null});userUid=Lt(()=>this.userSig()?.uid??null);organizationList$=this.user$.pipe(vi(()=>this.updateState({isLoadingOrganizations:!0,isErrorLoadingOrganizations:!1})),this.mapUserToOrganizationList(),vi(t=>this.updateState({isLoadingOrganizations:!1,organizationList:t})),zr(t=>(console.error(t),this.updateState({isLoadingOrganizations:!1,isErrorLoadingOrganizations:!0,organizationList:[]}),He([]))));organizationListSignal=Ts(this.organizationList$,{initialValue:[]});constructor(){Ba(()=>{let t=mi(this.userUid),e=this.organizationListSignal(),n=mi(this.isLoadingOrganizations),r=mi(this.currentOrg);t&&!n&&(e.some(a=>a.Uid===r?.Uid)?this.updateState({currentOrg:r}):this.clearCurrentOrg())})}mapUserToOrganizationList(){return ii(t=>t?this.loadUserOrganizations(t):this.returnEmptyOrganizations())}returnEmptyOrganizations(){return this.updateState({isLoadingOrganizations:!1,isErrorLoadingOrganizations:!1}),He([])}loadUserOrganizations(t){return this.getOrganizationList(t.uid??"").pipe(vi(()=>{this.updateState({isLoadingOrganizations:!1,isErrorLoadingOrganizations:!1})}))}organizationsFor(t){let e=this.getOrganizationList(t);return Ts(e,{initialValue:[]})}getOrganizationList(t){let e=tr(this.firestore,"organizations"),n=Jl(e,ed("UserUids","array-contains",t));return Ur(()=>Bi(this.env,()=>Aa(n,{idField:"Uid"}))).pipe(De(a=>a.map(o=>o)),zr(a=>(console.error(a),this.updateState({isErrorLoadingOrganizations:!0}),He([]))))}setCurrentOrg(t){this.updateState({currentOrg:t}),t?localStorage.setItem("currentOrg",JSON.stringify(t)):localStorage.removeItem("currentOrg")}clearCurrentOrg(){this.updateState({currentOrg:null}),localStorage.removeItem("currentOrg")}updateState(t){this._state.update(e=>ae(ae({},e),t))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})};var KP=null;function XP(i){KP=i}function YP(){return KP??void 0}function od(i="env"){return function(t,e,n){let r=n.value;return typeof r!="function"||(n.value=function(...a){let o=this,s=o?.[i]??o?.env??o?.environmentInjector;if(s||(s=YP()),!s)throw new Error(`createInjectionContext: Expected an EnvironmentInjector (tried instance properties \`${i}\`, \`env\`, \`environmentInjector\`, and the root injector). Add \`private env = inject(EnvironmentInjector)\` or pass the property name: @createInjectionContext('environmentInjector').`);return Bi(s,()=>r.apply(this,a))}),n}}var dh=class dh{firestore=g(Ci);auth=g(Xi);env=g(Oi);fns=g(As);orgStore=g(Nv);storedOrg=it(null);user$=sh(this.auth);user=Ts(this.user$,{initialValue:null});get userUid(){return this.auth.currentUser?.uid}organizationList$=this.user$.pipe(ii(t=>t?this.getOrganizationList(t.uid??""):He([])));organizationList=Ts(this.organizationList$,{initialValue:[]});currentOrg=Lt(()=>{let t=this.organizationList(),e=this.storedOrg();return e&&t.some(n=>n.Uid===e.Uid)?e:t.length>0?t[0]:null});constructor(){this.loadCurrentOrganizationFromLocalStorage()}loadCurrentOrganizationFromLocalStorage(){let t=localStorage.getItem("currentOrg");t&&this.setCurrentOrg(JSON.parse(t))}getOrganizationList(t){let e=tr(this.firestore,"organizations"),n=Jl(e,ed("UserUids","array-contains",t));return Ur(()=>Bi(this.env,()=>Aa(n,{idField:"Uid"}))).pipe(De(a=>a.map(o=>o)),zr(a=>(console.error(a),He([]))))}setCurrentOrg(t){this.orgStore.setCurrentOrg(t),localStorage.setItem("currentOrg",JSON.stringify(t))}clearCurrentOrg(){this.orgStore.clearCurrentOrg(),localStorage.removeItem("currentOrg")}saveOrganization(t){return N(this,null,function*(){let e=this.userUid;if(!e)throw new Error("User not authenticated");if(!t)throw new Error("Organization name is required");let n=yield this.addOrganization(t),r=new op({Name:n.data.name,Uid:n.data.orgId,UserUids:[e],Permissions:{[e]:{assignPermissions:!0}}});return this.setCurrentOrg(r),n.data})}addOrganization(t){return N(this,null,function*(){return yield ap(this.fns,"createOrganization")({name:t})})}deleteOrganization(t){return N(this,null,function*(){if(!t)throw new Error("Organization id is required");yield ap(this.fns,"deleteOrganization")({orgId:t}),this.orgStore.currentOrg()?.Uid===t&&this.orgStore.clearCurrentOrg()})}createNewOrgToSave(t,e){return new op({Name:t,UserUids:[e],Permissions:{[e]:{assignPermissions:!0}}})}plainObject(t){return JSON.parse(JSON.stringify(t))}persistSelectedOrgToDb(t,e){return N(this,null,function*(){let n=no(this.firestore,`userSettings/${t}`);yield av(n,{currentOrgUid:e},{merge:!0})})}static \u0275fac=function(e){return new(e||dh)};static \u0275prov=le({token:dh,factory:dh.\u0275fac,providedIn:"root"})};il([od()],dh.prototype,"addOrganization",1);var Cn=dh;var uh=class i{firestore=g(Ci);env=g(Oi);waitForEf(t,e,n,r,a=99999999){return N(this,null,function*(){let o=Array.from(new Set(e||[])),s=o.length;if(s===0)return{timedOut:!1};let c=Date.parse(n||""),l=0,d=[],h=()=>r?.(l,s);h();let f=()=>{d.splice(0).forEach(S=>{try{S.unsubscribe()}catch{}})},m=S=>{if(!S)return 0;try{if(typeof S.toMillis=="function")return S.toMillis();if(S instanceof Date)return S.getTime();if(typeof S=="string")return Date.parse(S)}catch{}return 0},v=new Promise(S=>{o.forEach(D=>{let T=no(this.firestore,`organizations/${t}/exposureGroups/${D}`),K=Bi(this.env,()=>OP(T)).subscribe({next:j=>{let w=j?.LatestExceedanceFraction,x=m(w?.DateCalculated),E=m(j?.EFComputedAt),A=Math.max(x,E);if(A&&A>=c){l+=1,h();try{K.unsubscribe()}catch{}l>=s&&(f(),S(!1))}},error:()=>{l+=1,h();try{K.unsubscribe()}catch{}l>=s&&(f(),S(!1))}});d.push(K)})}),_=new Promise(S=>setTimeout(()=>{f(),S(!0)},a));return{timedOut:yield Promise.race([v,_])}})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})};var Nc=class i{snack=g(Kw);defaults={verticalPosition:"top"};open(t,e,n){let r=ae(ae({},this.defaults),n||{});return this.snack.open(t,e,r)}openFromComponent(t,e){let n=ae(ae({},this.defaults),e||{});return this.snack.openFromComponent(t,n)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})};var sd=class sd{firestore=g(Ci);auth=g(Xi);env=g(Oi);agentsRef(t){return FP(this.firestore,`organizations/${t}/agents`)}list(t){return Aa(this.agentsRef(t),{idField:"Uid"})}upsert(t,e){return N(this,null,function*(){let n=this.slug(e.Name),r=cT(this.agentsRef(t),n),a=this.auth.currentUser?.uid||"unknown",o=kt(ae({},e),{Uid:n});(yield LP(r)).exists()?yield dT(r,kt(ae({},o),{updatedAt:ma(),updatedBy:a}),{merge:!0}):yield dT(r,kt(ae({},o),{createdAt:ma(),createdBy:a,updatedAt:ma(),updatedBy:a}),{merge:!0})})}remove(t,e){return N(this,null,function*(){let n=this.slug(e);yield NP(cT(this.agentsRef(t),n))})}slug(t){return(t||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").slice(0,120)||"agent"}static \u0275fac=function(e){return new(e||sd)};static \u0275prov=le({token:sd,factory:sd.\u0275fac,providedIn:"root"})};il([od()],sd.prototype,"list",1),il([od()],sd.prototype,"upsert",1);var Lc=sd;var QP=(()=>{class i{_animationsDisabled=Wt();state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,r){n&2&&xe("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationsDisabled)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(n,r){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return i})();var u$=["text"],h$=[[["mat-icon"]],"*"],f$=["mat-icon","*"];function m$(i,t){if(i&1&&Ne(0,"mat-pseudo-checkbox",1),i&2){let e=ee();Z("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function p$(i,t){if(i&1&&Ne(0,"mat-pseudo-checkbox",3),i&2){let e=ee();Z("disabled",e.disabled)}}function g$(i,t){if(i&1&&(P(0,"span",4),Y(1),V()),i&2){let e=ee();B(),jt("(",e.group.label,")")}}var wT=new se("MAT_OPTION_PARENT_COMPONENT"),xT=new se("MatOptgroup");var bT=class{source;isUserInput;constructor(t,e=!1){this.source=t,this.isUserInput=e}},Rs=(()=>{class i{_element=g(Ce);_changeDetectorRef=g(bt);_parent=g(wT,{optional:!0});group=g(xT,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=g(xi).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled()}set disabled(e){this._disabled.set(e)}_disabled=it(!1);get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new Je;_text;_stateChanges=new ge;constructor(){let e=g(ui);e.load(Jn),e.load(ec),this._signalDisableRipple=!!this._parent&&al(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,n){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!gn(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new bT(this,e))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-option"]],viewQuery:function(n,r){if(n&1&&lt(u$,7),n&2){let a;ve(a=ye())&&(r._text=a.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,r){n&1&&fe("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),n&2&&(Sr("id",r.id),Ge("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),xe("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Fe]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:f$,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(n,r){n&1&&(Ot(h$),rt(0,m$,1,2,"mat-pseudo-checkbox",1),Qe(1),P(2,"span",2,0),Qe(4,1),V(),rt(5,p$,1,1,"mat-pseudo-checkbox",3),rt(6,g$,2,1,"span",4),Ne(7,"div",5)),n&2&&(at(r.multiple?0:-1),B(5),at(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),B(),at(r.group&&r.group._inert?6:-1),B(),Z("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[QP,ds],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mat-list-list-item-selected-container-color: var(--mat-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return i})();function ZP(i,t,e){if(e.length){let n=t.toArray(),r=e.toArray(),a=0;for(let o=0;o<i+1;o++)n[o].group&&n[o].group===r[a]&&a++;return a}return 0}function JP(i,t,e,n){return i<e?i:i+t>e+n?Math.max(0,i-n+t):e}var Lv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[ot]})}return i})();var ET=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[Ca,ot,Lv,Rs]})}return i})();var Uo=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[ot,tu,ms,ot]})}return i})();var _$=["trigger"],v$=["panel"],y$=[[["mat-select-trigger"]],"*"],b$=["mat-select-trigger","*"];function w$(i,t){if(i&1&&(P(0,"span",4),Y(1),V()),i&2){let e=ee();B(),_t(e.placeholder)}}function x$(i,t){i&1&&Qe(0)}function E$(i,t){if(i&1&&(P(0,"span",11),Y(1),V()),i&2){let e=ee(2);B(),_t(e.triggerValue)}}function C$(i,t){if(i&1&&(P(0,"span",5),rt(1,x$,1,0)(2,E$,2,1,"span",11),V()),i&2){let e=ee();B(),at(e.customTrigger?1:2)}}function T$(i,t){if(i&1){let e=mt();P(0,"div",12,1),fe("keydown",function(r){Ae(e);let a=ee();return Re(a._handleKeydown(r))}),Qe(2,1),V()}if(i&2){let e=ee();sn(Kk("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme())),xe("mat-select-panel-animations-enabled",!e._animationsDisabled),Z("ngClass",e.panelClass),Ge("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var CT=new se("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let i=g($e);return()=>oa(i)}});function eN(i){let t=g($e);return()=>oa(t)}var tN=new se("MAT_SELECT_CONFIG"),iN={provide:CT,deps:[],useFactory:eN},nN=new se("MatSelectTrigger"),Vv=class{source;value;constructor(t,e){this.source=t,this.value=e}},sp=(()=>{class i{_viewportRuler=g(aa);_changeDetectorRef=g(bt);_elementRef=g(Ce);_dir=g(Fi,{optional:!0});_idGenerator=g(xi);_renderer=g(Jt);_parentFormField=g(_m,{optional:!0});ngControl=g(fs,{self:!0,optional:!0});_liveAnnouncer=g(El);_defaultOptions=g(tN,{optional:!0});_animationsDisabled=Wt();_initialized=new ge;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let n=this.options.toArray()[e];if(n){let r=this.panel.nativeElement,a=ZP(e,this.options,this.optionGroups),o=n._getHostElement();e===0&&a===1?r.scrollTop=0:r.scrollTop=JP(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new Vv(this,e)}_scrollStrategyFactory=g(CT);_panelOpen=!1;_compareWith=(e,n)=>e===n;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new ge;_errorStateTracker;stateChanges=new ge;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;get disableRipple(){return this._disableRipple()}set disableRipple(e){this._disableRipple.set(e)}_disableRipple=it(!1);tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(Eu.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Ur(()=>{let e=this.options;return e?e.changes.pipe(Si(e),ii(()=>Vi(...e.map(n=>n.onSelectionChange)))):this._initialized.pipe(ii(()=>this.optionSelectionChanges))});openedChange=new Je;_openedStream=this.openedChange.pipe(Dt(e=>e),De(()=>{}));_closedStream=this.openedChange.pipe(Dt(e=>!e),De(()=>{}));selectionChange=new Je;valueChange=new Je;constructor(){let e=g(Cu),n=g(Fl,{optional:!0}),r=g(fm,{optional:!0}),a=g(new vo("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new Tu(e,this.ngControl,r,n,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=a==null?0:parseInt(a)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Yf(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(pt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(pt(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(Si(null),pt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(this._previousControl!==void 0&&n.disabled!==null&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(fi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let n=`${this.id}-panel`;this._trackedModal&&_0(this._trackedModal,"aria-owns",n),Cw(e,"aria-owns",n),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;_0(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{n(),clearTimeout(r),this._cleanupDetach=void 0};let e=this.panel.nativeElement,n=this._renderer.listen(e,"animationend",a=>{a.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),r=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let n=e.keyCode,r=n===40||n===38||n===37||n===39,a=n===13||n===32,o=this._keyManager;if(!o.isTyping()&&a&&!gn(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let s=this.selected;o.onKeydown(e);let c=this.selected;c&&s!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(e){let n=this._keyManager,r=e.keyCode,a=r===40||r===38,o=n.isTyping();if(a&&e.altKey)e.preventDefault(),this.close();else if(!o&&(r===13||r===32)&&n.activeItem&&!gn(e))e.preventDefault(),n.activeItem._selectViaInteraction();else if(!o&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let s=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(s?c.select():c.deselect())})}else{let s=n.activeItemIndex;n.onKeydown(e),this._multiple&&a&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==s&&n.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!gn(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{let n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return(r.value!=null||this.canSelectNullableOptions)&&this._compareWith(r.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof vu?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Hf(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=Vi(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(pt(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Vi(...this.options.map(n=>n._stateChanges)).pipe(pt(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,n){let r=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,e):e.indexOf(n)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let n;this.multiple?n=this.selected.map(r=>r.value):n=this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){e=n;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,n=e?e+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e||(e=this._valueId),e}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-select"]],contentQueries:function(n,r,a){if(n&1&&(ft(a,nN,5),ft(a,Rs,5),ft(a,xT,5)),n&2){let o;ve(o=ye())&&(r.customTrigger=o.first),ve(o=ye())&&(r.options=o),ve(o=ye())&&(r.optionGroups=o)}},viewQuery:function(n,r){if(n&1&&(lt(_$,5),lt(v$,5),lt(N0,5)),n&2){let a;ve(a=ye())&&(r.trigger=a.first),ve(a=ye())&&(r.panel=a.first),ve(a=ye())&&(r._overlayDir=a.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,r){n&1&&fe("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),n&2&&(Ge("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),xe("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Fe],disableRipple:[2,"disableRipple","disableRipple",Fe],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:oi(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Fe],placeholder:"placeholder",required:[2,"required","required",Fe],multiple:[2,"multiple","multiple",Fe],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Fe],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",oi],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",Fe]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Tt([{provide:gm,useExisting:i},{provide:wT,useExisting:i}]),ci],ngContentSelectors:b$,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,r){if(n&1){let a=mt();Ot(y$),P(0,"div",2,0),fe("click",function(){return Ae(a),Re(r.open())}),P(3,"div",3),rt(4,w$,2,1,"span",4)(5,C$,3,1,"span",5),V(),P(6,"div",6)(7,"div",7),Fn(),P(8,"svg",8),Ne(9,"path",9),V()()()(),ke(10,T$,3,10,"ng-template",10),fe("detach",function(){return Ae(a),Re(r.close())})("backdropClick",function(){return Ae(a),Re(r.close())})("overlayKeydown",function(s){return Ae(a),Re(r._handleOverlayKeydown(s))})}if(n&2){let a=wi(1);B(3),Ge("id",r._valueId),B(),at(r.empty?4:5),B(6),Z("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||a)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[vu,N0,sf],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return i})();var cp=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({providers:[iN],imports:[sa,ET,ot,Ta,Uo,ET,ot]})}return i})();var TT=()=>[];function k$(i,t){if(i&1&&(P(0,"span",26),Y(1),V()),i&2){let e=ee();B(),jt("",e.unmappedCount()," unmapped required")}}function I$(i,t){if(i&1&&(P(0,"mat-option",31),Y(1),V()),i&2){let e=t.$implicit,n=ee(2);Z("value",e.name),B(),Gk("",e.name," (",e.requiredMatches,"/",n.data.required.length," req)")}}function D$(i,t){if(i&1){let e=mt();P(0,"div",27)(1,"mat-select",28),Zn("ngModelChange",function(r){Ae(e);let a=ee();return Qn(a.selectedSheetName,r)||(a.selectedSheetName=r),Re(r)}),fe("selectionChange",function(){Ae(e);let r=ee();return Re(r.onSheetChange())}),ke(2,I$,2,4,"mat-option",29),V(),P(3,"button",30),fe("click",function(){Ae(e);let r=ee();return Re(r.remapCurrent())}),P(4,"mat-icon"),Y(5,"refresh"),V()()()}if(i&2){let e=ee();B(),Yn("ngModel",e.selectedSheetName),B(),Z("ngForOf",e.data.sheetOptions)}}function A$(i,t){if(i&1&&(P(0,"span",32),Y(1),V()),i&2){let e=ee();B(),Pd("",e.currentOption.requiredMatches,"/",e.data.required.length)}}function R$(i,t){i&1&&(P(0,"span",37),Y(1,"*"),V())}function M$(i,t){if(i&1&&(P(0,"mat-option",31),Y(1),V()),i&2){let e=t.$implicit;Z("value",e),B(),_t(e||"(blank)")}}function O$(i,t){if(i&1){let e=mt();P(0,"div",33)(1,"div",34),Y(2),ke(3,R$,2,0,"span",35),V(),P(4,"mat-select",36),Zn("ngModelChange",function(r){let a=Ae(e).$implicit,o=ee();return Qn(o.localMapping[a],r)||(o.localMapping[a]=r),Re(r)}),P(5,"mat-option",31),Y(6,"-- None --"),V(),ke(7,M$,2,2,"mat-option",29),V()()}if(i&2){let e=t.$implicit,n=ee();xe("missing",!n.localMapping[e]),B(2),jt("",e," "),B(),Z("ngIf",!n.localMapping[e]),B(),Yn("ngModel",n.localMapping[e]),B(),Z("value",null),B(2),Z("ngForOf",(n.currentOption==null?null:n.currentOption.headers)||n.data.headers||qi(7,TT))}}function F$(i,t){if(i&1&&(P(0,"span",38),Y(1),V()),i&2){let e=ee();B(),_t(e.currentOption.recognized-e.currentOption.requiredMatches)}}function P$(i,t){if(i&1&&(P(0,"mat-option",31),Y(1),V()),i&2){let e=t.$implicit;Z("value",e),B(),_t(e||"(blank)")}}function N$(i,t){if(i&1){let e=mt();P(0,"div",33)(1,"div",34),Y(2),V(),P(3,"mat-select",36),Zn("ngModelChange",function(r){let a=Ae(e).$implicit,o=ee();return Qn(o.localMapping[a],r)||(o.localMapping[a]=r),Re(r)}),P(4,"mat-option",31),Y(5,"-- None --"),V(),ke(6,P$,2,2,"mat-option",29),V()()}if(i&2){let e=t.$implicit,n=ee();B(2),_t(e),B(),Yn("ngModel",n.localMapping[e]),B(),Z("value",null),B(2),Z("ngForOf",(n.currentOption==null?null:n.currentOption.headers)||n.data.headers||qi(4,TT))}}function L$(i,t){if(i&1&&(P(0,"div",39),Y(1),V()),i&2){let e=t.$implicit,n=ee();xe("mapped",n.isMapped(e)),B(),_t(e||"(blank)")}}var lp=class i{constructor(t,e){this.data=t;this.ref=e;if(this.multiSheet=Array.isArray(t.sheetOptions)&&t.sheetOptions.length>0,this.multiSheet){t.sheetOptions.sort((r,a)=>a.requiredMatches!==r.requiredMatches?a.requiredMatches-r.requiredMatches:a.recognized!==r.recognized?a.recognized-r.recognized:r.name.localeCompare(a.name));let n=t.sheetOptions.find(r=>r.name===t.selected)||t.sheetOptions[0];this.applySheet(n)}else this.localMapping=ae({},t.mapping||{})}localMapping={};multiSheet=!1;selectedSheetName=null;currentOption=null;applySheet(t){this.currentOption=t,this.selectedSheetName=t.name,this.localMapping=ae({},t.mapping)}onSheetChange(){if(!this.data.sheetOptions)return;let t=this.data.sheetOptions.find(e=>e.name===this.selectedSheetName);t&&this.applySheet(t)}missingRequired(){return this.data.required.some(t=>!this.localMapping[t])}unmappedCount(){return this.data.required.filter(t=>!this.localMapping[t]).length}isMapped(t){return Object.values(this.localMapping).includes(t)}close(){this.ref.close()}confirm(){this.ref.close({mapping:this.localMapping,sheet:this.selectedSheetName||this.currentOption?.name})}remapCurrent(){if(!this.currentOption)return;let t=this.currentOption.headers||this.data.headers||[],e=t.map(o=>o.toLowerCase()),n={SampleID:["sample id","sampleid","id"],SampleDate:["sample date","date","sampledate","collection date"],Analyte:["analyte","substance","chemical"],TWA:["twa","time weighted average","twa value"],Result:["result","value","measurement"],Unit:["unit","units"]};for(let o of Object.keys(this.localMapping))delete this.localMapping[o];let r=new Set,a=(o,s)=>{for(let c of s){let l=e.indexOf(c.toLowerCase());if(l!==-1&&!r.has(t[l]))return this.localMapping[o]=t[l],r.add(t[l]),!0}return!1};for(let o of this.data.required)a(o,[o,...n[o]||[]]);for(let o of this.data.optional)this.localMapping[o]||a(o,[o,...n[o]||[]])}static \u0275fac=function(e){return new(e||i)(tt(Co),tt(ca))};static \u0275cmp=pe({type:i,selectors:[["app-column-mapping-dialog"]],decls:35,vars:9,consts:[["scrollRoot",""],["mat-dialog-title",""],[1,"dialog-scroll"],[1,"intro"],[1,"legend"],["class","badge unmapped","matTooltip","Still need to map required fields",4,"ngIf"],[1,"spacer"],["class","sheet-toolbar",4,"ngIf"],[1,"layout"],[1,"pane","form-pane"],[1,"section"],[1,"section-title"],["class","stat","matTooltip","Auto matched required columns",4,"ngIf"],[1,"field-grid"],["class","field-row",3,"missing",4,"ngFor","ngForOf"],["class","stat","matTooltip","Recognized optional columns",4,"ngIf"],[1,"field-grid","optional"],["class","field-row",4,"ngFor","ngForOf"],[1,"pane","headers-pane"],[1,"headers-title"],[1,"headers-list"],["class","header-chip",3,"mapped",4,"ngFor","ngForOf"],[1,"hint"],[1,"actions"],["mat-button","",3,"click"],["matButton","filled",3,"click","disabled"],["matTooltip","Still need to map required fields",1,"badge","unmapped"],[1,"sheet-toolbar"],["disableOptionCentering","",1,"sheet-dropdown",3,"ngModelChange","selectionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matTooltip","Re-run auto mapping",1,"remap-btn",3,"click"],[3,"value"],["matTooltip","Auto matched required columns",1,"stat"],[1,"field-row"],[1,"label"],["class","req-indicator",4,"ngIf"],["disableOptionCentering","","panelClass","mapping-panel","placeholder","Select column",1,"select",3,"ngModelChange","ngModel"],[1,"req-indicator"],["matTooltip","Recognized optional columns",1,"stat"],[1,"header-chip"]],template:function(e,n){if(e&1){let r=mt();P(0,"h2",1),Y(1,"Map Columns"),V(),P(2,"div",2,0)(4,"div",3)(5,"div",4),ke(6,k$,2,1,"span",5),Ne(7,"div",6),ke(8,D$,6,2,"div",7),V()(),P(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11),Y(13,"Required Fields "),ke(14,A$,2,2,"span",12),V(),P(15,"div",13),ke(16,O$,8,8,"div",14),V()(),P(17,"div",10)(18,"div",11),Y(19,"Optional Fields "),ke(20,F$,2,1,"span",15),V(),P(21,"div",16),ke(22,N$,7,5,"div",17),V()()(),P(23,"div",18)(24,"div",19),Y(25,"Sheet Headers"),V(),P(26,"div",20),ke(27,L$,2,3,"div",21),V(),P(28,"div",22),Y(29,"Mapped headers highlighted. Unused stay neutral."),V()()(),P(30,"div",23)(31,"button",24),fe("click",function(){return Ae(r),Re(n.close())}),Y(32,"Cancel"),V(),P(33,"button",25),fe("click",function(){return Ae(r),Re(n.confirm())}),Y(34,"Continue"),V()()()}e&2&&(B(6),Z("ngIf",n.unmappedCount()>0),B(2),Z("ngIf",n.multiSheet),B(6),Z("ngIf",n.currentOption),B(2),Z("ngForOf",n.data.required),B(4),Z("ngIf",n.currentOption),B(2),Z("ngForOf",n.data.optional),B(5),Z("ngForOf",(n.currentOption==null?null:n.currentOption.headers)||n.data.headers||qi(8,TT)),B(6),Z("disabled",n.missingRequired()))},dependencies:[ni,Ys,Ki,Sa,So,Za,li,vn,ra,cp,sp,Rs,_n,lr,Mr,Ja],styles:["[_nghost-%COMP%]{padding:16px;display:block;width:100%;color:#f5f7fa;box-sizing:border-box;height:100%}h2[_ngcontent-%COMP%]{margin:0 0 .65rem;font-weight:600;color:#fafafa;padding-right:12px}  .mat-mdc-dialog-surface{overflow:hidden}.dialog-scroll[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;padding-right:4px}.intro[_ngcontent-%COMP%]{margin-bottom:.6rem}.intro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .55rem;font-size:13px;line-height:1.4;color:#d0d4d9}.legend[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;align-items:center}.legend[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}.sheet-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.35rem}.remap-btn[_ngcontent-%COMP%]{width:36px;height:36px;line-height:36px}.badge[_ngcontent-%COMP%]{font-size:11px;padding:2px 8px;border-radius:14px;background:#2f3742;color:#dde3ea;letter-spacing:.5px;text-transform:uppercase;font-weight:600}.badge.required[_ngcontent-%COMP%]{background:#512da8}.badge.optional[_ngcontent-%COMP%]{background:#05627a}.badge.unmapped[_ngcontent-%COMP%]{background:#b71c1c}.sheet-select[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin:.4rem 0 1rem}.sheet-select[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;letter-spacing:.6px;color:#c5cad1}.sheet-dropdown[_ngcontent-%COMP%]{width:260px}.layout[_ngcontent-%COMP%]{display:flex;gap:1.4rem;min-width:0}.pane[_ngcontent-%COMP%]{background:#181a1f;border:1px solid #2e3339;border-radius:12px;padding:1rem 1.15rem;position:relative;flex:1;min-height:320px;box-shadow:0 2px 4px #00000080,0 0 0 1px #ffffff05 inset;min-width:0}.form-pane[_ngcontent-%COMP%]{flex:1.5}.headers-pane[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.headers-title[_ngcontent-%COMP%]{font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.6px;color:#c5cad1;margin-bottom:.55rem}.headers-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;overflow:auto;padding:4px 0;max-height:200px}.header-chip[_ngcontent-%COMP%]{background:#242a31;padding:5px 9px;border-radius:8px;font-size:11px;line-height:1;border:1px solid #384048;color:#cdd3da;transition:background .15s,color .15s,border-color .15s}.header-chip.mapped[_ngcontent-%COMP%]{background:#093a2f;border-color:#0fa97f;color:#b3ffe9}.section[_ngcontent-%COMP%]{margin-bottom:1.35rem}.section-title[_ngcontent-%COMP%]{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.55px;color:#9aa2ac;margin:0 0 .45rem;display:flex;align-items:center;gap:.5rem}.section-title[_ngcontent-%COMP%]   .mini[_ngcontent-%COMP%]{text-transform:none;letter-spacing:0;font-size:10px;font-weight:400;color:#7d858d}.field-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.field-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:160px 1fr;align-items:center;gap:.85rem;padding:.45rem .6rem;border:1px solid #30363d;border-radius:8px;background:#20252b;transition:border-color .15s,background .15s}.field-row[_ngcontent-%COMP%]:hover{border-color:#3d444c;background:#262c33}.field-row.missing[_ngcontent-%COMP%]{border-color:#a83a3a;background:#2c1b1d}.label[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#e2e6ea;letter-spacing:.3px}.field-row.missing[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#ffb3b3}.req-indicator[_ngcontent-%COMP%]{color:#ff7676;font-weight:600;margin-left:4px}.select[_ngcontent-%COMP%]{width:100%;--mat-select-panel-background-color:#1e2429}.mat-mdc-select-value[_ngcontent-%COMP%], .mat-mdc-select-arrow[_ngcontent-%COMP%]{color:#e5e9ed!important}.headers-pane[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{margin-top:auto;font-size:11px;color:#8a939c}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.85rem;margin-top:1.1rem;padding:0 4px 6px;position:sticky;bottom:0;background:linear-gradient(to bottom,#181a1f00,#181a1f 60%)}@media (max-width: 880px){.layout[_ngcontent-%COMP%]{flex-direction:column}.form-pane[_ngcontent-%COMP%]{flex:unset}[_nghost-%COMP%]{min-width:unset;width:100%}}"]})};var sL={};sL.version="0.18.5";var Ho=1200,_h=1252,V$=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],qT={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},KT=function(i){V$.indexOf(i)!=-1&&(_h=qT[0]=i)};function B$(){KT(1252)}var uo=function(i){Ho=i,KT(i)};function cL(){uo(1200),B$()}function NT(i){for(var t=[],e=0,n=i.length;e<n;++e)t[e]=i.charCodeAt(e);return t}function U$(i){for(var t=[],e=0;e<i.length>>1;++e)t[e]=String.fromCharCode(i.charCodeAt(2*e)+(i.charCodeAt(2*e+1)<<8));return t.join("")}function lL(i){for(var t=[],e=0;e<i.length>>1;++e)t[e]=String.fromCharCode(i.charCodeAt(2*e+1)+(i.charCodeAt(2*e)<<8));return t.join("")}var up=function(i){var t=i.charCodeAt(0),e=i.charCodeAt(1);return t==255&&e==254?U$(i.slice(2)):t==254&&e==255?lL(i.slice(2)):t==65279?i.slice(1):i},Bv=function(t){return String.fromCharCode(t)},rN=function(t){return String.fromCharCode(t)},di;var Dn=null,dp=!0,Uc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function aN(i){for(var t="",e=0,n=0,r=0,a=0,o=0,s=0,c=0,l=0;l<i.length;)e=i.charCodeAt(l++),a=e>>2,n=i.charCodeAt(l++),o=(e&3)<<4|n>>4,r=i.charCodeAt(l++),s=(n&15)<<2|r>>6,c=r&63,isNaN(n)?s=c=64:isNaN(r)&&(c=64),t+=Uc.charAt(a)+Uc.charAt(o)+Uc.charAt(s)+Uc.charAt(c);return t}function ga(i){var t="",e=0,n=0,r=0,a=0,o=0,s=0,c=0;i=i.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<i.length;)a=Uc.indexOf(i.charAt(l++)),o=Uc.indexOf(i.charAt(l++)),e=a<<2|o>>4,t+=String.fromCharCode(e),s=Uc.indexOf(i.charAt(l++)),n=(o&15)<<4|s>>2,s!==64&&(t+=String.fromCharCode(n)),c=Uc.indexOf(i.charAt(l++)),r=(s&3)<<6|c,c!==64&&(t+=String.fromCharCode(r));return t}var Gt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),pd=(function(){if(typeof Buffer<"u"){var i=!Buffer.from;if(!i)try{Buffer.from("foo","utf8")}catch{i=!0}return i?function(t,e){return e?new Buffer(t,e):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Hc(i){return Gt?Buffer.alloc?Buffer.alloc(i):new Buffer(i):typeof Uint8Array<"u"?new Uint8Array(i):new Array(i)}function oN(i){return Gt?Buffer.allocUnsafe?Buffer.allocUnsafe(i):new Buffer(i):typeof Uint8Array<"u"?new Uint8Array(i):new Array(i)}var lo=function(t){return Gt?pd(t,"binary"):t.split("").map(function(e){return e.charCodeAt(0)&255})};function gd(i){if(Array.isArray(i))return i.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],e=0;e<i.length;++e)t[e]=String.fromCharCode(i[e]);return t.join("")}function XT(i){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(i instanceof ArrayBuffer)return XT(new Uint8Array(i));for(var t=new Array(i.length),e=0;e<i.length;++e)t[e]=i[e];return t}var Bc=Gt?function(i){return Buffer.concat(i.map(function(t){return Buffer.isBuffer(t)?t:pd(t)}))}:function(i){if(typeof Uint8Array<"u"){var t=0,e=0;for(t=0;t<i.length;++t)e+=i[t].length;var n=new Uint8Array(e),r=0;for(t=0,e=0;t<i.length;e+=r,++t)if(r=i[t].length,i[t]instanceof Uint8Array)n.set(i[t],e);else{if(typeof i[t]=="string")throw"wtf";n.set(new Uint8Array(i[t]),e)}return n}return[].concat.apply([],i.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function z$(i){for(var t=[],e=0,n=i.length+250,r=Hc(i.length+255),a=0;a<i.length;++a){var o=i.charCodeAt(a);if(o<128)r[e++]=o;else if(o<2048)r[e++]=192|o>>6&31,r[e++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var s=i.charCodeAt(++a)&1023;r[e++]=240|o>>8&7,r[e++]=128|o>>2&63,r[e++]=128|s>>6&15|(o&3)<<4,r[e++]=128|s&63}else r[e++]=224|o>>12&15,r[e++]=128|o>>6&63,r[e++]=128|o&63;e>n&&(t.push(r.slice(0,e)),e=0,r=Hc(65535),n=65530)}return t.push(r.slice(0,e)),Bc(t)}var vr=/\u0000/g,hp=/[\u0001-\u0006]/g;function mh(i){for(var t="",e=i.length-1;e>=0;)t+=i.charAt(e--);return t}function ho(i,t){var e=""+i;return e.length>=t?e:nn("0",t-e.length)+e}function YT(i,t){var e=""+i;return e.length>=t?e:nn(" ",t-e.length)+e}function Kv(i,t){var e=""+i;return e.length>=t?e:e+nn(" ",t-e.length)}function j$(i,t){var e=""+Math.round(i);return e.length>=t?e:nn("0",t-e.length)+e}function H$(i,t){var e=""+i;return e.length>=t?e:nn("0",t-e.length)+e}var sN=Math.pow(2,32);function hh(i,t){if(i>sN||i<-sN)return j$(i,t);var e=Math.round(i);return H$(e,t)}function Xv(i,t){return t=t||0,i.length>=7+t&&(i.charCodeAt(t)|32)===103&&(i.charCodeAt(t+1)|32)===101&&(i.charCodeAt(t+2)|32)===110&&(i.charCodeAt(t+3)|32)===101&&(i.charCodeAt(t+4)|32)===114&&(i.charCodeAt(t+5)|32)===97&&(i.charCodeAt(t+6)|32)===108}var cN=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ST=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function W$(i){return i||(i={}),i[0]="General",i[1]="0",i[2]="0.00",i[3]="#,##0",i[4]="#,##0.00",i[9]="0%",i[10]="0.00%",i[11]="0.00E+00",i[12]="# ?/?",i[13]="# ??/??",i[14]="m/d/yy",i[15]="d-mmm-yy",i[16]="d-mmm",i[17]="mmm-yy",i[18]="h:mm AM/PM",i[19]="h:mm:ss AM/PM",i[20]="h:mm",i[21]="h:mm:ss",i[22]="m/d/yy h:mm",i[37]="#,##0 ;(#,##0)",i[38]="#,##0 ;[Red](#,##0)",i[39]="#,##0.00;(#,##0.00)",i[40]="#,##0.00;[Red](#,##0.00)",i[45]="mm:ss",i[46]="[h]:mm:ss",i[47]="mmss.0",i[48]="##0.0E+0",i[49]="@",i[56]='"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "',i}var Rt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "'},lN={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},$$={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Yv(i,t,e){for(var n=i<0?-1:1,r=i*n,a=0,o=1,s=0,c=1,l=0,d=0,h=Math.floor(r);l<t&&(h=Math.floor(r),s=h*o+a,d=h*l+c,!(r-h<5e-8));)r=1/(r-h),a=o,o=s,c=l,l=d;if(d>t&&(l>t?(d=c,s=a):(d=l,s=o)),!e)return[0,n*s,d];var f=Math.floor(n*s/d);return[f,n*s-f*d,d]}function ld(i,t,e){if(i>2958465||i<0)return null;var n=i|0,r=Math.floor(86400*(i-n)),a=0,o=[],s={D:n,T:r,u:86400*(i-n)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(n+=1462),s.u>.9999&&(s.u=0,++r==86400&&(s.T=r=0,++n,++s.D)),n===60)o=e?[1317,10,29]:[1900,2,29],a=3;else if(n===0)o=e?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),e&&(a=Q$(c,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=r%60,r=Math.floor(r/60),s.M=r%60,r=Math.floor(r/60),s.H=r,s.q=a,s}var dL=new Date(1899,11,31,0,0,0),G$=dL.getTime(),q$=new Date(1900,2,1,0,0,0);function uL(i,t){var e=i.getTime();return t?e-=1461*24*60*60*1e3:i>=q$&&(e+=1440*60*1e3),(e-(G$+(i.getTimezoneOffset()-dL.getTimezoneOffset())*6e4))/(1440*60*1e3)}function QT(i){return i.indexOf(".")==-1?i:i.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function K$(i){return i.indexOf("E")==-1?i:i.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function X$(i){var t=i<0?12:11,e=QT(i.toFixed(12));return e.length<=t||(e=i.toPrecision(10),e.length<=t)?e:i.toExponential(5)}function Y$(i){var t=QT(i.toFixed(11));return t.length>(i<0?12:11)||t==="0"||t==="-0"?i.toPrecision(6):t}function Cp(i){var t=Math.floor(Math.log(Math.abs(i))*Math.LOG10E),e;return t>=-4&&t<=-1?e=i.toPrecision(10+t):Math.abs(t)<=9?e=X$(i):t===10?e=i.toFixed(10).substr(0,12):e=Y$(i),QT(K$(e.toUpperCase()))}function hd(i,t){switch(typeof i){case"string":return i;case"boolean":return i?"TRUE":"FALSE";case"number":return(i|0)===i?i.toString(10):Cp(i);case"undefined":return"";case"object":if(i==null)return"";if(i instanceof Date)return Fa(14,uL(i,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+i)}function Q$(i,t){t[0]-=581;var e=i.getDay();return i<60&&(e=(e+6)%7),e}function Z$(i,t,e,n){var r="",a=0,o=0,s=e.y,c,l=0;switch(i){case 98:s=e.y+543;case 121:switch(t.length){case 1:case 2:c=s%100,l=2;break;default:c=s%1e4,l=4;break}break;case 109:switch(t.length){case 1:case 2:c=e.m,l=t.length;break;case 3:return ST[e.m-1][1];case 5:return ST[e.m-1][0];default:return ST[e.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=e.d,l=t.length;break;case 3:return cN[e.q][0];default:return cN[e.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(e.H+11)%12,l=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=e.H,l=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=e.M,l=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return e.u===0&&(t=="s"||t=="ss")?ho(e.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,a=Math.round(o*(e.S+e.u)),a>=60*o&&(a=0),t==="s"?a===0?"0":""+a/o:(r=ho(a,2+n),t==="ss"?r.substr(0,2):"."+r.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=e.D*24+e.H;break;case"[m]":case"[mm]":c=(e.D*24+e.H)*60+e.M;break;case"[s]":case"[ss]":c=((e.D*24+e.H)*60+e.M)*60+Math.round(e.S+e.u);break;default:throw"bad abstime format: "+t}l=t.length===3?1:2;break;case 101:c=s,l=1;break}var d=l>0?ho(c,l):"";return d}function zc(i){var t=3;if(i.length<=t)return i;for(var e=i.length%t,n=i.substr(0,e);e!=i.length;e+=t)n+=(n.length>0?",":"")+i.substr(e,t);return n}var hL=/%/g;function J$(i,t,e){var n=t.replace(hL,""),r=t.length-n.length;return Fs(i,n,e*Math.pow(10,2*r))+nn("%",r)}function eG(i,t,e){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Fs(i,t.substr(0,n),e/Math.pow(10,3*(t.length-n)))}function fL(i,t){var e,n=i.indexOf("E")-i.indexOf(".")-1;if(i.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+fL(i,-t);var r=i.indexOf(".");r===-1&&(r=i.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%r;if(a<0&&(a+=r),e=(t/Math.pow(10,a)).toPrecision(n+1+(r+a)%r),e.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(o-e.length+a):e+="E+"+(o-a);e.substr(0,2)==="0.";)e=e.charAt(0)+e.substr(2,r)+"."+e.substr(2+r),e=e.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,c,l,d){return c+l+d.substr(0,(r+a)%r)+"."+d.substr(a)+"E"})}else e=t.toExponential(n);return i.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),i.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}var mL=/# (\?+)( ?)\/( ?)(\d+)/;function tG(i,t,e){var n=parseInt(i[4],10),r=Math.round(t*n),a=Math.floor(r/n),o=r-a*n,s=n;return e+(a===0?"":""+a)+" "+(o===0?nn(" ",i[1].length+1+i[4].length):YT(o,i[1].length)+i[2]+"/"+i[3]+ho(s,i[4].length))}function iG(i,t,e){return e+(t===0?"":""+t)+nn(" ",i[1].length+2+i[4].length)}var pL=/^#*0*\.([0#]+)/,gL=/\).*[0#]/,_L=/\(###\) ###\\?-####/;function Fr(i){for(var t="",e,n=0;n!=i.length;++n)switch(e=i.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(e)}return t}function dN(i,t){var e=Math.pow(10,t);return""+Math.round(i*e)/e}function uN(i,t){var e=i-Math.floor(i),n=Math.pow(10,t);return t<(""+Math.round(e*n)).length?0:Math.round(e*n)}function nG(i,t){return t<(""+Math.round((i-Math.floor(i))*Math.pow(10,t))).length?1:0}function rG(i){return i<2147483647&&i>-2147483648?""+(i>=0?i|0:i-1|0):""+Math.floor(i)}function Ma(i,t,e){if(i.charCodeAt(0)===40&&!t.match(gL)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?Ma("n",n,e):"("+Ma("n",n,-e)+")"}if(t.charCodeAt(t.length-1)===44)return eG(i,t,e);if(t.indexOf("%")!==-1)return J$(i,t,e);if(t.indexOf("E")!==-1)return fL(t,e);if(t.charCodeAt(0)===36)return"$"+Ma(i,t.substr(t.charAt(1)==" "?2:1),e);var r,a,o,s,c=Math.abs(e),l=e<0?"-":"";if(t.match(/^00+$/))return l+hh(c,t.length);if(t.match(/^[#?]+$/))return r=hh(e,0),r==="0"&&(r=""),r.length>t.length?r:Fr(t.substr(0,t.length-r.length))+r;if(a=t.match(mL))return tG(a,c,l);if(t.match(/^#+0+$/))return l+hh(c,t.length-t.indexOf("0"));if(a=t.match(pL))return r=dN(e,a[1].length).replace(/^([^\.]+)$/,"$1."+Fr(a[1])).replace(/\.$/,"."+Fr(a[1])).replace(/\.(\d*)$/,function(v,_){return"."+_+nn("0",Fr(a[1]).length-_.length)}),t.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return l+dN(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return l+zc(hh(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+Ma(i,t,-e):zc(""+(Math.floor(e)+nG(e,a[1].length)))+"."+ho(uN(e,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return Ma(i,t.replace(/^#,#*,/,""),e);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=mh(Ma(i,t.replace(/[\\-]/g,""),e)),o=0,mh(mh(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<r.length?r.charAt(o++):v==="0"?"0":""}));if(t.match(_L))return r=Ma(i,"##########",e),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=Yv(c,Math.pow(10,o)-1,!1),r=""+l,d=Fs("n",a[1],s[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),r+=d+a[2]+"/"+a[3],d=Kv(s[2],o),d.length<a[4].length&&(d=Fr(a[4].substr(a[4].length-d.length))+d),r+=d,r;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),s=Yv(c,Math.pow(10,o)-1,!0),l+(s[0]||(s[1]?"":"0"))+" "+(s[1]?YT(s[1],o)+a[2]+"/"+a[3]+Kv(s[2],o):nn(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return r=hh(e,0),t.length<=r.length?r:Fr(t.substr(0,t.length-r.length))+r;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){r=""+e.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var h=t.indexOf(".")-o,f=t.length-r.length-h;return Fr(t.substr(0,h)+r+t.substr(t.length-f))}if(a=t.match(/^00,000\.([#0]*0)$/))return o=uN(e,a[1].length),e<0?"-"+Ma(i,t,-e):zc(rG(e)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?ho(0,3-v.length):"")+v})+"."+ho(o,a[1].length);switch(t){case"###,##0.00":return Ma(i,"#,##0.00",e);case"###,###":case"##,###":case"#,###":var m=zc(hh(c,0));return m!=="0"?l+m:"";case"###,###.00":return Ma(i,"###,##0.00",e).replace(/^0\./,".");case"#,###.00":return Ma(i,"#,##0.00",e).replace(/^0\./,".");default:}throw new Error("unsupported format |"+t+"|")}function aG(i,t,e){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Fs(i,t.substr(0,n),e/Math.pow(10,3*(t.length-n)))}function oG(i,t,e){var n=t.replace(hL,""),r=t.length-n.length;return Fs(i,n,e*Math.pow(10,2*r))+nn("%",r)}function vL(i,t){var e,n=i.indexOf("E")-i.indexOf(".")-1;if(i.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+vL(i,-t);var r=i.indexOf(".");r===-1&&(r=i.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%r;if(a<0&&(a+=r),e=(t/Math.pow(10,a)).toPrecision(n+1+(r+a)%r),!e.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(o-e.length+a):e+="E+"+(o-a),e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,c,l,d){return c+l+d.substr(0,(r+a)%r)+"."+d.substr(a)+"E"})}else e=t.toExponential(n);return i.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),i.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}function jo(i,t,e){if(i.charCodeAt(0)===40&&!t.match(gL)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?jo("n",n,e):"("+jo("n",n,-e)+")"}if(t.charCodeAt(t.length-1)===44)return aG(i,t,e);if(t.indexOf("%")!==-1)return oG(i,t,e);if(t.indexOf("E")!==-1)return vL(t,e);if(t.charCodeAt(0)===36)return"$"+jo(i,t.substr(t.charAt(1)==" "?2:1),e);var r,a,o,s,c=Math.abs(e),l=e<0?"-":"";if(t.match(/^00+$/))return l+ho(c,t.length);if(t.match(/^[#?]+$/))return r=""+e,e===0&&(r=""),r.length>t.length?r:Fr(t.substr(0,t.length-r.length))+r;if(a=t.match(mL))return iG(a,c,l);if(t.match(/^#+0+$/))return l+ho(c,t.length-t.indexOf("0"));if(a=t.match(pL))return r=(""+e).replace(/^([^\.]+)$/,"$1."+Fr(a[1])).replace(/\.$/,"."+Fr(a[1])),r=r.replace(/\.(\d*)$/,function(v,_){return"."+_+nn("0",Fr(a[1]).length-_.length)}),t.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return l+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return l+zc(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+jo(i,t,-e):zc(""+e)+"."+nn("0",a[1].length);if(a=t.match(/^#,#*,#0/))return jo(i,t.replace(/^#,#*,/,""),e);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=mh(jo(i,t.replace(/[\\-]/g,""),e)),o=0,mh(mh(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<r.length?r.charAt(o++):v==="0"?"0":""}));if(t.match(_L))return r=jo(i,"##########",e),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=Yv(c,Math.pow(10,o)-1,!1),r=""+l,d=Fs("n",a[1],s[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),r+=d+a[2]+"/"+a[3],d=Kv(s[2],o),d.length<a[4].length&&(d=Fr(a[4].substr(a[4].length-d.length))+d),r+=d,r;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),s=Yv(c,Math.pow(10,o)-1,!0),l+(s[0]||(s[1]?"":"0"))+" "+(s[1]?YT(s[1],o)+a[2]+"/"+a[3]+Kv(s[2],o):nn(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return r=""+e,t.length<=r.length?r:Fr(t.substr(0,t.length-r.length))+r;if(a=t.match(/^([#0]+)\.([#0]+)$/)){r=""+e.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var h=t.indexOf(".")-o,f=t.length-r.length-h;return Fr(t.substr(0,h)+r+t.substr(t.length-f))}if(a=t.match(/^00,000\.([#0]*0)$/))return e<0?"-"+jo(i,t,-e):zc(""+e).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?ho(0,3-v.length):"")+v})+"."+ho(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=zc(""+c);return m!=="0"?l+m:"";default:if(t.match(/\.[0#?]*$/))return jo(i,t.slice(0,t.lastIndexOf(".")),e)+Fr(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Fs(i,t,e){return(e|0)===e?jo(i,t,e):Ma(i,t,e)}function sG(i){for(var t=[],e=!1,n=0,r=0;n<i.length;++n)switch(i.charCodeAt(n)){case 34:e=!e;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=i.substr(r,n-r),r=n+1}if(t[t.length]=i.substr(r),e===!0)throw new Error("Format |"+i+"| unterminated string ");return t}var yL=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function bh(i){for(var t=0,e="",n="";t<i.length;)switch(e=i.charAt(t)){case"G":Xv(i,t)&&(t+=6),t++;break;case'"':for(;i.charCodeAt(++t)!==34&&t<i.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(i.charAt(t+1)==="1"||i.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4E0A":if(i.substr(t,3).toUpperCase()==="A/P"||i.substr(t,5).toUpperCase()==="AM/PM"||i.substr(t,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348")return!0;++t;break;case"[":for(n=e;i.charAt(t++)!=="]"&&t<i.length;)n+=i.charAt(t);if(n.match(yL))return!0;break;case".":case"0":case"#":for(;t<i.length&&("0#?.,E+-%".indexOf(e=i.charAt(++t))>-1||e=="\\"&&i.charAt(t+1)=="-"&&"0#".indexOf(i.charAt(t+2))>-1););break;case"?":for(;i.charAt(++t)===e;);break;case"*":++t,(i.charAt(t)==" "||i.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<i.length&&"0123456789".indexOf(i.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function cG(i,t,e,n){for(var r=[],a="",o=0,s="",c="t",l,d,h,f="H";o<i.length;)switch(s=i.charAt(o)){case"G":if(!Xv(i,o))throw new Error("unrecognized character "+s+" in "+i);r[r.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(h=i.charCodeAt(++o))!==34&&o<i.length;)a+=String.fromCharCode(h);r[r.length]={t:"t",v:a},++o;break;case"\\":var m=i.charAt(++o),v=m==="("||m===")"?m:"t";r[r.length]={t:v,v:m},++o;break;case"_":r[r.length]={t:"t",v:" "},o+=2;break;case"@":r[r.length]={t:"T",v:t},++o;break;case"B":case"b":if(i.charAt(o+1)==="1"||i.charAt(o+1)==="2"){if(l==null&&(l=ld(t,e,i.charAt(o+1)==="2"),l==null))return"";r[r.length]={t:"X",v:i.substr(o,2)},c=s,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":s=s.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||l==null&&(l=ld(t,e),l==null))return"";for(a=s;++o<i.length&&i.charAt(o).toLowerCase()===s;)a+=s;s==="m"&&c.toLowerCase()==="h"&&(s="M"),s==="h"&&(s=f),r[r.length]={t:s,v:a},c=s;break;case"A":case"a":case"\u4E0A":var _={t:s,v:s};if(l==null&&(l=ld(t,e)),i.substr(o,3).toUpperCase()==="A/P"?(l!=null&&(_.v=l.H>=12?"P":"A"),_.t="T",f="h",o+=3):i.substr(o,5).toUpperCase()==="AM/PM"?(l!=null&&(_.v=l.H>=12?"PM":"AM"),_.t="T",o+=5,f="h"):i.substr(o,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348"?(l!=null&&(_.v=l.H>=12?"\u4E0B\u5348":"\u4E0A\u5348"),_.t="T",o+=5,f="h"):(_.t="t",++o),l==null&&_.t==="T")return"";r[r.length]=_,c=s;break;case"[":for(a=s;i.charAt(o++)!=="]"&&o<i.length;)a+=i.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(yL)){if(l==null&&(l=ld(t,e),l==null))return"";r[r.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",bh(i)||(r[r.length]={t:"t",v:a}));break;case".":if(l!=null){for(a=s;++o<i.length&&(s=i.charAt(o))==="0";)a+=s;r[r.length]={t:"s",v:a};break}case"0":case"#":for(a=s;++o<i.length&&"0#?.,E+-%".indexOf(s=i.charAt(o))>-1;)a+=s;r[r.length]={t:"n",v:a};break;case"?":for(a=s;i.charAt(++o)===s;)a+=s;r[r.length]={t:s,v:a},c=s;break;case"*":++o,(i.charAt(o)==" "||i.charAt(o)=="*")&&++o;break;case"(":case")":r[r.length]={t:n===1?"t":s,v:s},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=s;o<i.length&&"0123456789".indexOf(i.charAt(++o))>-1;)a+=i.charAt(o);r[r.length]={t:"D",v:a};break;case" ":r[r.length]={t:s,v:s},++o;break;case"$":r[r.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=\u20ACacfijklopqrtuvwxzP".indexOf(s)===-1)throw new Error("unrecognized character "+s+" in "+i);r[r.length]={t:"t",v:s},++o;break}var y=0,S=0,D;for(o=r.length-1,c="t";o>=0;--o)switch(r[o].t){case"h":case"H":r[o].t=f,c="h",y<1&&(y=1);break;case"s":(D=r[o].v.match(/\.0+$/))&&(S=Math.max(S,D[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":c=r[o].t;break;case"m":c==="s"&&(r[o].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&r[o].v.match(/[Hh]/)&&(y=1),y<2&&r[o].v.match(/[Mm]/)&&(y=2),y<3&&r[o].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H);break;case 2:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M);break}var T="",G;for(o=0;o<r.length;++o)switch(r[o].t){case"t":case"T":case" ":case"D":break;case"X":r[o].v="",r[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[o].v=Z$(r[o].t.charCodeAt(0),r[o].v,l,S),r[o].t="t";break;case"n":case"?":for(G=o+1;r[G]!=null&&((s=r[G].t)==="?"||s==="D"||(s===" "||s==="t")&&r[G+1]!=null&&(r[G+1].t==="?"||r[G+1].t==="t"&&r[G+1].v==="/")||r[o].t==="("&&(s===" "||s==="n"||s===")")||s==="t"&&(r[G].v==="/"||r[G].v===" "&&r[G+1]!=null&&r[G+1].t=="?"));)r[o].v+=r[G].v,r[G]={v:"",t:";"},++G;T+=r[o].v,o=G-1;break;case"G":r[o].t="t",r[o].v=hd(t,e);break}var K="",j,w;if(T.length>0){T.charCodeAt(0)==40?(j=t<0&&T.charCodeAt(0)===45?-t:t,w=Fs("n",T,j)):(j=t<0&&n>1?-t:t,w=Fs("n",T,j),j<0&&r[0]&&r[0].t=="t"&&(w=w.substr(1),r[0].v="-"+r[0].v)),G=w.length-1;var x=r.length;for(o=0;o<r.length;++o)if(r[o]!=null&&r[o].t!="t"&&r[o].v.indexOf(".")>-1){x=o;break}var E=r.length;if(x===r.length&&w.indexOf("E")===-1){for(o=r.length-1;o>=0;--o)r[o]==null||"n?".indexOf(r[o].t)===-1||(G>=r[o].v.length-1?(G-=r[o].v.length,r[o].v=w.substr(G+1,r[o].v.length)):G<0?r[o].v="":(r[o].v=w.substr(0,G+1),G=-1),r[o].t="t",E=o);G>=0&&E<r.length&&(r[E].v=w.substr(0,G+1)+r[E].v)}else if(x!==r.length&&w.indexOf("E")===-1){for(G=w.indexOf(".")-1,o=x;o>=0;--o)if(!(r[o]==null||"n?".indexOf(r[o].t)===-1)){for(d=r[o].v.indexOf(".")>-1&&o===x?r[o].v.indexOf(".")-1:r[o].v.length-1,K=r[o].v.substr(d+1);d>=0;--d)G>=0&&(r[o].v.charAt(d)==="0"||r[o].v.charAt(d)==="#")&&(K=w.charAt(G--)+K);r[o].v=K,r[o].t="t",E=o}for(G>=0&&E<r.length&&(r[E].v=w.substr(0,G+1)+r[E].v),G=w.indexOf(".")+1,o=x;o<r.length;++o)if(!(r[o]==null||"n?(".indexOf(r[o].t)===-1&&o!==x)){for(d=r[o].v.indexOf(".")>-1&&o===x?r[o].v.indexOf(".")+1:0,K=r[o].v.substr(0,d);d<r[o].v.length;++d)G<w.length&&(K+=w.charAt(G++));r[o].v=K,r[o].t="t",E=o}}}for(o=0;o<r.length;++o)r[o]!=null&&"n?".indexOf(r[o].t)>-1&&(j=n>1&&t<0&&o>0&&r[o-1].v==="-"?-t:t,r[o].v=Fs(r[o].t,r[o].v,j),r[o].t="t");var A="";for(o=0;o!==r.length;++o)r[o]!=null&&(A+=r[o].v);return A}var hN=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function fN(i,t){if(t==null)return!1;var e=parseFloat(t[2]);switch(t[1]){case"=":if(i==e)return!0;break;case">":if(i>e)return!0;break;case"<":if(i<e)return!0;break;case"<>":if(i!=e)return!0;break;case">=":if(i>=e)return!0;break;case"<=":if(i<=e)return!0;break}return!1}function lG(i,t){var e=sG(i),n=e.length,r=e[n-1].indexOf("@");if(n<4&&r>-1&&--n,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if(typeof t!="number")return[4,e.length===4||r>-1?e[e.length-1]:"@"];switch(e.length){case 1:e=r>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=r>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=r>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"];break;case 4:break}var a=t>0?e[0]:t<0?e[1]:e[2];if(e[0].indexOf("[")===-1&&e[1].indexOf("[")===-1)return[n,a];if(e[0].match(/\[[=<>]/)!=null||e[1].match(/\[[=<>]/)!=null){var o=e[0].match(hN),s=e[1].match(hN);return fN(t,o)?[n,e[0]]:fN(t,s)?[n,e[1]]:[n,e[o!=null&&s!=null?2:1]]}return[n,a]}function Fa(i,t,e){e==null&&(e={});var n="";switch(typeof i){case"string":i=="m/d/yy"&&e.dateNF?n=e.dateNF:n=i;break;case"number":i==14&&e.dateNF?n=e.dateNF:n=(e.table!=null?e.table:Rt)[i],n==null&&(n=e.table&&e.table[lN[i]]||Rt[lN[i]]),n==null&&(n=$$[i]||"General");break}if(Xv(n,0))return hd(t,e);t instanceof Date&&(t=uL(t,e.date1904));var r=lG(n,t);if(Xv(r[1]))return hd(t,e);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return cG(r[1],t,e,r[0])}function dd(i,t){if(typeof t!="number"){t=+t||-1;for(var e=0;e<392;++e){if(Rt[e]==null){t<0&&(t=e);continue}if(Rt[e]==i){t=e;break}}t<0&&(t=391)}return Rt[t]=i,t}function bL(){Rt=W$()}var dG={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},wL=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function uG(i){var t=typeof i=="number"?Rt[i]:i;return t=t.replace(wL,"(\\d+)"),new RegExp("^"+t+"$")}function hG(i,t,e){var n=-1,r=-1,a=-1,o=-1,s=-1,c=-1;(t.match(wL)||[]).forEach(function(h,f){var m=parseInt(e[f+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=m;break;case"d":a=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?s=m:r=m;break}}),c>=0&&s==-1&&r>=0&&(s=r,r=-1);var l=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);l.length==7&&(l="0"+l),l.length==8&&(l="20"+l);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&s==-1&&c==-1?l:n==-1&&r==-1&&a==-1?d:l+"T"+d}var fG=(function(){var i={};i.version="1.2.0";function t(){for(var w=0,x=new Array(256),E=0;E!=256;++E)w=E,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,x[E]=w;return typeof Int32Array<"u"?new Int32Array(x):x}var e=t();function n(w){var x=0,E=0,A=0,R=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(A=0;A!=256;++A)R[A]=w[A];for(A=0;A!=256;++A)for(E=w[A],x=256+A;x<4096;x+=256)E=R[x]=E>>>8^w[E&255];var k=[];for(A=1;A!=16;++A)k[A-1]=typeof Int32Array<"u"?R.subarray(A*256,A*256+256):R.slice(A*256,A*256+256);return k}var r=n(e),a=r[0],o=r[1],s=r[2],c=r[3],l=r[4],d=r[5],h=r[6],f=r[7],m=r[8],v=r[9],_=r[10],y=r[11],S=r[12],D=r[13],T=r[14];function G(w,x){for(var E=x^-1,A=0,R=w.length;A<R;)E=E>>>8^e[(E^w.charCodeAt(A++))&255];return~E}function K(w,x){for(var E=x^-1,A=w.length-15,R=0;R<A;)E=T[w[R++]^E&255]^D[w[R++]^E>>8&255]^S[w[R++]^E>>16&255]^y[w[R++]^E>>>24]^_[w[R++]]^v[w[R++]]^m[w[R++]]^f[w[R++]]^h[w[R++]]^d[w[R++]]^l[w[R++]]^c[w[R++]]^s[w[R++]]^o[w[R++]]^a[w[R++]]^e[w[R++]];for(A+=15;R<A;)E=E>>>8^e[(E^w[R++])&255];return~E}function j(w,x){for(var E=x^-1,A=0,R=w.length,k=0,O=0;A<R;)k=w.charCodeAt(A++),k<128?E=E>>>8^e[(E^k)&255]:k<2048?(E=E>>>8^e[(E^(192|k>>6&31))&255],E=E>>>8^e[(E^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,O=w.charCodeAt(A++)&1023,E=E>>>8^e[(E^(240|k>>8&7))&255],E=E>>>8^e[(E^(128|k>>2&63))&255],E=E>>>8^e[(E^(128|O>>6&15|(k&3)<<4))&255],E=E>>>8^e[(E^(128|O&63))&255]):(E=E>>>8^e[(E^(224|k>>12&15))&255],E=E>>>8^e[(E^(128|k>>6&63))&255],E=E>>>8^e[(E^(128|k&63))&255]);return~E}return i.table=e,i.bstr=G,i.buf=K,i.str=j,i})(),Qt=(function(){var t={};t.version="1.2.1";function e(C,L){for(var M=C.split("/"),F=L.split("/"),U=0,z=0,ie=Math.min(M.length,F.length);U<ie;++U){if(z=M[U].length-F[U].length)return z;if(M[U]!=F[U])return M[U]<F[U]?-1:1}return M.length-F.length}function n(C){if(C.charAt(C.length-1)=="/")return C.slice(0,-1).indexOf("/")===-1?C:n(C.slice(0,-1));var L=C.lastIndexOf("/");return L===-1?C:C.slice(0,L+1)}function r(C){if(C.charAt(C.length-1)=="/")return r(C.slice(0,-1));var L=C.lastIndexOf("/");return L===-1?C:C.slice(L+1)}function a(C,L){typeof L=="string"&&(L=new Date(L));var M=L.getHours();M=M<<6|L.getMinutes(),M=M<<5|L.getSeconds()>>>1,C.write_shift(2,M);var F=L.getFullYear()-1980;F=F<<4|L.getMonth()+1,F=F<<5|L.getDate(),C.write_shift(2,F)}function o(C){var L=C.read_shift(2)&65535,M=C.read_shift(2)&65535,F=new Date,U=M&31;M>>>=5;var z=M&15;M>>>=4,F.setMilliseconds(0),F.setFullYear(M+1980),F.setMonth(z-1),F.setDate(U);var ie=L&31;L>>>=5;var ce=L&63;return L>>>=6,F.setHours(L),F.setMinutes(ce),F.setSeconds(ie<<1),F}function s(C){ir(C,0);for(var L={},M=0;C.l<=C.length-4;){var F=C.read_shift(2),U=C.read_shift(2),z=C.l+U,ie={};switch(F){case 21589:M=C.read_shift(1),M&1&&(ie.mtime=C.read_shift(4)),U>5&&(M&2&&(ie.atime=C.read_shift(4)),M&4&&(ie.ctime=C.read_shift(4))),ie.mtime&&(ie.mt=new Date(ie.mtime*1e3));break}C.l=z,L[F]=ie}return L}var c;function l(){return c||(c={})}function d(C,L){if(C[0]==80&&C[1]==75)return Ph(C,L);if((C[0]|32)==109&&(C[1]|32)==105)return Yc(C,L);if(C.length<512)throw new Error("CFB file size "+C.length+" < 512");var M=3,F=512,U=0,z=0,ie=0,ce=0,te=0,ne=[],re=C.slice(0,512);ir(re,0);var we=h(re);switch(M=we[0],M){case 3:F=512;break;case 4:F=4096;break;case 0:if(we[1]==0)return Ph(C,L);default:throw new Error("Major Version: Expected 3 or 4 saw "+M)}F!==512&&(re=C.slice(0,F),ir(re,28));var Te=C.slice(0,F);f(re,M);var Ze=re.read_shift(4,"i");if(M===3&&Ze!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ze);re.l+=4,ie=re.read_shift(4,"i"),re.l+=4,re.chk("00100000","Mini Stream Cutoff Size: "),ce=re.read_shift(4,"i"),U=re.read_shift(4,"i"),te=re.read_shift(4,"i"),z=re.read_shift(4,"i");for(var Se=-1,Pe=0;Pe<109&&(Se=re.read_shift(4,"i"),!(Se<0));++Pe)ne[Pe]=Se;var gt=m(C,F);y(te,z,gt,F,ne);var hi=D(gt,ie,ne,F);hi[ie].name="!Directory",U>0&&ce!==O&&(hi[ce].name="!MiniFAT"),hi[ne[0]].name="!FAT",hi.fat_addrs=ne,hi.ssz=F;var On={},Ti=[],an=[],Ko=[];T(ie,hi,gt,Ti,U,On,an,ce),v(an,Ko,Ti),Ti.shift();var Jc={FileIndex:an,FullPaths:Ko};return L&&L.raw&&(Jc.raw={header:Te,sectors:gt}),Jc}function h(C){if(C[C.l]==80&&C[C.l+1]==75)return[0,0];C.chk(Ke,"Header Signature: "),C.l+=16;var L=C.read_shift(2,"u");return[C.read_shift(2,"u"),L]}function f(C,L){var M=9;switch(C.l+=2,M=C.read_shift(2)){case 9:if(L!=3)throw new Error("Sector Shift: Expected 9 saw "+M);break;case 12:if(L!=4)throw new Error("Sector Shift: Expected 12 saw "+M);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+M)}C.chk("0600","Mini Sector Shift: "),C.chk("000000000000","Reserved: ")}function m(C,L){for(var M=Math.ceil(C.length/L)-1,F=[],U=1;U<M;++U)F[U-1]=C.slice(U*L,(U+1)*L);return F[M-1]=C.slice(M*L),F}function v(C,L,M){for(var F=0,U=0,z=0,ie=0,ce=0,te=M.length,ne=[],re=[];F<te;++F)ne[F]=re[F]=F,L[F]=M[F];for(;ce<re.length;++ce)F=re[ce],U=C[F].L,z=C[F].R,ie=C[F].C,ne[F]===F&&(U!==-1&&ne[U]!==U&&(ne[F]=ne[U]),z!==-1&&ne[z]!==z&&(ne[F]=ne[z])),ie!==-1&&(ne[ie]=F),U!==-1&&F!=ne[F]&&(ne[U]=ne[F],re.lastIndexOf(U)<ce&&re.push(U)),z!==-1&&F!=ne[F]&&(ne[z]=ne[F],re.lastIndexOf(z)<ce&&re.push(z));for(F=1;F<te;++F)ne[F]===F&&(z!==-1&&ne[z]!==z?ne[F]=ne[z]:U!==-1&&ne[U]!==U&&(ne[F]=ne[U]));for(F=1;F<te;++F)if(C[F].type!==0){if(ce=F,ce!=ne[ce])do ce=ne[ce],L[F]=L[ce]+"/"+L[F];while(ce!==0&&ne[ce]!==-1&&ce!=ne[ce]);ne[F]=-1}for(L[0]+="/",F=1;F<te;++F)C[F].type!==2&&(L[F]+="/")}function _(C,L,M){for(var F=C.start,U=C.size,z=[],ie=F;M&&U>0&&ie>=0;)z.push(L.slice(ie*k,ie*k+k)),U-=k,ie=cd(M,ie*4);return z.length===0?In(0):Bc(z).slice(0,C.size)}function y(C,L,M,F,U){var z=O;if(C===O){if(L!==0)throw new Error("DIFAT chain shorter than expected")}else if(C!==-1){var ie=M[C],ce=(F>>>2)-1;if(!ie)return;for(var te=0;te<ce&&(z=cd(ie,te*4))!==O;++te)U.push(z);y(cd(ie,F-4),L-1,M,F,U)}}function S(C,L,M,F,U){var z=[],ie=[];U||(U=[]);var ce=F-1,te=0,ne=0;for(te=L;te>=0;){U[te]=!0,z[z.length]=te,ie.push(C[te]);var re=M[Math.floor(te*4/F)];if(ne=te*4&ce,F<4+ne)throw new Error("FAT boundary crossed: "+te+" 4 "+F);if(!C[re])break;te=cd(C[re],ne)}return{nodes:z,data:CN([ie])}}function D(C,L,M,F){var U=C.length,z=[],ie=[],ce=[],te=[],ne=F-1,re=0,we=0,Te=0,Ze=0;for(re=0;re<U;++re)if(ce=[],Te=re+L,Te>=U&&(Te-=U),!ie[Te]){te=[];var Se=[];for(we=Te;we>=0;){Se[we]=!0,ie[we]=!0,ce[ce.length]=we,te.push(C[we]);var Pe=M[Math.floor(we*4/F)];if(Ze=we*4&ne,F<4+Ze)throw new Error("FAT boundary crossed: "+we+" 4 "+F);if(!C[Pe]||(we=cd(C[Pe],Ze),Se[we]))break}z[Te]={nodes:ce,data:CN([te])}}return z}function T(C,L,M,F,U,z,ie,ce){for(var te=0,ne=F.length?2:0,re=L[C].data,we=0,Te=0,Ze;we<re.length;we+=128){var Se=re.slice(we,we+128);ir(Se,64),Te=Se.read_shift(2),Ze=oy(Se,0,Te-ne),F.push(Ze);var Pe={name:Ze,type:Se.read_shift(1),color:Se.read_shift(1),L:Se.read_shift(4,"i"),R:Se.read_shift(4,"i"),C:Se.read_shift(4,"i"),clsid:Se.read_shift(16),state:Se.read_shift(4,"i"),start:0,size:0},gt=Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2);gt!==0&&(Pe.ct=G(Se,Se.l-8));var hi=Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2);hi!==0&&(Pe.mt=G(Se,Se.l-8)),Pe.start=Se.read_shift(4,"i"),Pe.size=Se.read_shift(4,"i"),Pe.size<0&&Pe.start<0&&(Pe.size=Pe.type=0,Pe.start=O,Pe.name=""),Pe.type===5?(te=Pe.start,U>0&&te!==O&&(L[te].name="!StreamData")):Pe.size>=4096?(Pe.storage="fat",L[Pe.start]===void 0&&(L[Pe.start]=S(M,Pe.start,L.fat_addrs,L.ssz)),L[Pe.start].name=Pe.name,Pe.content=L[Pe.start].data.slice(0,Pe.size)):(Pe.storage="minifat",Pe.size<0?Pe.size=0:te!==O&&Pe.start!==O&&L[te]&&(Pe.content=_(Pe,L[te].data,(L[ce]||{}).data))),Pe.content&&ir(Pe.content,0),z[Ze]=Pe,ie.push(Pe)}}function G(C,L){return new Date((jn(C,L+4)/1e7*Math.pow(2,32)+jn(C,L)/1e7-11644473600)*1e3)}function K(C,L){return l(),d(c.readFileSync(C),L)}function j(C,L){var M=L&&L.type;switch(M||Gt&&Buffer.isBuffer(C)&&(M="buffer"),M||"base64"){case"file":return K(C,L);case"base64":return d(lo(ga(C)),L);case"binary":return d(lo(C),L)}return d(C,L)}function w(C,L){var M=L||{},F=M.root||"Root Entry";if(C.FullPaths||(C.FullPaths=[]),C.FileIndex||(C.FileIndex=[]),C.FullPaths.length!==C.FileIndex.length)throw new Error("inconsistent CFB structure");C.FullPaths.length===0&&(C.FullPaths[0]=F+"/",C.FileIndex[0]={name:F,type:5}),M.CLSID&&(C.FileIndex[0].clsid=M.CLSID),x(C)}function x(C){var L="Sh33tJ5";if(!Qt.find(C,"/"+L)){var M=In(4);M[0]=55,M[1]=M[3]=50,M[2]=54,C.FileIndex.push({name:L,type:2,content:M,size:4,L:69,R:69,C:69}),C.FullPaths.push(C.FullPaths[0]+L),E(C)}}function E(C,L){w(C);for(var M=!1,F=!1,U=C.FullPaths.length-1;U>=0;--U){var z=C.FileIndex[U];switch(z.type){case 0:F?M=!0:(C.FileIndex.pop(),C.FullPaths.pop());break;case 1:case 2:case 5:F=!0,isNaN(z.R*z.L*z.C)&&(M=!0),z.R>-1&&z.L>-1&&z.R==z.L&&(M=!0);break;default:M=!0;break}}if(!(!M&&!L)){var ie=new Date(1987,1,19),ce=0,te=Object.create?Object.create(null):{},ne=[];for(U=0;U<C.FullPaths.length;++U)te[C.FullPaths[U]]=!0,C.FileIndex[U].type!==0&&ne.push([C.FullPaths[U],C.FileIndex[U]]);for(U=0;U<ne.length;++U){var re=n(ne[U][0]);F=te[re],F||(ne.push([re,{name:r(re).replace("/",""),type:1,clsid:ct,ct:ie,mt:ie,content:null}]),te[re]=!0)}for(ne.sort(function(Ze,Se){return e(Ze[0],Se[0])}),C.FullPaths=[],C.FileIndex=[],U=0;U<ne.length;++U)C.FullPaths[U]=ne[U][0],C.FileIndex[U]=ne[U][1];for(U=0;U<ne.length;++U){var we=C.FileIndex[U],Te=C.FullPaths[U];if(we.name=r(Te).replace("/",""),we.L=we.R=we.C=-(we.color=1),we.size=we.content?we.content.length:0,we.start=0,we.clsid=we.clsid||ct,U===0)we.C=ne.length>1?1:-1,we.size=0,we.type=5;else if(Te.slice(-1)=="/"){for(ce=U+1;ce<ne.length&&n(C.FullPaths[ce])!=Te;++ce);for(we.C=ce>=ne.length?-1:ce,ce=U+1;ce<ne.length&&n(C.FullPaths[ce])!=n(Te);++ce);we.R=ce>=ne.length?-1:ce,we.type=1}else n(C.FullPaths[U+1]||"")==n(Te)&&(we.R=U+1),we.type=2}}}function A(C,L){var M=L||{};if(M.fileType=="mad")return Kp(C,M);switch(E(C),M.fileType){case"zip":return Xc(C,M)}var F=(function(Ze){for(var Se=0,Pe=0,gt=0;gt<Ze.FileIndex.length;++gt){var hi=Ze.FileIndex[gt];if(hi.content){var On=hi.content.length;On>0&&(On<4096?Se+=On+63>>6:Pe+=On+511>>9)}}for(var Ti=Ze.FullPaths.length+3>>2,an=Se+7>>3,Ko=Se+127>>7,Jc=an+Pe+Ti+Ko,go=Jc+127>>7,Cd=go<=109?0:Math.ceil((go-109)/127);Jc+go+Cd+127>>7>go;)Cd=++go<=109?0:Math.ceil((go-109)/127);var va=[1,Cd,go,Ko,Ti,Pe,Se,0];return Ze.FileIndex[0].size=Se<<6,va[7]=(Ze.FileIndex[0].start=va[0]+va[1]+va[2]+va[3]+va[4]+va[5])+(va[6]+7>>3),va})(C),U=In(F[7]<<9),z=0,ie=0;{for(z=0;z<8;++z)U.write_shift(1,Ie[z]);for(z=0;z<8;++z)U.write_shift(2,0);for(U.write_shift(2,62),U.write_shift(2,3),U.write_shift(2,65534),U.write_shift(2,9),U.write_shift(2,6),z=0;z<3;++z)U.write_shift(2,0);for(U.write_shift(4,0),U.write_shift(4,F[2]),U.write_shift(4,F[0]+F[1]+F[2]+F[3]-1),U.write_shift(4,0),U.write_shift(4,4096),U.write_shift(4,F[3]?F[0]+F[1]+F[2]-1:O),U.write_shift(4,F[3]),U.write_shift(-4,F[1]?F[0]-1:O),U.write_shift(4,F[1]),z=0;z<109;++z)U.write_shift(-4,z<F[2]?F[1]+z:-1)}if(F[1])for(ie=0;ie<F[1];++ie){for(;z<236+ie*127;++z)U.write_shift(-4,z<F[2]?F[1]+z:-1);U.write_shift(-4,ie===F[1]-1?O:ie+1)}var ce=function(Ze){for(ie+=Ze;z<ie-1;++z)U.write_shift(-4,z+1);Ze&&(++z,U.write_shift(-4,O))};for(ie=z=0,ie+=F[1];z<ie;++z)U.write_shift(-4,Ye.DIFSECT);for(ie+=F[2];z<ie;++z)U.write_shift(-4,Ye.FATSECT);ce(F[3]),ce(F[4]);for(var te=0,ne=0,re=C.FileIndex[0];te<C.FileIndex.length;++te)re=C.FileIndex[te],re.content&&(ne=re.content.length,!(ne<4096)&&(re.start=ie,ce(ne+511>>9)));for(ce(F[6]+7>>3);U.l&511;)U.write_shift(-4,Ye.ENDOFCHAIN);for(ie=z=0,te=0;te<C.FileIndex.length;++te)re=C.FileIndex[te],re.content&&(ne=re.content.length,!(!ne||ne>=4096)&&(re.start=ie,ce(ne+63>>6)));for(;U.l&511;)U.write_shift(-4,Ye.ENDOFCHAIN);for(z=0;z<F[4]<<2;++z){var we=C.FullPaths[z];if(!we||we.length===0){for(te=0;te<17;++te)U.write_shift(4,0);for(te=0;te<3;++te)U.write_shift(4,-1);for(te=0;te<12;++te)U.write_shift(4,0);continue}re=C.FileIndex[z],z===0&&(re.start=re.size?re.start-1:O);var Te=z===0&&M.root||re.name;if(ne=2*(Te.length+1),U.write_shift(64,Te,"utf16le"),U.write_shift(2,ne),U.write_shift(1,re.type),U.write_shift(1,re.color),U.write_shift(-4,re.L),U.write_shift(-4,re.R),U.write_shift(-4,re.C),re.clsid)U.write_shift(16,re.clsid,"hex");else for(te=0;te<4;++te)U.write_shift(4,0);U.write_shift(4,re.state||0),U.write_shift(4,0),U.write_shift(4,0),U.write_shift(4,0),U.write_shift(4,0),U.write_shift(4,re.start),U.write_shift(4,re.size),U.write_shift(4,0)}for(z=1;z<C.FileIndex.length;++z)if(re=C.FileIndex[z],re.size>=4096)if(U.l=re.start+1<<9,Gt&&Buffer.isBuffer(re.content))re.content.copy(U,U.l,0,re.size),U.l+=re.size+511&-512;else{for(te=0;te<re.size;++te)U.write_shift(1,re.content[te]);for(;te&511;++te)U.write_shift(1,0)}for(z=1;z<C.FileIndex.length;++z)if(re=C.FileIndex[z],re.size>0&&re.size<4096)if(Gt&&Buffer.isBuffer(re.content))re.content.copy(U,U.l,0,re.size),U.l+=re.size+63&-64;else{for(te=0;te<re.size;++te)U.write_shift(1,re.content[te]);for(;te&63;++te)U.write_shift(1,0)}if(Gt)U.l=U.length;else for(;U.l<U.length;)U.write_shift(1,0);return U}function R(C,L){var M=C.FullPaths.map(function(te){return te.toUpperCase()}),F=M.map(function(te){var ne=te.split("/");return ne[ne.length-(te.slice(-1)=="/"?2:1)]}),U=!1;L.charCodeAt(0)===47?(U=!0,L=M[0].slice(0,-1)+L):U=L.indexOf("/")!==-1;var z=L.toUpperCase(),ie=U===!0?M.indexOf(z):F.indexOf(z);if(ie!==-1)return C.FileIndex[ie];var ce=!z.match(hp);for(z=z.replace(vr,""),ce&&(z=z.replace(hp,"!")),ie=0;ie<M.length;++ie)if((ce?M[ie].replace(hp,"!"):M[ie]).replace(vr,"")==z||(ce?F[ie].replace(hp,"!"):F[ie]).replace(vr,"")==z)return C.FileIndex[ie];return null}var k=64,O=-2,Ke="d0cf11e0a1b11ae1",Ie=[208,207,17,224,161,177,26,225],ct="00000000000000000000000000000000",Ye={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:O,FREESECT:-1,HEADER_SIGNATURE:Ke,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ct,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Pt(C,L,M){l();var F=A(C,M);c.writeFileSync(L,F)}function ze(C){for(var L=new Array(C.length),M=0;M<C.length;++M)L[M]=String.fromCharCode(C[M]);return L.join("")}function nt(C,L){var M=A(C,L);switch(L&&L.type||"buffer"){case"file":return l(),c.writeFileSync(L.filename,M),M;case"binary":return typeof M=="string"?M:ze(M);case"base64":return aN(typeof M=="string"?M:ze(M));case"buffer":if(Gt)return Buffer.isBuffer(M)?M:pd(M);case"array":return typeof M=="string"?lo(M):M}return M}var ue;function H(C){try{var L=C.InflateRaw,M=new L;if(M._processChunk(new Uint8Array([3,0]),M._finishFlushFlag),M.bytesRead)ue=C;else throw new Error("zlib does not expose bytesRead")}catch(F){console.error("cannot use native zlib: "+(F.message||F))}}function J(C,L){if(!ue)return Wp(C,L);var M=ue.InflateRaw,F=new M,U=F._processChunk(C.slice(C.l),F._finishFlushFlag);return C.l+=F.bytesRead,U}function X(C){return ue?ue.deflateRawSync(C):Mt(C)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],he=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],We=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Le(C){var L=(C<<1|C<<11)&139536|(C<<5|C<<15)&558144;return(L>>16|L>>8|L)&255}for(var qe=typeof Uint8Array<"u",_e=qe?new Uint8Array(256):[],Nt=0;Nt<256;++Nt)_e[Nt]=Le(Nt);function W(C,L){var M=_e[C&255];return L<=8?M>>>8-L:(M=M<<8|_e[C>>8&255],L<=16?M>>>16-L:(M=M<<8|_e[C>>16&255],M>>>24-L))}function gi(C,L){var M=L&7,F=L>>>3;return(C[F]|(M<=6?0:C[F+1]<<8))>>>M&3}function zt(C,L){var M=L&7,F=L>>>3;return(C[F]|(M<=5?0:C[F+1]<<8))>>>M&7}function ri(C,L){var M=L&7,F=L>>>3;return(C[F]|(M<=4?0:C[F+1]<<8))>>>M&15}function Ft(C,L){var M=L&7,F=L>>>3;return(C[F]|(M<=3?0:C[F+1]<<8))>>>M&31}function je(C,L){var M=L&7,F=L>>>3;return(C[F]|(M<=1?0:C[F+1]<<8))>>>M&127}function Wi(C,L,M){var F=L&7,U=L>>>3,z=(1<<M)-1,ie=C[U]>>>F;return M<8-F||(ie|=C[U+1]<<8-F,M<16-F)||(ie|=C[U+2]<<16-F,M<24-F)||(ie|=C[U+3]<<24-F),ie&z}function Er(C,L,M){var F=L&7,U=L>>>3;return F<=5?C[U]|=(M&7)<<F:(C[U]|=M<<F&255,C[U+1]=(M&7)>>8-F),L+3}function qr(C,L,M){var F=L&7,U=L>>>3;return M=(M&1)<<F,C[U]|=M,L+1}function Kr(C,L,M){var F=L&7,U=L>>>3;return M<<=F,C[U]|=M&255,M>>>=8,C[U+1]=M,L+8}function Vs(C,L,M){var F=L&7,U=L>>>3;return M<<=F,C[U]|=M&255,M>>>=8,C[U+1]=M&255,C[U+2]=M>>>8,L+16}function mo(C,L){var M=C.length,F=2*M>L?2*M:L+5,U=0;if(M>=L)return C;if(Gt){var z=oN(F);if(C.copy)C.copy(z);else for(;U<C.length;++U)z[U]=C[U];return z}else if(qe){var ie=new Uint8Array(F);if(ie.set)ie.set(C);else for(;U<M;++U)ie[U]=C[U];return ie}return C.length=F,C}function Wn(C){for(var L=new Array(C),M=0;M<C;++M)L[M]=0;return L}function Xr(C,L,M){var F=1,U=0,z=0,ie=0,ce=0,te=C.length,ne=qe?new Uint16Array(32):Wn(32);for(z=0;z<32;++z)ne[z]=0;for(z=te;z<M;++z)C[z]=0;te=C.length;var re=qe?new Uint16Array(te):Wn(te);for(z=0;z<te;++z)ne[U=C[z]]++,F<U&&(F=U),re[z]=0;for(ne[0]=0,z=1;z<=F;++z)ne[z+16]=ce=ce+ne[z-1]<<1;for(z=0;z<te;++z)ce=C[z],ce!=0&&(re[z]=ne[ce+16]++);var we=0;for(z=0;z<te;++z)if(we=C[z],we!=0)for(ce=W(re[z],F)>>F-we,ie=(1<<F+4-we)-1;ie>=0;--ie)L[ce|ie<<we]=we&15|z<<4;return F}var _a=qe?new Uint16Array(512):Wn(512),Yi=qe?new Uint16Array(32):Wn(32);if(!qe){for(var ai=0;ai<512;++ai)_a[ai]=0;for(ai=0;ai<32;++ai)Yi[ai]=0}(function(){for(var C=[],L=0;L<32;L++)C.push(5);Xr(C,Yi,32);var M=[];for(L=0;L<=143;L++)M.push(8);for(;L<=255;L++)M.push(9);for(;L<=279;L++)M.push(7);for(;L<=287;L++)M.push(8);Xr(M,_a,288)})();var Cr=(function(){for(var L=qe?new Uint8Array(32768):[],M=0,F=0;M<We.length-1;++M)for(;F<We[M+1];++F)L[F]=M;for(;F<32768;++F)L[F]=29;var U=qe?new Uint8Array(259):[];for(M=0,F=0;M<he.length-1;++M)for(;F<he[M+1];++F)U[F]=M;function z(ce,te){for(var ne=0;ne<ce.length;){var re=Math.min(65535,ce.length-ne),we=ne+re==ce.length;for(te.write_shift(1,+we),te.write_shift(2,re),te.write_shift(2,~re&65535);re-- >0;)te[te.l++]=ce[ne++]}return te.l}function ie(ce,te){for(var ne=0,re=0,we=qe?new Uint16Array(32768):[];re<ce.length;){var Te=Math.min(65535,ce.length-re);if(Te<10){for(ne=Er(te,ne,+(re+Te==ce.length)),ne&7&&(ne+=8-(ne&7)),te.l=ne/8|0,te.write_shift(2,Te),te.write_shift(2,~Te&65535);Te-- >0;)te[te.l++]=ce[re++];ne=te.l*8;continue}ne=Er(te,ne,+(re+Te==ce.length)+2);for(var Ze=0;Te-- >0;){var Se=ce[re];Ze=(Ze<<5^Se)&32767;var Pe=-1,gt=0;if((Pe=we[Ze])&&(Pe|=re&-32768,Pe>re&&(Pe-=32768),Pe<re))for(;ce[Pe+gt]==ce[re+gt]&&gt<250;)++gt;if(gt>2){Se=U[gt],Se<=22?ne=Kr(te,ne,_e[Se+1]>>1)-1:(Kr(te,ne,3),ne+=5,Kr(te,ne,_e[Se-23]>>5),ne+=3);var hi=Se<8?0:Se-4>>2;hi>0&&(Vs(te,ne,gt-he[Se]),ne+=hi),Se=L[re-Pe],ne=Kr(te,ne,_e[Se]>>3),ne-=3;var On=Se<4?0:Se-2>>1;On>0&&(Vs(te,ne,re-Pe-We[Se]),ne+=On);for(var Ti=0;Ti<gt;++Ti)we[Ze]=re&32767,Ze=(Ze<<5^ce[re])&32767,++re;Te-=gt-1}else Se<=143?Se=Se+48:ne=qr(te,ne,1),ne=Kr(te,ne,_e[Se]),we[Ze]=re&32767,++re}ne=Kr(te,ne,0)-1}return te.l=(ne+7)/8|0,te.l}return function(te,ne){return te.length<8?z(te,ne):ie(te,ne)}})();function Mt(C){var L=In(50+Math.floor(C.length*1.1)),M=Cr(C,L);return L.slice(0,M)}var Ni=qe?new Uint16Array(32768):Wn(32768),Vr=qe?new Uint16Array(32768):Wn(32768),Ri=qe?new Uint16Array(128):Wn(128),po=1,Oh=1;function Fh(C,L){var M=Ft(C,L)+257;L+=5;var F=Ft(C,L)+1;L+=5;var U=ri(C,L)+4;L+=4;for(var z=0,ie=qe?new Uint8Array(19):Wn(19),ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],te=1,ne=qe?new Uint8Array(8):Wn(8),re=qe?new Uint8Array(8):Wn(8),we=ie.length,Te=0;Te<U;++Te)ie[q[Te]]=z=zt(C,L),te<z&&(te=z),ne[z]++,L+=3;var Ze=0;for(ne[0]=0,Te=1;Te<=te;++Te)re[Te]=Ze=Ze+ne[Te-1]<<1;for(Te=0;Te<we;++Te)(Ze=ie[Te])!=0&&(ce[Te]=re[Ze]++);var Se=0;for(Te=0;Te<we;++Te)if(Se=ie[Te],Se!=0){Ze=_e[ce[Te]]>>8-Se;for(var Pe=(1<<7-Se)-1;Pe>=0;--Pe)Ri[Ze|Pe<<Se]=Se&7|Te<<3}var gt=[];for(te=1;gt.length<M+F;)switch(Ze=Ri[je(C,L)],L+=Ze&7,Ze>>>=3){case 16:for(z=3+gi(C,L),L+=2,Ze=gt[gt.length-1];z-- >0;)gt.push(Ze);break;case 17:for(z=3+zt(C,L),L+=3;z-- >0;)gt.push(0);break;case 18:for(z=11+je(C,L),L+=7;z-- >0;)gt.push(0);break;default:gt.push(Ze),te<Ze&&(te=Ze);break}var hi=gt.slice(0,M),On=gt.slice(M);for(Te=M;Te<286;++Te)hi[Te]=0;for(Te=F;Te<30;++Te)On[Te]=0;return po=Xr(hi,Ni,286),Oh=Xr(On,Vr,30),L}function Vy(C,L){if(C[0]==3&&!(C[1]&3))return[Hc(L),2];for(var M=0,F=0,U=oN(L||1<<18),z=0,ie=U.length>>>0,ce=0,te=0;(F&1)==0;){if(F=zt(C,M),M+=3,F>>>1)F>>1==1?(ce=9,te=5):(M=Fh(C,M),ce=po,te=Oh);else{M&7&&(M+=8-(M&7));var ne=C[M>>>3]|C[(M>>>3)+1]<<8;if(M+=32,ne>0)for(!L&&ie<z+ne&&(U=mo(U,z+ne),ie=U.length);ne-- >0;)U[z++]=C[M>>>3],M+=8;continue}for(;;){!L&&ie<z+32767&&(U=mo(U,z+32767),ie=U.length);var re=Wi(C,M,ce),we=F>>>1==1?_a[re]:Ni[re];if(M+=we&15,we>>>=4,(we>>>8&255)===0)U[z++]=we;else{if(we==256)break;we-=257;var Te=we<8?0:we-4>>2;Te>5&&(Te=0);var Ze=z+he[we];Te>0&&(Ze+=Wi(C,M,Te),M+=Te),re=Wi(C,M,te),we=F>>>1==1?Yi[re]:Vr[re],M+=we&15,we>>>=4;var Se=we<4?0:we-2>>1,Pe=We[we];for(Se>0&&(Pe+=Wi(C,M,Se),M+=Se),!L&&ie<Ze&&(U=mo(U,Ze+100),ie=U.length);z<Ze;)U[z]=U[z-Pe],++z}}}return L?[U,M+7>>>3]:[U.slice(0,z),M+7>>>3]}function Wp(C,L){var M=C.slice(C.l||0),F=Vy(M,L);return C.l+=F[1],F[0]}function wd(C,L){if(C)typeof console<"u"&&console.error(L);else throw new Error(L)}function Ph(C,L){var M=C;ir(M,0);var F=[],U=[],z={FileIndex:F,FullPaths:U};w(z,{root:L.root});for(var ie=M.length-4;(M[ie]!=80||M[ie+1]!=75||M[ie+2]!=5||M[ie+3]!=6)&&ie>=0;)--ie;M.l=ie+4,M.l+=4;var ce=M.read_shift(2);M.l+=6;var te=M.read_shift(4);for(M.l=te,ie=0;ie<ce;++ie){M.l+=20;var ne=M.read_shift(4),re=M.read_shift(4),we=M.read_shift(2),Te=M.read_shift(2),Ze=M.read_shift(2);M.l+=8;var Se=M.read_shift(4),Pe=s(M.slice(M.l+we,M.l+we+Te));M.l+=we+Te+Ze;var gt=M.l;M.l=Se+4,$p(M,ne,re,z,Pe),M.l=gt}return z}function $p(C,L,M,F,U){C.l+=2;var z=C.read_shift(2),ie=C.read_shift(2),ce=o(C);if(z&8257)throw new Error("Unsupported ZIP encryption");for(var te=C.read_shift(4),ne=C.read_shift(4),re=C.read_shift(4),we=C.read_shift(2),Te=C.read_shift(2),Ze="",Se=0;Se<we;++Se)Ze+=String.fromCharCode(C[C.l++]);if(Te){var Pe=s(C.slice(C.l,C.l+Te));(Pe[21589]||{}).mt&&(ce=Pe[21589].mt),((U||{})[21589]||{}).mt&&(ce=U[21589].mt)}C.l+=Te;var gt=C.slice(C.l,C.l+ne);switch(ie){case 8:gt=J(C,re);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ie)}var hi=!1;z&8&&(te=C.read_shift(4),te==134695760&&(te=C.read_shift(4),hi=!0),ne=C.read_shift(4),re=C.read_shift(4)),ne!=L&&wd(hi,"Bad compressed size: "+L+" != "+ne),re!=M&&wd(hi,"Bad uncompressed size: "+M+" != "+re),Ed(F,Ze,gt,{unsafe:!0,mt:ce})}function Xc(C,L){var M=L||{},F=[],U=[],z=In(1),ie=M.compression?8:0,ce=0,te=!1;te&&(ce|=8);var ne=0,re=0,we=0,Te=0,Ze=C.FullPaths[0],Se=Ze,Pe=C.FileIndex[0],gt=[],hi=0;for(ne=1;ne<C.FullPaths.length;++ne)if(Se=C.FullPaths[ne].slice(Ze.length),Pe=C.FileIndex[ne],!(!Pe.size||!Pe.content||Se=="Sh33tJ5")){var On=we,Ti=In(Se.length);for(re=0;re<Se.length;++re)Ti.write_shift(1,Se.charCodeAt(re)&127);Ti=Ti.slice(0,Ti.l),gt[Te]=fG.buf(Pe.content,0);var an=Pe.content;ie==8&&(an=X(an)),z=In(30),z.write_shift(4,67324752),z.write_shift(2,20),z.write_shift(2,ce),z.write_shift(2,ie),Pe.mt?a(z,Pe.mt):z.write_shift(4,0),z.write_shift(-4,ce&8?0:gt[Te]),z.write_shift(4,ce&8?0:an.length),z.write_shift(4,ce&8?0:Pe.content.length),z.write_shift(2,Ti.length),z.write_shift(2,0),we+=z.length,F.push(z),we+=Ti.length,F.push(Ti),we+=an.length,F.push(an),ce&8&&(z=In(12),z.write_shift(-4,gt[Te]),z.write_shift(4,an.length),z.write_shift(4,Pe.content.length),we+=z.l,F.push(z)),z=In(46),z.write_shift(4,33639248),z.write_shift(2,0),z.write_shift(2,20),z.write_shift(2,ce),z.write_shift(2,ie),z.write_shift(4,0),z.write_shift(-4,gt[Te]),z.write_shift(4,an.length),z.write_shift(4,Pe.content.length),z.write_shift(2,Ti.length),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(4,0),z.write_shift(4,On),hi+=z.l,U.push(z),hi+=Ti.length,U.push(Ti),++Te}return z=In(22),z.write_shift(4,101010256),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(2,Te),z.write_shift(2,Te),z.write_shift(4,hi),z.write_shift(4,we),z.write_shift(2,0),Bc([Bc(F),Bc(U),z])}var Bs={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Nh(C,L){if(C.ctype)return C.ctype;var M=C.name||"",F=M.match(/\.([^\.]+)$/);return F&&Bs[F[1]]||L&&(F=(M=L).match(/[\.\\]([^\.\\])+$/),F&&Bs[F[1]])?Bs[F[1]]:"application/octet-stream"}function qo(C){for(var L=aN(C),M=[],F=0;F<L.length;F+=76)M.push(L.slice(F,F+76));return M.join(`\r
`)+`\r
`}function Gp(C){var L=C.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ne){var re=ne.charCodeAt(0).toString(16).toUpperCase();return"="+(re.length==1?"0"+re:re)});L=L.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),L.charAt(0)==`
`&&(L="=0D"+L.slice(1)),L=L.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var M=[],F=L.split(`\r
`),U=0;U<F.length;++U){var z=F[U];if(z.length==0){M.push("");continue}for(var ie=0;ie<z.length;){var ce=76,te=z.slice(ie,ie+ce);te.charAt(ce-1)=="="?ce--:te.charAt(ce-2)=="="?ce-=2:te.charAt(ce-3)=="="&&(ce-=3),te=z.slice(ie,ie+ce),ie+=ce,ie<z.length&&(te+="="),M.push(te)}}return M.join(`\r
`)}function xd(C){for(var L=[],M=0;M<C.length;++M){for(var F=C[M];M<=C.length&&F.charAt(F.length-1)=="=";)F=F.slice(0,F.length-1)+C[++M];L.push(F)}for(var U=0;U<L.length;++U)L[U]=L[U].replace(/[=][0-9A-Fa-f]{2}/g,function(z){return String.fromCharCode(parseInt(z.slice(1),16))});return lo(L.join(`\r
`))}function qp(C,L,M){for(var F="",U="",z="",ie,ce=0;ce<10;++ce){var te=L[ce];if(!te||te.match(/^\s*$/))break;var ne=te.match(/^(.*?):\s*([^\s].*)$/);if(ne)switch(ne[1].toLowerCase()){case"content-location":F=ne[2].trim();break;case"content-type":z=ne[2].trim();break;case"content-transfer-encoding":U=ne[2].trim();break}}switch(++ce,U.toLowerCase()){case"base64":ie=lo(ga(L.slice(ce).join("")));break;case"quoted-printable":ie=xd(L.slice(ce));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+U)}var re=Ed(C,F.slice(M.length),ie,{unsafe:!0});z&&(re.ctype=z)}function Yc(C,L){if(ze(C.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var M=L&&L.root||"",F=(Gt&&Buffer.isBuffer(C)?C.toString("binary"):ze(C)).split(`\r
`),U=0,z="";for(U=0;U<F.length;++U)if(z=F[U],!!/^Content-Location:/i.test(z)&&(z=z.slice(z.indexOf("file")),M||(M=z.slice(0,z.lastIndexOf("/")+1)),z.slice(0,M.length)!=M))for(;M.length>0&&(M=M.slice(0,M.length-1),M=M.slice(0,M.lastIndexOf("/")+1),z.slice(0,M.length)!=M););var ie=(F[1]||"").match(/boundary="(.*?)"/);if(!ie)throw new Error("MAD cannot find boundary");var ce="--"+(ie[1]||""),te=[],ne=[],re={FileIndex:te,FullPaths:ne};w(re);var we,Te=0;for(U=0;U<F.length;++U){var Ze=F[U];Ze!==ce&&Ze!==ce+"--"||(Te++&&qp(re,F.slice(we,U),M),we=U)}return re}function Kp(C,L){var M=L||{},F=M.boundary||"SheetJS";F="------="+F;for(var U=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+F.slice(2)+'"',"","",""],z=C.FullPaths[0],ie=z,ce=C.FileIndex[0],te=1;te<C.FullPaths.length;++te)if(ie=C.FullPaths[te].slice(z.length),ce=C.FileIndex[te],!(!ce.size||!ce.content||ie=="Sh33tJ5")){ie=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(gt){return"_x"+gt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(gt){return"_u"+gt.charCodeAt(0).toString(16)+"_"});for(var ne=ce.content,re=Gt&&Buffer.isBuffer(ne)?ne.toString("binary"):ze(ne),we=0,Te=Math.min(1024,re.length),Ze=0,Se=0;Se<=Te;++Se)(Ze=re.charCodeAt(Se))>=32&&Ze<128&&++we;var Pe=we>=Te*4/5;U.push(F),U.push("Content-Location: "+(M.root||"file:///C:/SheetJS/")+ie),U.push("Content-Transfer-Encoding: "+(Pe?"quoted-printable":"base64")),U.push("Content-Type: "+Nh(ce,ie)),U.push(""),U.push(Pe?Gp(re):qo(re))}return U.push(F+`--\r
`),U.join(`\r
`)}function $n(C){var L={};return w(L,C),L}function Ed(C,L,M,F){var U=F&&F.unsafe;U||w(C);var z=!U&&Qt.find(C,L);if(!z){var ie=C.FullPaths[0];L.slice(0,ie.length)==ie?ie=L:(ie.slice(-1)!="/"&&(ie+="/"),ie=(ie+L).replace("//","/")),z={name:r(L),type:2},C.FileIndex.push(z),C.FullPaths.push(ie),U||Qt.utils.cfb_gc(C)}return z.content=M,z.size=M?M.length:0,F&&(F.CLSID&&(z.clsid=F.CLSID),F.mt&&(z.mt=F.mt),F.ct&&(z.ct=F.ct)),z}function Qc(C,L){w(C);var M=Qt.find(C,L);if(M){for(var F=0;F<C.FileIndex.length;++F)if(C.FileIndex[F]==M)return C.FileIndex.splice(F,1),C.FullPaths.splice(F,1),!0}return!1}function Zc(C,L,M){w(C);var F=Qt.find(C,L);if(F){for(var U=0;U<C.FileIndex.length;++U)if(C.FileIndex[U]==F)return C.FileIndex[U].name=r(M),C.FullPaths[U]=M,!0}return!1}function By(C){E(C,!0)}return t.find=R,t.read=j,t.parse=d,t.write=nt,t.writeFile=Pt,t.utils={cfb_new:$n,cfb_add:Ed,cfb_del:Qc,cfb_mov:Zc,cfb_gc:By,ReadShift:pp,CheckField:BL,prep_blob:ir,bconcat:Bc,use_zlib:H,_deflateRaw:Mt,_inflateRaw:Wp,consts:Ye},t})(),mN;function mG(i){if(typeof mN<"u")return mN.readFileSync(i);if(typeof Deno<"u")return Deno.readFileSync(i);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(i);t.open("r"),t.encoding="binary";var e=t.read();return t.close(),e}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+i)}function Wo(i){for(var t=Object.keys(i),e=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(i,t[n])&&e.push(t[n]);return e}function ZT(i){for(var t=[],e=Wo(i),n=0;n!==e.length;++n)t[i[e[n]]]=e[n];return t}var Qv=new Date(1899,11,30,0,0,0);function Lr(i,t){var e=i.getTime();t&&(e-=1462*24*60*60*1e3);var n=Qv.getTime()+(i.getTimezoneOffset()-Qv.getTimezoneOffset())*6e4;return(e-n)/(1440*60*1e3)}var xL=new Date,pG=Qv.getTime()+(xL.getTimezoneOffset()-Qv.getTimezoneOffset())*6e4,pN=xL.getTimezoneOffset();function ay(i){var t=new Date;return t.setTime(i*24*60*60*1e3+pG),t.getTimezoneOffset()!==pN&&t.setTime(t.getTime()+(t.getTimezoneOffset()-pN)*6e4),t}function gG(i){var t=0,e=0,n=!1,r=i.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!r)throw new Error("|"+i+"| is not an ISO8601 Duration");for(var a=1;a!=r.length;++a)if(r[a]){switch(e=1,a>3&&(n=!0),r[a].slice(r[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+r[a].slice(r[a].length-1));case"D":e*=24;case"H":e*=60;case"M":if(n)e*=60;else throw new Error("Unsupported ISO Duration Field: M");case"S":break}t+=e*parseInt(r[a],10)}return t}var gN=new Date("2017-02-19T19:06:09.000Z"),EL=isNaN(gN.getFullYear())?new Date("2/19/17"):gN,_G=EL.getFullYear()==2017;function Hn(i,t){var e=new Date(i);if(_G)return t>0?e.setTime(e.getTime()+e.getTimezoneOffset()*60*1e3):t<0&&e.setTime(e.getTime()-e.getTimezoneOffset()*60*1e3),e;if(i instanceof Date)return i;if(EL.getFullYear()==1917&&!isNaN(e.getFullYear())){var n=e.getFullYear();return i.indexOf(""+n)>-1||e.setFullYear(e.getFullYear()+100),e}var r=i.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+r[0],+r[1]-1,+r[2],+r[3]||0,+r[4]||0,+r[5]||0);return i.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function fd(i,t){if(Gt&&Buffer.isBuffer(i)){if(t){if(i[0]==255&&i[1]==254)return mp(i.slice(2).toString("utf16le"));if(i[1]==254&&i[2]==255)return mp(lL(i.slice(2).toString("binary")))}return i.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(i[0]==255&&i[1]==254)return mp(new TextDecoder("utf-16le").decode(i.slice(2)));if(i[0]==254&&i[1]==255)return mp(new TextDecoder("utf-16be").decode(i.slice(2)))}var e={"\u20AC":"\x80","\u201A":"\x82",\u0192:"\x83","\u201E":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02C6":"\x88","\u2030":"\x89",\u0160:"\x8A","\u2039":"\x8B",\u0152:"\x8C",\u017D:"\x8E","\u2018":"\x91","\u2019":"\x92","\u201C":"\x93","\u201D":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02DC":"\x98","\u2122":"\x99",\u0161:"\x9A","\u203A":"\x9B",\u0153:"\x9C",\u017E:"\x9E",\u0178:"\x9F"};return Array.isArray(i)&&(i=new Uint8Array(i)),new TextDecoder("latin1").decode(i).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(a){return e[a]||a})}catch{}for(var n=[],r=0;r!=i.length;++r)n.push(String.fromCharCode(i[r]));return n.join("")}function nr(i){if(typeof JSON<"u"&&!Array.isArray(i))return JSON.parse(JSON.stringify(i));if(typeof i!="object"||i==null)return i;if(i instanceof Date)return new Date(i.getTime());var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=nr(i[e]));return t}function nn(i,t){for(var e="";e.length<t;)e+=i;return e}function fo(i){var t=Number(i);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(i))return t;var e=1,n=i.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return e*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(r,a){return e=-e,a}),!isNaN(t=Number(n)))?t/e:t}var vG=["january","february","march","april","may","june","july","august","september","october","november","december"];function vh(i){var t=new Date(i),e=new Date(NaN),n=t.getYear(),r=t.getMonth(),a=t.getDate();if(isNaN(a))return e;var o=i.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&vG.indexOf(o)==-1)return e}else if(o.match(/[a-z]/))return e;return n<0||n>8099?e:(r>0||a>1)&&n!=101?t:i.match(/[^-0-9:,\/\\]/)?e:t}var yG=(function(){var i="abacaba".split(/(:?b)/i).length==5;return function(e,n,r){if(i||typeof n=="string")return e.split(n);for(var a=e.split(n),o=[a[0]],s=1;s<a.length;++s)o.push(r),o.push(a[s]);return o}})();function CL(i){return i?i.content&&i.type?fd(i.content,!0):i.data?up(i.data):i.asNodeBuffer&&Gt?up(i.asNodeBuffer().toString("binary")):i.asBinary?up(i.asBinary()):i._data&&i._data.getContent?up(fd(Array.prototype.slice.call(i._data.getContent(),0))):null:null}function TL(i){if(!i)return null;if(i.data)return NT(i.data);if(i.asNodeBuffer&&Gt)return i.asNodeBuffer();if(i._data&&i._data.getContent){var t=i._data.getContent();return typeof t=="string"?NT(t):Array.prototype.slice.call(t)}return i.content&&i.type?i.content:null}function bG(i){return i&&i.name.slice(-4)===".bin"?TL(i):CL(i)}function Oa(i,t){for(var e=i.FullPaths||Wo(i.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),r=n.replace(/\\/g,"/"),a=0;a<e.length;++a){var o=e[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||r==o)return i.files?i.files[e[a]]:i.FileIndex[a]}return null}function JT(i,t){var e=Oa(i,t);if(e==null)throw new Error("Cannot find file "+t+" in zip");return e}function Sn(i,t,e){if(!e)return bG(JT(i,t));if(!t)return null;try{return Sn(i,t)}catch{return null}}function pa(i,t,e){if(!e)return CL(JT(i,t));if(!t)return null;try{return pa(i,t)}catch{return null}}function SL(i,t,e){if(!e)return TL(JT(i,t));if(!t)return null;try{return SL(i,t)}catch{return null}}function _N(i){for(var t=i.FullPaths||Wo(i.files),e=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&e.push(t[n].replace(/^Root Entry[\/]/,""));return e.sort()}function wG(i,t,e){if(i.FullPaths){if(typeof e=="string"){var n;return Gt?n=pd(e):n=z$(e),Qt.utils.cfb_add(i,t,n)}Qt.utils.cfb_add(i,t,e)}else i.file(t,e)}function kL(i,t){switch(t.type){case"base64":return Qt.read(i,{type:"base64"});case"binary":return Qt.read(i,{type:"binary"});case"buffer":case"array":return Qt.read(i,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function fp(i,t){if(i.charAt(0)=="/")return i.slice(1);var e=t.split("/");t.slice(-1)!="/"&&e.pop();for(var n=i.split("/");n.length!==0;){var r=n.shift();r===".."?e.pop():r!=="."&&e.push(r)}return e.join("/")}var IL=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,xG=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,vN=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,EG=/<[^>]*>/g,wr=IL.match(vN)?vN:EG,CG=/<\w*:/,TG=/<(\/?)\w+:/;function yt(i,t,e){for(var n={},r=0,a=0;r!==i.length&&!((a=i.charCodeAt(r))===32||a===10||a===13);++r);if(t||(n[0]=i.slice(0,r)),r===i.length)return n;var o=i.match(xG),s=0,c="",l=0,d="",h="",f=1;if(o)for(l=0;l!=o.length;++l){for(h=o[l],a=0;a!=h.length&&h.charCodeAt(a)!==61;++a);for(d=h.slice(0,a).trim();h.charCodeAt(a+1)==32;)++a;for(f=(r=h.charCodeAt(a+1))==34||r==39?1:0,c=h.slice(a+1+f,h.length-f),s=0;s!=d.length&&d.charCodeAt(s)!==58;++s);if(s===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,e||(n[d.toLowerCase()]=c);else{var m=(s===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(s+1);if(n[m]&&d.slice(s-3,s)=="ext")continue;n[m]=c,e||(n[m.toLowerCase()]=c)}}return n}function $o(i){return i.replace(TG,"<$1")}var DL={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},SG=ZT(DL),ei=(function(){var i=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function e(n){var r=n+"",a=r.indexOf("<![CDATA[");if(a==-1)return r.replace(i,function(s,c){return DL[s]||String.fromCharCode(parseInt(c,s.indexOf("x")>-1?16:10))||s}).replace(t,function(s,c){return String.fromCharCode(parseInt(c,16))});var o=r.indexOf("]]>");return e(r.slice(0,a))+r.slice(a+9,o)+e(r.slice(o+3))}})(),kG=/[&<>'"]/g;var IG=/[\u0000-\u001f]/g;function eS(i){var t=i+"";return t.replace(kG,function(e){return SG[e]}).replace(/\n/g,"<br/>").replace(IG,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}var yN=(function(){var i=/&#(\d+);/g;function t(e,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(i,t)}})();function Hi(i){switch(i){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function kT(i){for(var t="",e=0,n=0,r=0,a=0,o=0,s=0;e<i.length;){if(n=i.charCodeAt(e++),n<128){t+=String.fromCharCode(n);continue}if(r=i.charCodeAt(e++),n>191&&n<224){o=(n&31)<<6,o|=r&63,t+=String.fromCharCode(o);continue}if(a=i.charCodeAt(e++),n<240){t+=String.fromCharCode((n&15)<<12|(r&63)<<6|a&63);continue}o=i.charCodeAt(e++),s=((n&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(s&1023))}return t}function bN(i){var t=Hc(2*i.length),e,n,r=1,a=0,o=0,s;for(n=0;n<i.length;n+=r)r=1,(s=i.charCodeAt(n))<128?e=s:s<224?(e=(s&31)*64+(i.charCodeAt(n+1)&63),r=2):s<240?(e=(s&15)*4096+(i.charCodeAt(n+1)&63)*64+(i.charCodeAt(n+2)&63),r=3):(r=4,e=(s&7)*262144+(i.charCodeAt(n+1)&63)*4096+(i.charCodeAt(n+2)&63)*64+(i.charCodeAt(n+3)&63),e-=65536,o=55296+(e>>>10&1023),e=56320+(e&1023)),o!==0&&(t[a++]=o&255,t[a++]=o>>>8,o=0),t[a++]=e%256,t[a++]=e>>>8;return t.slice(0,a).toString("ucs2")}function wN(i){return pd(i,"binary").toString("utf8")}var Uv="foo bar baz\xE2\x98\x83\xF0\x9F\x8D\xA3",Ai=Gt&&(wN(Uv)==kT(Uv)&&wN||bN(Uv)==kT(Uv)&&bN)||kT,mp=Gt?function(i){return pd(i,"utf8").toString("binary")}:function(i){for(var t=[],e=0,n=0,r=0;e<i.length;)switch(n=i.charCodeAt(e++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,r=i.charCodeAt(e++)-56320+(n<<10),t.push(String.fromCharCode(240+(r>>18&7))),t.push(String.fromCharCode(144+(r>>12&63))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Tp=(function(){var i={};return function(e,n){var r=e+"|"+(n||"");return i[r]?i[r]:i[r]=new RegExp("<(?:\\w+:)?"+e+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+e+">",n||"")}})(),AL=(function(){var i=[["nbsp"," "],["middot","\xB7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(e){for(var n=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),r=0;r<i.length;++r)n=n.replace(i[r][0],i[r][1]);return n}})(),DG=(function(){var i={};return function(e){return i[e]!==void 0?i[e]:i[e]=new RegExp("<(?:vt:)?"+e+">([\\s\\S]*?)</(?:vt:)?"+e+">","g")}})(),AG=/<\/?(?:vt:)?variant>/g,RG=/<(?:vt:)([^>]*)>([\s\S]*)</;function xN(i,t){var e=yt(i),n=i.match(DG(e.baseType))||[],r=[];if(n.length!=e.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+e.size);return r}return n.forEach(function(a){var o=a.replace(AG,"").match(RG);o&&r.push({v:Ai(o[2]),t:o[1]})}),r}var MG=/(^\s|\s$|\n)/;function OG(i){return Wo(i).map(function(t){return" "+t+'="'+i[t]+'"'}).join("")}function FG(i,t,e){return"<"+i+(e!=null?OG(e):"")+(t!=null?(t.match(MG)?' xml:space="preserve"':"")+">"+t+"</"+i:"/")+">"}function tS(i){if(Gt&&Buffer.isBuffer(i))return i.toString("utf8");if(typeof i=="string")return i;if(typeof Uint8Array<"u"&&i instanceof Uint8Array)return Ai(gd(XT(i)));throw new Error("Bad input format: expected Buffer or string")}var Sp=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,PG={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},NG=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function LG(i,t){for(var e=1-2*(i[t+7]>>>7),n=((i[t+7]&127)<<4)+(i[t+6]>>>4&15),r=i[t+6]&15,a=5;a>=0;--a)r=r*256+i[t+a];return n==2047?r==0?e*(1/0):NaN:(n==0?n=-1022:(n-=1023,r+=Math.pow(2,52)),e*Math.pow(2,n-52)*r)}function VG(i,t,e){var n=(t<0||1/t==-1/0?1:0)<<7,r=0,a=0,o=n?-t:t;isFinite(o)?o==0?r=a=0:(r=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-r),r<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?r=-1022:(a-=Math.pow(2,52),r+=1023)):(r=2047,a=isNaN(t)?26985:0);for(var s=0;s<=5;++s,a/=256)i[e+s]=a&255;i[e+6]=(r&15)<<4|a&15,i[e+7]=r>>4|n}var EN=function(i){for(var t=[],e=10240,n=0;n<i[0].length;++n)if(i[0][n])for(var r=0,a=i[0][n].length;r<a;r+=e)t.push.apply(t,i[0][n].slice(r,r+e));return t},CN=Gt?function(i){return i[0].length>0&&Buffer.isBuffer(i[0][0])?Buffer.concat(i[0].map(function(t){return Buffer.isBuffer(t)?t:pd(t)})):EN(i)}:EN,TN=function(i,t,e){for(var n=[],r=t;r<e;r+=2)n.push(String.fromCharCode(Os(i,r)));return n.join("").replace(vr,"")},oy=Gt?function(i,t,e){return Buffer.isBuffer(i)?i.toString("utf16le",t,e).replace(vr,""):TN(i,t,e)}:TN,SN=function(i,t,e){for(var n=[],r=t;r<t+e;++r)n.push(("0"+i[r].toString(16)).slice(-2));return n.join("")},RL=Gt?function(i,t,e){return Buffer.isBuffer(i)?i.toString("hex",t,t+e):SN(i,t,e)}:SN,kN=function(i,t,e){for(var n=[],r=t;r<e;r++)n.push(String.fromCharCode(fh(i,r)));return n.join("")},wh=Gt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf8",e,n):kN(t,e,n)}:kN,ML=function(i,t){var e=jn(i,t);return e>0?wh(i,t+4,t+4+e-1):""},iS=ML,OL=function(i,t){var e=jn(i,t);return e>0?wh(i,t+4,t+4+e-1):""},nS=OL,FL=function(i,t){var e=2*jn(i,t);return e>0?wh(i,t+4,t+4+e-1):""},rS=FL,PL=function(t,e){var n=jn(t,e);return n>0?oy(t,e+4,e+4+n):""},aS=PL,NL=function(i,t){var e=jn(i,t);return e>0?wh(i,t+4,t+4+e):""},oS=NL,LL=function(i,t){return LG(i,t)},Zv=LL,VL=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Gt&&(iS=function(t,e){if(!Buffer.isBuffer(t))return ML(t,e);var n=t.readUInt32LE(e);return n>0?t.toString("utf8",e+4,e+4+n-1):""},nS=function(t,e){if(!Buffer.isBuffer(t))return OL(t,e);var n=t.readUInt32LE(e);return n>0?t.toString("utf8",e+4,e+4+n-1):""},rS=function(t,e){if(!Buffer.isBuffer(t))return FL(t,e);var n=2*t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+n-1)},aS=function(t,e){if(!Buffer.isBuffer(t))return PL(t,e);var n=t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+n)},oS=function(t,e){if(!Buffer.isBuffer(t))return NL(t,e);var n=t.readUInt32LE(e);return t.toString("utf8",e+4,e+4+n)},Zv=function(t,e){return Buffer.isBuffer(t)?t.readDoubleLE(e):LL(t,e)},VL=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});function BG(){oy=function(i,t,e){return di.utils.decode(1200,i.slice(t,e)).replace(vr,"")},wh=function(i,t,e){return di.utils.decode(65001,i.slice(t,e))},iS=function(i,t){var e=jn(i,t);return e>0?di.utils.decode(_h,i.slice(t+4,t+4+e-1)):""},nS=function(i,t){var e=jn(i,t);return e>0?di.utils.decode(Ho,i.slice(t+4,t+4+e-1)):""},rS=function(i,t){var e=2*jn(i,t);return e>0?di.utils.decode(1200,i.slice(t+4,t+4+e-1)):""},aS=function(i,t){var e=jn(i,t);return e>0?di.utils.decode(1200,i.slice(t+4,t+4+e)):""},oS=function(i,t){var e=jn(i,t);return e>0?di.utils.decode(65001,i.slice(t+4,t+4+e)):""}}typeof di<"u"&&BG();var fh=function(i,t){return i[t]},Os=function(i,t){return i[t+1]*256+i[t]},UG=function(i,t){var e=i[t+1]*256+i[t];return e<32768?e:(65535-e+1)*-1},jn=function(i,t){return i[t+3]*(1<<24)+(i[t+2]<<16)+(i[t+1]<<8)+i[t]},cd=function(i,t){return i[t+3]<<24|i[t+2]<<16|i[t+1]<<8|i[t]},zG=function(i,t){return i[t]<<24|i[t+1]<<16|i[t+2]<<8|i[t+3]};function pp(i,t){var e="",n,r,a=[],o,s,c,l;switch(t){case"dbcs":if(l=this.l,Gt&&Buffer.isBuffer(this))e=this.slice(this.l,this.l+2*i).toString("utf16le");else for(c=0;c<i;++c)e+=String.fromCharCode(Os(this,l)),l+=2;i*=2;break;case"utf8":e=wh(this,this.l,this.l+i);break;case"utf16le":i*=2,e=oy(this,this.l,this.l+i);break;case"wstr":if(typeof di<"u")e=di.utils.decode(Ho,this.slice(this.l,this.l+2*i));else return pp.call(this,i,"dbcs");i=2*i;break;case"lpstr-ansi":e=iS(this,this.l),i=4+jn(this,this.l);break;case"lpstr-cp":e=nS(this,this.l),i=4+jn(this,this.l);break;case"lpwstr":e=rS(this,this.l),i=4+2*jn(this,this.l);break;case"lpp4":i=4+jn(this,this.l),e=aS(this,this.l),i&2&&(i+=2);break;case"8lpp4":i=4+jn(this,this.l),e=oS(this,this.l),i&3&&(i+=4-(i&3));break;case"cstr":for(i=0,e="";(o=fh(this,this.l+i++))!==0;)a.push(Bv(o));e=a.join("");break;case"_wstr":for(i=0,e="";(o=Os(this,this.l+i))!==0;)a.push(Bv(o)),i+=2;i+=2,e=a.join("");break;case"dbcs-cont":for(e="",l=this.l,c=0;c<i;++c){if(this.lens&&this.lens.indexOf(l)!==-1)return o=fh(this,l),this.l=l+1,s=pp.call(this,i-c,o?"dbcs-cont":"sbcs-cont"),a.join("")+s;a.push(Bv(Os(this,l))),l+=2}e=a.join(""),i*=2;break;case"cpstr":if(typeof di<"u"){e=di.utils.decode(Ho,this.slice(this.l,this.l+i));break}case"sbcs-cont":for(e="",l=this.l,c=0;c!=i;++c){if(this.lens&&this.lens.indexOf(l)!==-1)return o=fh(this,l),this.l=l+1,s=pp.call(this,i-c,o?"dbcs-cont":"sbcs-cont"),a.join("")+s;a.push(Bv(fh(this,l))),l+=1}e=a.join("");break;default:switch(i){case 1:return n=fh(this,this.l),this.l++,n;case 2:return n=(t==="i"?UG:Os)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(i>0?cd:zG)(this,this.l),this.l+=4,n):(r=jn(this,this.l),this.l+=4,r);case 8:case-8:if(t==="f")return i==8?r=Zv(this,this.l):r=Zv([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;i=8;case 16:e=RL(this,this.l,i);break}}return this.l+=i,e}var jG=function(i,t,e){i[e]=t&255,i[e+1]=t>>>8&255,i[e+2]=t>>>16&255,i[e+3]=t>>>24&255},HG=function(i,t,e){i[e]=t&255,i[e+1]=t>>8&255,i[e+2]=t>>16&255,i[e+3]=t>>24&255},WG=function(i,t,e){i[e]=t&255,i[e+1]=t>>>8&255};function $G(i,t,e){var n=0,r=0;if(e==="dbcs"){for(r=0;r!=t.length;++r)WG(this,t.charCodeAt(r),this.l+2*r);n=2*t.length}else if(e==="sbcs"){if(typeof di<"u"&&_h==874)for(r=0;r!=t.length;++r){var a=di.utils.encode(_h,t.charAt(r));this[this.l+r]=a[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=t.length;++r)this[this.l+r]=t.charCodeAt(r)&255;n=t.length}else if(e==="hex"){for(;r<i;++r)this[this.l++]=parseInt(t.slice(2*r,2*r+2),16)||0;return this}else if(e==="utf16le"){var o=Math.min(this.l+i,this.length);for(r=0;r<Math.min(t.length,i);++r){var s=t.charCodeAt(r);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(i){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,jG(this,t,this.l);break;case 8:if(n=8,e==="f"){VG(this,t,this.l);break}case 16:break;case-4:n=4,HG(this,t,this.l);break}return this.l+=n,this}function BL(i,t){var e=RL(this,this.l,i.length>>1);if(e!==i)throw new Error(t+"Expected "+i+" saw "+e);this.l+=i.length>>1}function ir(i,t){i.l=t,i.read_shift=pp,i.chk=BL,i.write_shift=$G}function br(i,t){i.l+=t}function In(i){var t=Hc(i);return ir(t,0),t}function Ls(i,t,e){if(i){var n,r,a;ir(i,i.l||0);for(var o=i.length,s=0,c=0;i.l<o;){s=i.read_shift(1),s&128&&(s=(s&127)+((i.read_shift(1)&127)<<7));var l=ry[s]||ry[65535];for(n=i.read_shift(1),a=n&127,r=1;r<4&&n&128;++r)a+=((n=i.read_shift(1))&127)<<7*r;c=i.l+a;var d=l.f&&l.f(i,a,e);if(i.l=c,t(d,l,s))return}}}function LT(){var i=[],t=Gt?256:2048,e=function(l){var d=In(l);return ir(d,0),d},n=e(t),r=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&i.push(n),n=null)},a=function(l){return n&&l<n.length-n.l?n:(r(),n=e(Math.max(l+1,t)))},o=function(){return r(),Bc(i)},s=function(l){r(),n=l,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:s,end:o,_bufs:i}}function gp(i,t,e){var n=nr(i);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!e||e.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function IN(i,t,e){var n=nr(i);return n.s=gp(n.s,t.s,e),n.e=gp(n.e,t.s,e),n}function _p(i,t){if(i.cRel&&i.c<0)for(i=nr(i);i.c<0;)i.c+=t>8?16384:256;if(i.rRel&&i.r<0)for(i=nr(i);i.r<0;)i.r+=t>8?1048576:t>5?65536:16384;var e=It(i);return!i.cRel&&i.cRel!=null&&(e=KG(e)),!i.rRel&&i.rRel!=null&&(e=GG(e)),e}function IT(i,t){return i.s.r==0&&!i.s.rRel&&i.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!i.e.rRel?(i.s.cRel?"":"$")+Rn(i.s.c)+":"+(i.e.cRel?"":"$")+Rn(i.e.c):i.s.c==0&&!i.s.cRel&&i.e.c==(t.biff>=12?16383:255)&&!i.e.cRel?(i.s.rRel?"":"$")+rr(i.s.r)+":"+(i.e.rRel?"":"$")+rr(i.e.r):_p(i.s,t.biff)+":"+_p(i.e,t.biff)}function sS(i){return parseInt(qG(i),10)-1}function rr(i){return""+(i+1)}function GG(i){return i.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function qG(i){return i.replace(/\$(\d+)$/,"$1")}function cS(i){for(var t=XG(i),e=0,n=0;n!==t.length;++n)e=26*e+t.charCodeAt(n)-64;return e-1}function Rn(i){if(i<0)throw new Error("invalid column "+i);var t="";for(++i;i;i=Math.floor((i-1)/26))t=String.fromCharCode((i-1)%26+65)+t;return t}function KG(i){return i.replace(/^([A-Z])/,"$$$1")}function XG(i){return i.replace(/^\$([A-Z])/,"$1")}function YG(i){return i.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Nr(i){for(var t=0,e=0,n=0;n<i.length;++n){var r=i.charCodeAt(n);r>=48&&r<=57?t=10*t+(r-48):r>=65&&r<=90&&(e=26*e+(r-64))}return{c:e-1,r:t-1}}function It(i){for(var t=i.c+1,e="";t;t=(t-1)/26|0)e=String.fromCharCode((t-1)%26+65)+e;return e+(i.r+1)}function xh(i){var t=i.indexOf(":");return t==-1?{s:Nr(i),e:Nr(i)}:{s:Nr(i.slice(0,t)),e:Nr(i.slice(t+1))}}function Zt(i,t){return typeof t>"u"||typeof t=="number"?Zt(i.s,i.e):(typeof i!="string"&&(i=It(i)),typeof t!="string"&&(t=It(t)),i==t?i:i+":"+t)}function rn(i){var t={s:{c:0,r:0},e:{c:0,r:0}},e=0,n=0,r=0,a=i.length;for(e=0;n<a&&!((r=i.charCodeAt(n)-64)<1||r>26);++n)e=26*e+r;for(t.s.c=--e,e=0;n<a&&!((r=i.charCodeAt(n)-48)<0||r>9);++n)e=10*e+r;if(t.s.r=--e,n===a||r!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,e=0;n!=a&&!((r=i.charCodeAt(n)-64)<1||r>26);++n)e=26*e+r;for(t.e.c=--e,e=0;n!=a&&!((r=i.charCodeAt(n)-48)<0||r>9);++n)e=10*e+r;return t.e.r=--e,t}function DN(i,t){var e=i.t=="d"&&t instanceof Date;if(i.z!=null)try{return i.w=Fa(i.z,e?Lr(t):t)}catch{}try{return i.w=Fa((i.XF||{}).numFmtId||(e?14:0),e?Lr(t):t)}catch{return""+t}}function Ns(i,t,e){return i==null||i.t==null||i.t=="z"?"":i.w!==void 0?i.w:(i.t=="d"&&!i.z&&e&&e.dateNF&&(i.z=e.dateNF),i.t=="e"?yd[i.v]||i.v:t==null?DN(i,i.v):DN(i,t))}function $c(i,t){var e=t&&t.sheet?t.sheet:"Sheet1",n={};return n[e]=i,{SheetNames:[e],Sheets:n}}function UL(i,t,e){var n=e||{},r=i?Array.isArray(i):n.dense;Dn!=null&&r==null&&(r=Dn);var a=i||(r?[]:{}),o=0,s=0;if(a&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Nr(n.origin):n.origin;o=c.r,s=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var l={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var d=rn(a["!ref"]);l.s.c=d.s.c,l.s.r=d.s.r,l.e.c=Math.max(l.e.c,d.e.c),l.e.r=Math.max(l.e.r,d.e.r),o==-1&&(l.e.r=o=d.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=t[h].length;++f)if(!(typeof t[h][f]>"u")){var m={v:t[h][f]},v=o+h,_=s+f;if(l.s.r>v&&(l.s.r=v),l.s.c>_&&(l.s.c=_),l.e.r<v&&(l.e.r=v),l.e.c<_&&(l.e.c=_),t[h][f]&&typeof t[h][f]=="object"&&!Array.isArray(t[h][f])&&!(t[h][f]instanceof Date))m=t[h][f];else if(Array.isArray(m.v)&&(m.f=t[h][f][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Rt[14],n.cellDates?(m.t="d",m.w=Fa(m.z,Lr(m.v))):(m.t="n",m.v=Lr(m.v),m.w=Fa(m.z,m.v))):m.t="s";if(r)a[v]||(a[v]=[]),a[v][_]&&a[v][_].z&&(m.z=a[v][_].z),a[v][_]=m;else{var y=It({c:_,r:v});a[y]&&a[y].z&&(m.z=a[y].z),a[y]=m}}}return l.s.c<1e7&&(a["!ref"]=Zt(l)),a}function Eh(i,t){return UL(null,i,t)}function QG(i){return i.read_shift(4,"i")}function yr(i){var t=i.read_shift(4);return t===0?"":i.read_shift(t,"dbcs")}function ZG(i){return{ich:i.read_shift(2),ifnt:i.read_shift(2)}}function lS(i,t){var e=i.l,n=i.read_shift(1),r=yr(i),a=[],o={t:r,h:r};if((n&1)!==0){for(var s=i.read_shift(4),c=0;c!=s;++c)a.push(ZG(i));o.r=a}else o.r=[{ich:0,ifnt:0}];return i.l=e+t,o}var JG=lS;function Pa(i){var t=i.read_shift(4),e=i.read_shift(2);return e+=i.read_shift(1)<<16,i.l++,{c:t,iStyleRef:e}}function _d(i){var t=i.read_shift(2);return t+=i.read_shift(1)<<16,i.l++,{c:-1,iStyleRef:t}}var eq=yr;function dS(i){var t=i.read_shift(4);return t===0||t===4294967295?"":i.read_shift(t,"dbcs")}var tq=yr,VT=dS;function uS(i){var t=i.slice(i.l,i.l+4),e=t[0]&1,n=t[0]&2;i.l+=4;var r=n===0?Zv([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):cd(t,0)>>2;return e?r/100:r}function zL(i){var t={s:{},e:{}};return t.s.r=i.read_shift(4),t.e.r=i.read_shift(4),t.s.c=i.read_shift(4),t.e.c=i.read_shift(4),t}var vd=zL;function gr(i){if(i.length-i.l<8)throw"XLS Xnum Buffer underflow";return i.read_shift(8,"f")}function iq(i){var t={},e=i.read_shift(1),n=e>>>1,r=i.read_shift(1),a=i.read_shift(2,"i"),o=i.read_shift(1),s=i.read_shift(1),c=i.read_shift(1);switch(i.l++,n){case 0:t.auto=1;break;case 1:t.index=r;var l=ud[r];l&&(t.rgb=Ip(l));break;case 2:t.rgb=Ip([o,s,c]);break;case 3:t.theme=r;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function nq(i){var t=i.read_shift(1);i.l++;var e={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return e}function jL(i,t){var e={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=i.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return e[i.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return i.l-=4,i.read_shift(0,t==1?"lpstr":"lpwstr")}function rq(i){return jL(i,1)}function aq(i){return jL(i,2)}var hS=2,Gr=3,zv=11,AN=12,Jv=19;var jv=64,oq=65,sq=71;var cq=4108,lq=4126,zn=80,HL=81,dq=[zn,HL],uq={1:{n:"CodePage",t:hS},2:{n:"Category",t:zn},3:{n:"PresentationFormat",t:zn},4:{n:"ByteCount",t:Gr},5:{n:"LineCount",t:Gr},6:{n:"ParagraphCount",t:Gr},7:{n:"SlideCount",t:Gr},8:{n:"NoteCount",t:Gr},9:{n:"HiddenCount",t:Gr},10:{n:"MultimediaClipCount",t:Gr},11:{n:"ScaleCrop",t:zv},12:{n:"HeadingPairs",t:cq},13:{n:"TitlesOfParts",t:lq},14:{n:"Manager",t:zn},15:{n:"Company",t:zn},16:{n:"LinksUpToDate",t:zv},17:{n:"CharacterCount",t:Gr},19:{n:"SharedDoc",t:zv},22:{n:"HyperlinksChanged",t:zv},23:{n:"AppVersion",t:Gr,p:"version"},24:{n:"DigSig",t:oq},26:{n:"ContentType",t:zn},27:{n:"ContentStatus",t:zn},28:{n:"Language",t:zn},29:{n:"Version",t:zn},255:{},2147483648:{n:"Locale",t:Jv},2147483651:{n:"Behavior",t:Jv},1919054434:{}},hq={1:{n:"CodePage",t:hS},2:{n:"Title",t:zn},3:{n:"Subject",t:zn},4:{n:"Author",t:zn},5:{n:"Keywords",t:zn},6:{n:"Comments",t:zn},7:{n:"Template",t:zn},8:{n:"LastAuthor",t:zn},9:{n:"RevNumber",t:zn},10:{n:"EditTime",t:jv},11:{n:"LastPrinted",t:jv},12:{n:"CreatedDate",t:jv},13:{n:"ModifiedDate",t:jv},14:{n:"PageCount",t:Gr},15:{n:"WordCount",t:Gr},16:{n:"CharCount",t:Gr},17:{n:"Thumbnail",t:sq},18:{n:"Application",t:zn},19:{n:"DocSecurity",t:Gr},255:{},2147483648:{n:"Locale",t:Jv},2147483651:{n:"Behavior",t:Jv},1919054434:{}},RN={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},fq=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function mq(i){return i.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var pq=mq([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ud=nr(pq),yd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},WL={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},MN={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function gq(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function _q(i){var t=gq();if(!i||!i.match)return t;var e={};if((i.match(wr)||[]).forEach(function(n){var r=yt(n);switch(r[0].replace(CG,"<")){case"<?xml":break;case"<Types":t.xmlns=r["xmlns"+(r[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":e[r.Extension]=r.ContentType;break;case"<Override":t[MN[r.ContentType]]!==void 0&&t[MN[r.ContentType]].push(r.PartName);break}}),t.xmlns!==PG.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=e,delete t.calcchains,t}var Ms={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function BT(i){var t=i.lastIndexOf("/");return i.slice(0,t+1)+"_rels/"+i.slice(t+1)+".rels"}function vp(i,t){var e={"!id":{}};if(!i)return e;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(i.match(wr)||[]).forEach(function(r){var a=yt(r);if(a[0]==="<Relationship"){var o={};o.Type=a.Type,o.Target=a.Target,o.Id=a.Id,a.TargetMode&&(o.TargetMode=a.TargetMode);var s=a.TargetMode==="External"?a.Target:fp(a.Target,t);e[s]=o,n[a.Id]=o}}),e["!id"]=n,e}var vq="application/vnd.oasis.opendocument.spreadsheet";function yq(i,t){for(var e=tS(i),n,r;n=Sp.exec(e);)switch(n[3]){case"manifest":break;case"file-entry":if(r=yt(n[0],!1),r.path=="/"&&r.type!==vq)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var yp=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],bq=(function(){for(var i=new Array(yp.length),t=0;t<yp.length;++t){var e=yp[t],n="(?:"+e[0].slice(0,e[0].indexOf(":"))+":)"+e[0].slice(e[0].indexOf(":")+1);i[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return i})();function $L(i){var t={};i=Ai(i);for(var e=0;e<yp.length;++e){var n=yp[e],r=i.match(bq[e]);r!=null&&r.length>0&&(t[n[1]]=ei(r[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Hn(t[n[1]]))}return t}var wq=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function GL(i,t,e,n){var r=[];if(typeof i=="string")r=xN(i,n);else for(var a=0;a<i.length;++a)r=r.concat(i[a].map(function(d){return{v:d}}));var o=typeof t=="string"?xN(t,n).map(function(d){return d.v}):t,s=0,c=0;if(o.length>0)for(var l=0;l!==r.length;l+=2){switch(c=+r[l+1].v,r[l].v){case"Worksheets":case"\u5DE5\u4F5C\u8868":case"\u041B\u0438\u0441\u0442\u044B":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30EF\u30FC\u30AF\u30B7\u30FC\u30C8":case"\u05D2\u05DC\u05D9\u05D5\u05E0\u05D5\u05EA \u05E2\u05D1\u05D5\u05D3\u05D4":case"Arbeitsbl\xE4tter":case"\xC7al\u0131\u015Fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xE1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xE1lculo":case"Werkbladen":e.Worksheets=c,e.SheetNames=o.slice(s,s+c);break;case"Named Ranges":case"Rangos con nombre":case"\u540D\u524D\u4ED8\u304D\u4E00\u89A7":case"Benannte Bereiche":case"Navngivne omr\xE5der":e.NamedRanges=c,e.DefinedNames=o.slice(s,s+c);break;case"Charts":case"Diagramme":e.Chartsheets=c,e.ChartNames=o.slice(s,s+c);break}s+=c}}function xq(i,t,e){var n={};return t||(t={}),i=Ai(i),wq.forEach(function(r){var a=(i.match(Tp(r[0]))||[])[1];switch(r[2]){case"string":a&&(t[r[1]]=ei(a));break;case"bool":t[r[1]]=a==="true";break;case"raw":var o=i.match(new RegExp("<"+r[0]+"[^>]*>([\\s\\S]*?)</"+r[0]+">"));o&&o.length>0&&(n[r[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&GL(n.HeadingPairs,n.TitlesOfParts,t,e),t}var Eq=/<[^>]+>[^<]*/g;function Cq(i,t){var e={},n="",r=i.match(Eq);if(r)for(var a=0;a!=r.length;++a){var o=r[a],s=yt(o);switch(s[0]){case"<?xml":break;case"<Properties":break;case"<property":n=ei(s.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),l=c[0].slice(4),d=c[1];switch(l){case"lpstr":case"bstr":case"lpwstr":e[n]=ei(d);break;case"bool":e[n]=Hi(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":e[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":e[n]=parseFloat(d);break;case"filetime":case"date":e[n]=Hn(d);break;case"cy":case"error":e[n]=ei(d);break;default:if(l.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,l,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return e}var Tq={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},DT;function Sq(i,t,e){DT||(DT=ZT(Tq)),t=DT[t]||t,i[t]=e}function fS(i){var t=i.read_shift(4),e=i.read_shift(4);return new Date((e/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function qL(i,t,e){var n=i.l,r=i.read_shift(0,"lpstr-cp");if(e)for(;i.l-n&3;)++i.l;return r}function KL(i,t,e){var n=i.read_shift(0,"lpwstr");return e&&(i.l+=4-(n.length+1&3)&3),n}function XL(i,t,e){return t===31?KL(i):qL(i,t,e)}function UT(i,t,e){return XL(i,t,e===!1?0:4)}function kq(i,t){if(!t)throw new Error("VtUnalignedString must have positive length");return XL(i,t,0)}function Iq(i){for(var t=i.read_shift(4),e=[],n=0;n!=t;++n){var r=i.l;e[n]=i.read_shift(0,"lpwstr").replace(vr,""),i.l-r&2&&(i.l+=2)}return e}function Dq(i){for(var t=i.read_shift(4),e=[],n=0;n!=t;++n)e[n]=i.read_shift(0,"lpstr-cp").replace(vr,"");return e}function Aq(i){var t=i.l,e=ey(i,HL);i[i.l]==0&&i[i.l+1]==0&&i.l-t&2&&(i.l+=2);var n=ey(i,Gr);return[e,n]}function Rq(i){for(var t=i.read_shift(4),e=[],n=0;n<t/2;++n)e.push(Aq(i));return e}function ON(i,t){for(var e=i.read_shift(4),n={},r=0;r!=e;++r){var a=i.read_shift(4),o=i.read_shift(4);n[a]=i.read_shift(o,t===1200?"utf16le":"utf8").replace(vr,"").replace(hp,"!"),t===1200&&o%2&&(i.l+=2)}return i.l&3&&(i.l=i.l>>3<<2),n}function YL(i){var t=i.read_shift(4),e=i.slice(i.l,i.l+t);return i.l+=t,(t&3)>0&&(i.l+=4-(t&3)&3),e}function Mq(i){var t={};return t.Size=i.read_shift(4),i.l+=t.Size+3-(t.Size-1)%4,t}function ey(i,t,e){var n=i.read_shift(2),r,a=e||{};if(i.l+=2,t!==AN&&n!==t&&dq.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===AN?n:t){case 2:return r=i.read_shift(2,"i"),a.raw||(i.l+=2),r;case 3:return r=i.read_shift(4,"i"),r;case 11:return i.read_shift(4)!==0;case 19:return r=i.read_shift(4),r;case 30:return qL(i,n,4).replace(vr,"");case 31:return KL(i);case 64:return fS(i);case 65:return YL(i);case 71:return Mq(i);case 80:return UT(i,n,!a.raw).replace(vr,"");case 81:return kq(i,n).replace(vr,"");case 4108:return Rq(i);case 4126:case 4127:return n==4127?Iq(i):Dq(i);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function FN(i,t){var e=i.l,n=i.read_shift(4),r=i.read_shift(4),a=[],o=0,s=0,c=-1,l={};for(o=0;o!=r;++o){var d=i.read_shift(4),h=i.read_shift(4);a[o]=[d,h+e]}a.sort(function(D,T){return D[1]-T[1]});var f={};for(o=0;o!=r;++o){if(i.l!==a[o][1]){var m=!0;if(o>0&&t)switch(t[a[o-1][0]].t){case 2:i.l+2===a[o][1]&&(i.l+=2,m=!1);break;case 80:i.l<=a[o][1]&&(i.l=a[o][1],m=!1);break;case 4108:i.l<=a[o][1]&&(i.l=a[o][1],m=!1);break}if((!t||o==0)&&i.l<=a[o][1]&&(m=!1,i.l=a[o][1]),m)throw new Error("Read Error: Expected address "+a[o][1]+" at "+i.l+" :"+o)}if(t){var v=t[a[o][0]];if(f[v.n]=ey(i,v.t,{raw:!0}),v.p==="version"&&(f[v.n]=String(f[v.n]>>16)+"."+("0000"+String(f[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(f[v.n]){case 0:f[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:uo(s=f[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+f[v.n])}}else if(a[o][0]===1){if(s=f.CodePage=ey(i,hS),uo(s),c!==-1){var _=i.l;i.l=a[c][1],l=ON(i,s),i.l=_}}else if(a[o][0]===0){if(s===0){c=o,i.l=a[o+1][1];continue}l=ON(i,s)}else{var y=l[a[o][0]],S;switch(i[i.l]){case 65:i.l+=4,S=YL(i);break;case 30:i.l+=4,S=UT(i,i[i.l-4]).replace(/\u0000+$/,"");break;case 31:i.l+=4,S=UT(i,i[i.l-4]).replace(/\u0000+$/,"");break;case 3:i.l+=4,S=i.read_shift(4,"i");break;case 19:i.l+=4,S=i.read_shift(4);break;case 5:i.l+=4,S=i.read_shift(8,"f");break;case 11:i.l+=4,S=dn(i,4);break;case 64:i.l+=4,S=Hn(fS(i));break;default:throw new Error("unparsed value: "+i[i.l])}f[y]=S}}return i.l=e+n,f}function PN(i,t,e){var n=i.content;if(!n)return{};ir(n,0);var r,a,o,s,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var l=n.read_shift(4),d=n.read_shift(16);if(d!==Qt.utils.consts.HEADER_CLSID&&d!==e)throw new Error("Bad PropertySet CLSID "+d);if(r=n.read_shift(4),r!==1&&r!==2)throw new Error("Unrecognized #Sets: "+r);if(a=n.read_shift(16),s=n.read_shift(4),r===1&&s!==n.l)throw new Error("Length mismatch: "+s+" !== "+n.l);r===2&&(o=n.read_shift(16),c=n.read_shift(4));var h=FN(n,t),f={SystemIdentifier:l};for(var m in h)f[m]=h[m];if(f.FMTID=a,r===1)return f;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var v;try{v=FN(n,null)}catch{}for(m in v)f[m]=v[m];return f.FMTID=[a,o],f}function Vc(i,t){return i.read_shift(t),null}function Oq(i,t,e){for(var n=[],r=i.l+t;i.l<r;)n.push(e(i,r-i.l));if(r!==i.l)throw new Error("Slurp error");return n}function dn(i,t){return i.read_shift(t)===1}function kn(i){return i.read_shift(2,"u")}function QL(i,t){return Oq(i,t,kn)}function Fq(i){var t=i.read_shift(1),e=i.read_shift(1);return e===1?t:t===1}function Op(i,t,e){var n=i.read_shift(e&&e.biff>=12?2:1),r="sbcs-cont",a=Ho;if(e&&e.biff>=8&&(Ho=1200),!e||e.biff==8){var o=i.read_shift(1);o&&(r="dbcs-cont")}else e.biff==12&&(r="wstr");e.biff>=2&&e.biff<=5&&(r="cpstr");var s=n?i.read_shift(n,r):"";return Ho=a,s}function Pq(i){var t=Ho;Ho=1200;var e=i.read_shift(2),n=i.read_shift(1),r=n&4,a=n&8,o=1+(n&1),s=0,c,l={};a&&(s=i.read_shift(2)),r&&(c=i.read_shift(4));var d=o==2?"dbcs-cont":"sbcs-cont",h=e===0?"":i.read_shift(e,d);return a&&(i.l+=4*s),r&&(i.l+=c),l.t=h,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),Ho=t,l}function md(i,t,e){var n;if(e){if(e.biff>=2&&e.biff<=5)return i.read_shift(t,"cpstr");if(e.biff>=12)return i.read_shift(t,"dbcs-cont")}var r=i.read_shift(1);return r===0?n=i.read_shift(t,"sbcs-cont"):n=i.read_shift(t,"dbcs-cont"),n}function Fp(i,t,e){var n=i.read_shift(e&&e.biff==2?1:2);return n===0?(i.l++,""):md(i,n,e)}function bd(i,t,e){if(e.biff>5)return Fp(i,t,e);var n=i.read_shift(1);return n===0?(i.l++,""):i.read_shift(n,e.biff<=4||!i.lens?"cpstr":"sbcs-cont")}function Nq(i){var t=i.read_shift(1);i.l++;var e=i.read_shift(2);return i.l+=2,[t,e]}function Lq(i){var t=i.read_shift(4),e=i.l,n=!1;t>24&&(i.l+=t-24,i.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),i.l=e);var r=i.read_shift((n?t-24:t)>>1,"utf16le").replace(vr,"");return n&&(i.l+=24),r}function Vq(i){for(var t=i.read_shift(2),e="";t-- >0;)e+="../";var n=i.read_shift(0,"lpstr-ansi");if(i.l+=2,i.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var r=i.read_shift(4);if(r===0)return e+n.replace(/\\/g,"/");var a=i.read_shift(4);if(i.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=i.read_shift(a>>1,"utf16le").replace(vr,"");return e+o}function Bq(i,t){var e=i.read_shift(16);switch(t-=16,e){case"e0c9ea79f9bace118c8200aa004ba90b":return Lq(i,t);case"0303000000000000c000000000000046":return Vq(i,t);default:throw new Error("Unsupported Moniker "+e)}}function Hv(i){var t=i.read_shift(4),e=t>0?i.read_shift(t,"utf16le").replace(vr,""):"";return e}function Uq(i,t){var e=i.l+t,n=i.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var r=i.read_shift(2);i.l+=2;var a,o,s,c,l="",d,h;r&16&&(a=Hv(i,e-i.l)),r&128&&(o=Hv(i,e-i.l)),(r&257)===257&&(s=Hv(i,e-i.l)),(r&257)===1&&(c=Bq(i,e-i.l)),r&8&&(l=Hv(i,e-i.l)),r&32&&(d=i.read_shift(16)),r&64&&(h=fS(i)),i.l=e;var f=o||s||c||"";f&&l&&(f+="#"+l),f||(f="#"+l),r&2&&f.charAt(0)=="/"&&f.charAt(1)!="/"&&(f="file://"+f);var m={Target:f};return d&&(m.guid=d),h&&(m.time=h),a&&(m.Tooltip=a),m}function ZL(i){var t=i.read_shift(1),e=i.read_shift(1),n=i.read_shift(1),r=i.read_shift(1);return[t,e,n,r]}function JL(i,t){var e=ZL(i,t);return e[3]=0,e}function Go(i){var t=i.read_shift(2),e=i.read_shift(2),n=i.read_shift(2);return{r:t,c:e,ixfe:n}}function zq(i){var t=i.read_shift(2),e=i.read_shift(2);return i.l+=8,{type:t,flags:e}}function jq(i,t,e){return t===0?"":bd(i,t,e)}function Hq(i,t,e){var n=e.biff>8?4:2,r=i.read_shift(n),a=i.read_shift(n,"i"),o=i.read_shift(n,"i");return[r,a,o]}function e4(i){var t=i.read_shift(2),e=uS(i);return[t,e]}function Wq(i,t,e){i.l+=4,t-=4;var n=i.l+t,r=Op(i,t,e),a=i.read_shift(2);if(n-=i.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return i.l+=a,r}function sy(i){var t=i.read_shift(2),e=i.read_shift(2),n=i.read_shift(2),r=i.read_shift(2);return{s:{c:n,r:t},e:{c:r,r:e}}}function t4(i){var t=i.read_shift(2),e=i.read_shift(2),n=i.read_shift(1),r=i.read_shift(1);return{s:{c:n,r:t},e:{c:r,r:e}}}var $q=t4;function i4(i){i.l+=4;var t=i.read_shift(2),e=i.read_shift(2),n=i.read_shift(2);return i.l+=12,[e,t,n]}function Gq(i){var t={};return i.l+=4,i.l+=16,t.fSharedNote=i.read_shift(2),i.l+=4,t}function qq(i){var t={};return i.l+=4,i.cf=i.read_shift(2),t}function mr(i){i.l+=2,i.l+=i.read_shift(2)}var Kq={0:mr,4:mr,5:mr,6:mr,7:qq,8:mr,9:mr,10:mr,11:mr,12:mr,13:Gq,14:mr,15:mr,16:mr,17:mr,18:mr,19:mr,20:mr,21:i4};function Xq(i,t){for(var e=i.l+t,n=[];i.l<e;){var r=i.read_shift(2);i.l-=2;try{n.push(Kq[r](i,e-i.l))}catch{return i.l=e,n}}return i.l!=e&&(i.l=e),n}function Wv(i,t){var e={BIFFVer:0,dt:0};switch(e.BIFFVer=i.read_shift(2),t-=2,t>=2&&(e.dt=i.read_shift(2),i.l-=2),e.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+e.BIFFVer)}return i.read_shift(t),e}function Yq(i,t){return t===0||i.read_shift(2),1200}function Qq(i,t,e){if(e.enc)return i.l+=t,"";var n=i.l,r=bd(i,0,e);return i.read_shift(t+n-i.l),r}function Zq(i,t,e){var n=e&&e.biff==8||t==2?i.read_shift(2):(i.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Jq(i,t,e){var n=i.read_shift(4),r=i.read_shift(1)&3,a=i.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var o=Op(i,0,e);return o.length===0&&(o="Sheet1"),{pos:n,hs:r,dt:a,name:o}}function eK(i,t){for(var e=i.l+t,n=i.read_shift(4),r=i.read_shift(4),a=[],o=0;o!=r&&i.l<e;++o)a.push(Pq(i));return a.Count=n,a.Unique=r,a}function tK(i,t){var e={};return e.dsst=i.read_shift(2),i.l+=t-2,e}function iK(i){var t={};t.r=i.read_shift(2),t.c=i.read_shift(2),t.cnt=i.read_shift(2)-t.c;var e=i.read_shift(2);i.l+=4;var n=i.read_shift(1);return i.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=e/20),t}function nK(i){var t=zq(i);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var e=i.read_shift(4);return e!==0}function rK(i){return i.read_shift(2),i.read_shift(4)}function NN(i,t,e){var n=0;e&&e.biff==2||(n=i.read_shift(2));var r=i.read_shift(2);e&&e.biff==2&&(n=1-(r>>15),r&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,r]}function aK(i){var t=i.read_shift(2),e=i.read_shift(2),n=i.read_shift(2),r=i.read_shift(2),a=i.read_shift(2),o=i.read_shift(2),s=i.read_shift(2),c=i.read_shift(2),l=i.read_shift(2);return{Pos:[t,e],Dim:[n,r],Flags:a,CurTab:o,FirstTab:s,Selected:c,TabRatio:l}}function oK(i,t,e){if(e&&e.biff>=2&&e.biff<5)return{};var n=i.read_shift(2);return{RTL:n&64}}function sK(){}function cK(i,t,e){var n={dyHeight:i.read_shift(2),fl:i.read_shift(2)};switch(e&&e.biff||8){case 2:break;case 3:case 4:i.l+=2;break;default:i.l+=10;break}return n.name=Op(i,0,e),n}function lK(i){var t=Go(i);return t.isst=i.read_shift(4),t}function dK(i,t,e){e.biffguess&&e.biff==2&&(e.biff=5);var n=i.l+t,r=Go(i,6);e.biff==2&&i.l++;var a=Fp(i,n-i.l,e);return r.val=a,r}function uK(i,t,e){var n=i.read_shift(2),r=bd(i,0,e);return[n,r]}var hK=bd;function LN(i,t,e){var n=i.l+t,r=e.biff==8||!e.biff?4:2,a=i.read_shift(r),o=i.read_shift(r),s=i.read_shift(2),c=i.read_shift(2);return i.l=n,{s:{r:a,c:s},e:{r:o,c}}}function fK(i){var t=i.read_shift(2),e=i.read_shift(2),n=e4(i);return{r:t,c:e,ixfe:n[0],rknum:n[1]}}function mK(i,t){for(var e=i.l+t-2,n=i.read_shift(2),r=i.read_shift(2),a=[];i.l<e;)a.push(e4(i));if(i.l!==e)throw new Error("MulRK read error");var o=i.read_shift(2);if(a.length!=o-r+1)throw new Error("MulRK length mismatch");return{r:n,c:r,C:o,rkrec:a}}function pK(i,t){for(var e=i.l+t-2,n=i.read_shift(2),r=i.read_shift(2),a=[];i.l<e;)a.push(i.read_shift(2));if(i.l!==e)throw new Error("MulBlank read error");var o=i.read_shift(2);if(a.length!=o-r+1)throw new Error("MulBlank length mismatch");return{r:n,c:r,C:o,ixfe:a}}function gK(i,t,e,n){var r={},a=i.read_shift(4),o=i.read_shift(4),s=i.read_shift(4),c=i.read_shift(2);return r.patternType=fq[s>>26],n.cellStyles&&(r.alc=a&7,r.fWrap=a>>3&1,r.alcV=a>>4&7,r.fJustLast=a>>7&1,r.trot=a>>8&255,r.cIndent=a>>16&15,r.fShrinkToFit=a>>20&1,r.iReadOrder=a>>22&2,r.fAtrNum=a>>26&1,r.fAtrFnt=a>>27&1,r.fAtrAlc=a>>28&1,r.fAtrBdr=a>>29&1,r.fAtrPat=a>>30&1,r.fAtrProt=a>>31&1,r.dgLeft=o&15,r.dgRight=o>>4&15,r.dgTop=o>>8&15,r.dgBottom=o>>12&15,r.icvLeft=o>>16&127,r.icvRight=o>>23&127,r.grbitDiag=o>>30&3,r.icvTop=s&127,r.icvBottom=s>>7&127,r.icvDiag=s>>14&127,r.dgDiag=s>>21&15,r.icvFore=c&127,r.icvBack=c>>7&127,r.fsxButton=c>>14&1),r}function _K(i,t,e){var n={};return n.ifnt=i.read_shift(2),n.numFmtId=i.read_shift(2),n.flags=i.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=gK(i,t,n.fStyle,e),n}function vK(i){i.l+=4;var t=[i.read_shift(2),i.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function VN(i,t,e){var n=Go(i,6);(e.biff==2||t==9)&&++i.l;var r=Fq(i,2);return n.val=r,n.t=r===!0||r===!1?"b":"e",n}function yK(i,t,e){e.biffguess&&e.biff==2&&(e.biff=5);var n=Go(i,6),r=gr(i,8);return n.val=r,n}var BN=jq;function bK(i,t,e){var n=i.l+t,r=i.read_shift(2),a=i.read_shift(2);if(e.sbcch=a,a==1025||a==14849)return[a,r];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var o=md(i,a),s=[];n>i.l;)s.push(Fp(i));return[a,r,o,s]}function UN(i,t,e){var n=i.read_shift(2),r,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return e.sbcch===14849&&(r=Wq(i,t-2,e)),a.body=r||i.read_shift(t-2),typeof r=="string"&&(a.Name=r),a}var wK=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function zN(i,t,e){var n=i.l+t,r=i.read_shift(2),a=i.read_shift(1),o=i.read_shift(1),s=i.read_shift(e&&e.biff==2?1:2),c=0;(!e||e.biff>=5)&&(e.biff!=5&&(i.l+=2),c=i.read_shift(2),e.biff==5&&(i.l+=2),i.l+=4);var l=md(i,o,e);r&32&&(l=wK[l.charCodeAt(0)]);var d=n-i.l;e&&e.biff==2&&--d;var h=n==i.l||s===0||!(d>0)?[]:iZ(i,d,e,s);return{chKey:a,Name:l,itab:c,rgce:h}}function n4(i,t,e){if(e.biff<8)return xK(i,t,e);for(var n=[],r=i.l+t,a=i.read_shift(e.biff>8?4:2);a--!==0;)n.push(Hq(i,e.biff>8?12:6,e));if(i.l!=r)throw new Error("Bad ExternSheet: "+i.l+" != "+r);return n}function xK(i,t,e){i[i.l+1]==3&&i[i.l]++;var n=Op(i,t,e);return n.charCodeAt(0)==3?n.slice(1):n}function EK(i,t,e){if(e.biff<8){i.l+=t;return}var n=i.read_shift(2),r=i.read_shift(2),a=md(i,n,e),o=md(i,r,e);return[a,o]}function CK(i,t,e){var n=t4(i,6);i.l++;var r=i.read_shift(1);return t-=8,[nZ(i,t,e),r,n]}function jN(i,t,e){var n=$q(i,6);switch(e.biff){case 2:i.l++,t-=7;break;case 3:case 4:i.l+=2,t-=8;break;default:i.l+=6,t-=12}return[n,eZ(i,t,e,n)]}function TK(i){var t=i.read_shift(4)!==0,e=i.read_shift(4)!==0,n=i.read_shift(4);return[t,e,n]}function SK(i,t,e){if(!(e.biff<8)){var n=i.read_shift(2),r=i.read_shift(2),a=i.read_shift(2),o=i.read_shift(2),s=bd(i,0,e);return e.biff<8&&i.read_shift(1),[{r:n,c:r},s,o,a]}}function kK(i,t,e){return SK(i,t,e)}function IK(i,t){for(var e=[],n=i.read_shift(2);n--;)e.push(sy(i,t));return e}function DK(i,t,e){if(e&&e.biff<8)return RK(i,t,e);var n=i4(i,22),r=Xq(i,t-22,n[1]);return{cmo:n,ft:r}}var AK={8:function(i,t){var e=i.l+t;i.l+=10;var n=i.read_shift(2);i.l+=4,i.l+=2,i.l+=2,i.l+=2,i.l+=4;var r=i.read_shift(1);return i.l+=r,i.l=e,{fmt:n}}};function RK(i,t,e){i.l+=4;var n=i.read_shift(2),r=i.read_shift(2),a=i.read_shift(2);i.l+=2,i.l+=2,i.l+=2,i.l+=2,i.l+=2,i.l+=2,i.l+=2,i.l+=2,i.l+=2,i.l+=6,t-=36;var o=[];return o.push((AK[n]||br)(i,t,e)),{cmo:[r,n,a],ft:o}}function MK(i,t,e){var n=i.l,r="";try{i.l+=4;var a=(e.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(a)==-1?i.l+=6:o=Nq(i,6,e);var s=i.read_shift(2);i.read_shift(2),kn(i,2);var c=i.read_shift(2);i.l+=c;for(var l=1;l<i.lens.length-1;++l){if(i.l-n!=i.lens[l])throw new Error("TxO: bad continue record");var d=i[i.l],h=md(i,i.lens[l+1]-i.lens[l]-1);if(r+=h,r.length>=(d?s:2*s))break}if(r.length!==s&&r.length!==s*2)throw new Error("cchText: "+s+" != "+r.length);return i.l=n+t,{t:r}}catch{return i.l=n+t,{t:r}}}function OK(i,t){var e=sy(i,8);i.l+=16;var n=Uq(i,t-24);return[e,n]}function FK(i,t){i.read_shift(2);var e=sy(i,8),n=i.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(vr,""),[e,n]}function PK(i){var t=[0,0],e;return e=i.read_shift(2),t[0]=RN[e]||e,e=i.read_shift(2),t[1]=RN[e]||e,t}function NK(i){for(var t=i.read_shift(2),e=[];t-- >0;)e.push(JL(i,8));return e}function LK(i){for(var t=i.read_shift(2),e=[];t-- >0;)e.push(JL(i,8));return e}function VK(i){i.l+=2;var t={cxfs:0,crc:0};return t.cxfs=i.read_shift(2),t.crc=i.read_shift(4),t}function r4(i,t,e){if(!e.cellStyles)return br(i,t);var n=e&&e.biff>=12?4:2,r=i.read_shift(n),a=i.read_shift(n),o=i.read_shift(n),s=i.read_shift(n),c=i.read_shift(2);n==2&&(i.l+=2);var l={s:r,e:a,w:o,ixfe:s,flags:c};return(e.biff>=5||!e.biff)&&(l.level=c>>8&7),l}function BK(i,t){var e={};return t<32||(i.l+=16,e.header=gr(i,8),e.footer=gr(i,8),i.l+=2),e}function UK(i,t,e){var n={area:!1};if(e.biff!=5)return i.l+=t,n;var r=i.read_shift(1);return i.l+=3,r&16&&(n.area=!0),n}var zK=Go,jK=QL,HK=Fp;function WK(i){var t=i.read_shift(2),e=i.read_shift(2),n=i.read_shift(4),r={fmt:t,env:e,len:n,data:i.slice(i.l,i.l+n)};return i.l+=n,r}function $K(i,t,e){e.biffguess&&e.biff==5&&(e.biff=2);var n=Go(i,6);++i.l;var r=bd(i,t-7,e);return n.t="str",n.val=r,n}function GK(i){var t=Go(i,6);++i.l;var e=gr(i,8);return t.t="n",t.val=e,t}function qK(i){var t=Go(i,6);++i.l;var e=i.read_shift(2);return t.t="n",t.val=e,t}function KK(i){var t=i.read_shift(1);return t===0?(i.l++,""):i.read_shift(t,"sbcs-cont")}function XK(i,t){i.l+=6,i.l+=2,i.l+=1,i.l+=3,i.l+=1,i.l+=t-13}function YK(i,t,e){var n=i.l+t,r=Go(i,6),a=i.read_shift(2),o=md(i,a,e);return i.l=n,r.t="str",r.val=o,r}var QK=[2,3,48,49,131,139,140,245],HN=(function(){var i={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=ZT({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function e(s,c){var l=[],d=Hc(1);switch(c.type){case"base64":d=lo(ga(s));break;case"binary":d=lo(s);break;case"buffer":case"array":d=s;break}ir(d,0);var h=d.read_shift(1),f=!!(h&136),m=!1,v=!1;switch(h){case 2:break;case 3:break;case 48:m=!0,f=!0;break;case 49:m=!0,f=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var _=0,y=521;h==2&&(_=d.read_shift(2)),d.l+=3,h!=2&&(_=d.read_shift(4)),_>1048576&&(_=1e6),h!=2&&(y=d.read_shift(2));var S=d.read_shift(2),D=c.codepage||1252;h!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(D=i[d[d.l]]),d.l+=1,d.l+=2),v&&(d.l+=36);for(var T=[],G={},K=Math.min(d.length,h==2?521:y-10-(m?264:0)),j=v?32:11;d.l<K&&d[d.l]!=13;)switch(G={},G.name=di.utils.decode(D,d.slice(d.l,d.l+j)).replace(/[\u0000\r\n].*$/g,""),d.l+=j,G.type=String.fromCharCode(d.read_shift(1)),h!=2&&!v&&(G.offset=d.read_shift(4)),G.len=d.read_shift(1),h==2&&(G.offset=d.read_shift(2)),G.dec=d.read_shift(1),G.name.length&&T.push(G),h!=2&&(d.l+=v?13:14),G.type){case"B":(!m||G.len!=8)&&c.WTF&&console.log("Skipping "+G.name+":"+G.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+G.name+":"+G.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+G.type)}if(d[d.l]!==13&&(d.l=y-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=y;var w=0,x=0;for(l[0]=[],x=0;x!=T.length;++x)l[0][x]=T[x].name;for(;_-- >0;){if(d[d.l]===42){d.l+=S;continue}for(++d.l,l[++w]=[],x=0,x=0;x!=T.length;++x){var E=d.slice(d.l,d.l+T[x].len);d.l+=T[x].len,ir(E,0);var A=di.utils.decode(D,E);switch(T[x].type){case"C":A.trim().length&&(l[w][x]=A.replace(/\s+$/,""));break;case"D":A.length===8?l[w][x]=new Date(+A.slice(0,4),+A.slice(4,6)-1,+A.slice(6,8)):l[w][x]=A;break;case"F":l[w][x]=parseFloat(A.trim());break;case"+":case"I":l[w][x]=v?E.read_shift(-4,"i")^2147483648:E.read_shift(4,"i");break;case"L":switch(A.trim().toUpperCase()){case"Y":case"T":l[w][x]=!0;break;case"N":case"F":l[w][x]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+A+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));l[w][x]="##MEMO##"+(v?parseInt(A.trim(),10):E.read_shift(4));break;case"N":A=A.replace(/\u0000/g,"").trim(),A&&A!="."&&(l[w][x]=+A||0);break;case"@":l[w][x]=new Date(E.read_shift(-8,"f")-621356832e5);break;case"T":l[w][x]=new Date((E.read_shift(4)-2440588)*864e5+E.read_shift(4));break;case"Y":l[w][x]=E.read_shift(4,"i")/1e4+E.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":l[w][x]=-E.read_shift(-8,"f");break;case"B":if(m&&T[x].len==8){l[w][x]=E.read_shift(8,"f");break}case"G":case"P":E.l+=T[x].len;break;case"0":if(T[x].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[x].type)}}}if(h!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(l=l.slice(0,c.sheetRows)),c.DBF=T,l}function n(s,c){var l=c||{};l.dateNF||(l.dateNF="yyyymmdd");var d=Eh(e(s,l),l);return d["!cols"]=l.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete l.DBF,d}function r(s,c){try{return $c(n(s,c),c)}catch(l){if(c&&c.WTF)throw l}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(s,c){var l=c||{};if(+l.codepage>=0&&uo(+l.codepage),l.type=="string")throw new Error("Cannot write DBF to JS string");var d=LT(),h=GT(s,{header:1,raw:!0,cellDates:!0}),f=h[0],m=h.slice(1),v=s["!cols"]||[],_=0,y=0,S=0,D=1;for(_=0;_<f.length;++_){if(((v[_]||{}).DBF||{}).name){f[_]=v[_].DBF.name,++S;continue}if(f[_]!=null){if(++S,typeof f[_]=="number"&&(f[_]=f[_].toString(10)),typeof f[_]!="string")throw new Error("DBF Invalid column name "+f[_]+" |"+typeof f[_]+"|");if(f.indexOf(f[_])!==_){for(y=0;y<1024;++y)if(f.indexOf(f[_]+"_"+y)==-1){f[_]+="_"+y;break}}}}var T=rn(s["!ref"]),G=[],K=[],j=[];for(_=0;_<=T.e.c-T.s.c;++_){var w="",x="",E=0,A=[];for(y=0;y<m.length;++y)m[y][_]!=null&&A.push(m[y][_]);if(A.length==0||f[_]==null){G[_]="?";continue}for(y=0;y<A.length;++y){switch(typeof A[y]){case"number":x="B";break;case"string":x="C";break;case"boolean":x="L";break;case"object":x=A[y]instanceof Date?"D":"C";break;default:x="C"}E=Math.max(E,String(A[y]).length),w=w&&w!=x?"C":x}E>250&&(E=250),x=((v[_]||{}).DBF||{}).type,x=="C"&&v[_].DBF.len>E&&(E=v[_].DBF.len),w=="B"&&x=="N"&&(w="N",j[_]=v[_].DBF.dec,E=v[_].DBF.len),K[_]=w=="C"||x=="N"?E:a[w]||0,D+=K[_],G[_]=w}var R=d.next(32);for(R.write_shift(4,318902576),R.write_shift(4,m.length),R.write_shift(2,296+32*S),R.write_shift(2,D),_=0;_<4;++_)R.write_shift(4,0);for(R.write_shift(4,0|(+t[_h]||3)<<8),_=0,y=0;_<f.length;++_)if(f[_]!=null){var k=d.next(32),O=(f[_].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,O,"sbcs"),k.write_shift(1,G[_]=="?"?"C":G[_],"sbcs"),k.write_shift(4,y),k.write_shift(1,K[_]||a[G[_]]||0),k.write_shift(1,j[_]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),y+=K[_]||a[G[_]]||0}var Ke=d.next(264);for(Ke.write_shift(4,13),_=0;_<65;++_)Ke.write_shift(4,0);for(_=0;_<m.length;++_){var Ie=d.next(D);for(Ie.write_shift(1,0),y=0;y<f.length;++y)if(f[y]!=null)switch(G[y]){case"L":Ie.write_shift(1,m[_][y]==null?63:m[_][y]?84:70);break;case"B":Ie.write_shift(8,m[_][y]||0,"f");break;case"N":var ct="0";for(typeof m[_][y]=="number"&&(ct=m[_][y].toFixed(j[y]||0)),S=0;S<K[y]-ct.length;++S)Ie.write_shift(1,32);Ie.write_shift(1,ct,"sbcs");break;case"D":m[_][y]?(Ie.write_shift(4,("0000"+m[_][y].getFullYear()).slice(-4),"sbcs"),Ie.write_shift(2,("00"+(m[_][y].getMonth()+1)).slice(-2),"sbcs"),Ie.write_shift(2,("00"+m[_][y].getDate()).slice(-2),"sbcs")):Ie.write_shift(8,"00000000","sbcs");break;case"C":var Ye=String(m[_][y]!=null?m[_][y]:"").slice(0,K[y]);for(Ie.write_shift(1,Ye,"sbcs"),S=0;S<K[y]-Ye.length;++S)Ie.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:r,to_sheet:n,from_sheet:o}})(),ZK=(function(){var i={AA:"\xC0",BA:"\xC1",CA:"\xC2",DA:195,HA:"\xC4",JA:197,AE:"\xC8",BE:"\xC9",CE:"\xCA",HE:"\xCB",AI:"\xCC",BI:"\xCD",CI:"\xCE",HI:"\xCF",AO:"\xD2",BO:"\xD3",CO:"\xD4",DO:213,HO:"\xD6",AU:"\xD9",BU:"\xDA",CU:"\xDB",HU:"\xDC",Aa:"\xE0",Ba:"\xE1",Ca:"\xE2",Da:227,Ha:"\xE4",Ja:229,Ae:"\xE8",Be:"\xE9",Ce:"\xEA",He:"\xEB",Ai:"\xEC",Bi:"\xED",Ci:"\xEE",Hi:"\xEF",Ao:"\xF2",Bo:"\xF3",Co:"\xF4",Do:245,Ho:"\xF6",Au:"\xF9",Bu:"\xFA",Cu:"\xFB",Hu:"\xFC",KC:"\xC7",Kc:"\xE7",q:"\xE6",z:"\u0153",a:"\xC6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Wo(i).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),e=function(f,m){var v=i[m];return typeof v=="number"?rN(v):v},n=function(f,m,v){var _=m.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return _==59?f:rN(_)};i["|"]=254;function r(f,m){switch(m.type){case"base64":return a(ga(f),m);case"binary":return a(f,m);case"buffer":return a(Gt&&Buffer.isBuffer(f)?f.toString("binary"):gd(f),m);case"array":return a(fd(f),m)}throw new Error("Unrecognized type "+m.type)}function a(f,m){var v=f.split(/[\n\r]+/),_=-1,y=-1,S=0,D=0,T=[],G=[],K=null,j={},w=[],x=[],E=[],A=0,R;for(+m.codepage>=0&&uo(+m.codepage);S!==v.length;++S){A=0;var k=v[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,e),O=k.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),Ke=O[0],Ie;if(k.length>0)switch(Ke){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":O[1].charAt(0)=="P"&&G.push(k.slice(3).replace(/;;/g,";"));break;case"C":var ct=!1,Ye=!1,Pt=!1,ze=!1,nt=-1,ue=-1;for(D=1;D<O.length;++D)switch(O[D].charAt(0)){case"A":break;case"X":y=parseInt(O[D].slice(1))-1,Ye=!0;break;case"Y":for(_=parseInt(O[D].slice(1))-1,Ye||(y=0),R=T.length;R<=_;++R)T[R]=[];break;case"K":Ie=O[D].slice(1),Ie.charAt(0)==='"'?Ie=Ie.slice(1,Ie.length-1):Ie==="TRUE"?Ie=!0:Ie==="FALSE"?Ie=!1:isNaN(fo(Ie))?isNaN(vh(Ie).getDate())||(Ie=Hn(Ie)):(Ie=fo(Ie),K!==null&&bh(K)&&(Ie=ay(Ie))),typeof di<"u"&&typeof Ie=="string"&&(m||{}).type!="string"&&(m||{}).codepage&&(Ie=di.utils.decode(m.codepage,Ie)),ct=!0;break;case"E":ze=!0;var H=ph(O[D].slice(1),{r:_,c:y});T[_][y]=[T[_][y],H];break;case"S":Pt=!0,T[_][y]=[T[_][y],"S5S"];break;case"G":break;case"R":nt=parseInt(O[D].slice(1))-1;break;case"C":ue=parseInt(O[D].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+k)}if(ct&&(T[_][y]&&T[_][y].length==2?T[_][y][0]=Ie:T[_][y]=Ie,K=null),Pt){if(ze)throw new Error("SYLK shared formula cannot have own formula");var J=nt>-1&&T[nt][ue];if(!J||!J[1])throw new Error("SYLK shared formula cannot find base");T[_][y][1]=m4(J[1],{r:_-nt,c:y-ue})}break;case"F":var X=0;for(D=1;D<O.length;++D)switch(O[D].charAt(0)){case"X":y=parseInt(O[D].slice(1))-1,++X;break;case"Y":for(_=parseInt(O[D].slice(1))-1,R=T.length;R<=_;++R)T[R]=[];break;case"M":A=parseInt(O[D].slice(1))/20;break;case"F":break;case"G":break;case"P":K=G[parseInt(O[D].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(E=O[D].slice(1).split(" "),R=parseInt(E[0],10);R<=parseInt(E[1],10);++R)A=parseInt(E[2],10),x[R-1]=A===0?{hidden:!0}:{wch:A},yh(x[R-1]);break;case"C":y=parseInt(O[D].slice(1))-1,x[y]||(x[y]={});break;case"R":_=parseInt(O[D].slice(1))-1,w[_]||(w[_]={}),A>0?(w[_].hpt=A,w[_].hpx=Dp(A)):A===0&&(w[_].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+k)}X<1&&(K=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+k)}}return w.length>0&&(j["!rows"]=w),x.length>0&&(j["!cols"]=x),m&&m.sheetRows&&(T=T.slice(0,m.sheetRows)),[T,j]}function o(f,m){var v=r(f,m),_=v[0],y=v[1],S=Eh(_,m);return Wo(y).forEach(function(D){S[D]=y[D]}),S}function s(f,m){return $c(o(f,m),m)}function c(f,m,v,_){var y="C;Y"+(v+1)+";X"+(_+1)+";K";switch(f.t){case"n":y+=f.v||0,f.f&&!f.F&&(y+=";E"+VY(f.f,{r:v,c:_}));break;case"b":y+=f.v?"TRUE":"FALSE";break;case"e":y+=f.w||f.v;break;case"d":y+='"'+(f.w||f.v)+'"';break;case"s":y+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function l(f,m){m.forEach(function(v,_){var y="F;W"+(_+1)+" "+(_+1)+" ";v.hidden?y+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=iy(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=ny(v.wpx)),typeof v.wch=="number"&&(y+=Math.round(v.wch))),y.charAt(y.length-1)!=" "&&f.push(y)})}function d(f,m){m.forEach(function(v,_){var y="F;";v.hidden?y+="M0;":v.hpt?y+="M"+20*v.hpt+";":v.hpx&&(y+="M"+20*u4(v.hpx)+";"),y.length>2&&f.push(y+"R"+(_+1))})}function h(f,m){var v=["ID;PWXL;N;E"],_=[],y=rn(f["!ref"]),S,D=Array.isArray(f),T=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),f["!cols"]&&l(v,f["!cols"]),f["!rows"]&&d(v,f["!rows"]),v.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var G=y.s.r;G<=y.e.r;++G)for(var K=y.s.c;K<=y.e.c;++K){var j=It({r:G,c:K});S=D?(f[G]||[])[K]:f[j],!(!S||S.v==null&&(!S.f||S.F))&&_.push(c(S,f,G,K,m))}return v.join(T)+T+_.join(T)+T+"E"+T}return{to_workbook:s,to_sheet:o,from_sheet:h}})(),JK=(function(){function i(a,o){switch(o.type){case"base64":return t(ga(a),o);case"binary":return t(a,o);case"buffer":return t(Gt&&Buffer.isBuffer(a)?a.toString("binary"):gd(a),o);case"array":return t(fd(a),o)}throw new Error("Unrecognized type "+o.type)}function t(a,o){for(var s=a.split(`
`),c=-1,l=-1,d=0,h=[];d!==s.length;++d){if(s[d].trim()==="BOT"){h[++c]=[],l=0;continue}if(!(c<0)){var f=s[d].trim().split(","),m=f[0],v=f[1];++d;for(var _=s[d]||"";(_.match(/["]/g)||[]).length&1&&d<s.length-1;)_+=`
`+s[++d];switch(_=_.trim(),+m){case-1:if(_==="BOT"){h[++c]=[],l=0;continue}else if(_!=="EOD")throw new Error("Unrecognized DIF special command "+_);break;case 0:_==="TRUE"?h[c][l]=!0:_==="FALSE"?h[c][l]=!1:isNaN(fo(v))?isNaN(vh(v).getDate())?h[c][l]=v:h[c][l]=Hn(v):h[c][l]=fo(v),++l;break;case 1:_=_.slice(1,_.length-1),_=_.replace(/""/g,'"'),dp&&_&&_.match(/^=".*"$/)&&(_=_.slice(2,-1)),h[c][l++]=_!==""?_:null;break}if(_==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function e(a,o){return Eh(i(a,o),o)}function n(a,o){return $c(e(a,o),o)}var r=(function(){var a=function(c,l,d,h,f){c.push(l),c.push(d+","+h),c.push('"'+f.replace(/"/g,'""')+'"')},o=function(c,l,d,h){c.push(l+","+d),c.push(l==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var l=[],d=rn(c["!ref"]),h,f=Array.isArray(c);a(l,"TABLE",0,1,"sheetjs"),a(l,"VECTORS",0,d.e.r-d.s.r+1,""),a(l,"TUPLES",0,d.e.c-d.s.c+1,""),a(l,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){o(l,-1,0,"BOT");for(var v=d.s.c;v<=d.e.c;++v){var _=It({r:m,c:v});if(h=f?(c[m]||[])[v]:c[_],!h){o(l,1,0,"");continue}switch(h.t){case"n":var y=dp?h.w:h.v;!y&&h.v!=null&&(y=h.v),y==null?dp&&h.f&&!h.F?o(l,1,0,"="+h.f):o(l,1,0,""):o(l,0,y,"V");break;case"b":o(l,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(l,1,0,!dp||isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Fa(h.z||Rt[14],Lr(Hn(h.v)))),dp?o(l,0,h.w,"V"):o(l,1,0,h.w);break;default:o(l,1,0,"")}}}o(l,-1,0,"EOD");var S=`\r
`,D=l.join(S);return D}})();return{to_workbook:n,to_sheet:e,from_sheet:r}})(),eX=(function(){function i(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function e(h,f){for(var m=h.split(`
`),v=-1,_=-1,y=0,S=[];y!==m.length;++y){var D=m[y].trim().split(":");if(D[0]==="cell"){var T=Nr(D[1]);if(S.length<=T.r)for(v=S.length;v<=T.r;++v)S[v]||(S[v]=[]);switch(v=T.r,_=T.c,D[2]){case"t":S[v][_]=i(D[3]);break;case"v":S[v][_]=+D[3];break;case"vtf":var G=D[D.length-1];case"vtc":switch(D[3]){case"nl":S[v][_]=!!+D[4];break;default:S[v][_]=+D[4];break}D[2]=="vtf"&&(S[v][_]=[S[v][_],G])}}}return f&&f.sheetRows&&(S=S.slice(0,f.sheetRows)),S}function n(h,f){return Eh(e(h,f),f)}function r(h,f){return $c(n(h,f),f)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function l(h){if(!h||!h["!ref"])return"";for(var f=[],m=[],v,_="",y=xh(h["!ref"]),S=Array.isArray(h),D=y.s.r;D<=y.e.r;++D)for(var T=y.s.c;T<=y.e.c;++T)if(_=It({r:D,c:T}),v=S?(h[D]||[])[T]:h[_],!(!v||v.v==null||v.t==="z")){switch(m=["cell",_,"t"],v.t){case"s":case"str":m.push(t(v.v));break;case"n":v.f?(m[2]="vtf",m[3]="n",m[4]=v.v,m[5]=t(v.f)):(m[2]="v",m[3]=v.v);break;case"b":m[2]="vt"+(v.f?"f":"c"),m[3]="nl",m[4]=v.v?"1":"0",m[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var G=Lr(Hn(v.v));m[2]="vtc",m[3]="nd",m[4]=""+G,m[5]=v.w||Fa(v.z||Rt[14],G);break;case"e":continue}f.push(m.join(":"))}return f.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function d(h){return[a,o,s,o,l(h),c].join(`
`)}return{to_workbook:r,to_sheet:n,from_sheet:d}})(),kp=(function(){function i(d,h,f,m,v){v.raw?h[f][m]=d:d===""||(d==="TRUE"?h[f][m]=!0:d==="FALSE"?h[f][m]=!1:isNaN(fo(d))?isNaN(vh(d).getDate())?h[f][m]=d:h[f][m]=Hn(d):h[f][m]=fo(d))}function t(d,h){var f=h||{},m=[];if(!d||d.length===0)return m;for(var v=d.split(/[\r\n]/),_=v.length-1;_>=0&&v[_].length===0;)--_;for(var y=10,S=0,D=0;D<=_;++D)S=v[D].indexOf(" "),S==-1?S=v[D].length:S++,y=Math.max(y,S);for(D=0;D<=_;++D){m[D]=[];var T=0;for(i(v[D].slice(0,y).trim(),m,D,T,f),T=1;T<=(v[D].length-y)/10+1;++T)i(v[D].slice(y+(T-1)*10,y+T*10).trim(),m,D,T,f)}return f.sheetRows&&(m=m.slice(0,f.sheetRows)),m}var e={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(d){for(var h={},f=!1,m=0,v=0;m<d.length;++m)(v=d.charCodeAt(m))==34?f=!f:!f&&v in e&&(h[v]=(h[v]||0)+1);v=[];for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&v.push([h[m],m]);if(!v.length){h=n;for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&v.push([h[m],m])}return v.sort(function(_,y){return _[0]-y[0]||n[_[1]]-n[y[1]]}),e[v.pop()[1]]||44}function a(d,h){var f=h||{},m="";Dn!=null&&f.dense==null&&(f.dense=Dn);var v=f.dense?[]:{},_={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=r(d.slice(0,1024)):f&&f.FS?m=f.FS:m=r(d.slice(0,1024));var y=0,S=0,D=0,T=0,G=0,K=m.charCodeAt(0),j=!1,w=0,x=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var E=f.dateNF!=null?uG(f.dateNF):null;function A(){var R=d.slice(T,G),k={};if(R.charAt(0)=='"'&&R.charAt(R.length-1)=='"'&&(R=R.slice(1,-1).replace(/""/g,'"')),R.length===0)k.t="z";else if(f.raw)k.t="s",k.v=R;else if(R.trim().length===0)k.t="s",k.v=R;else if(R.charCodeAt(0)==61)R.charCodeAt(1)==34&&R.charCodeAt(R.length-1)==34?(k.t="s",k.v=R.slice(2,-1).replace(/""/g,'"')):UY(R)?(k.t="n",k.f=R.slice(1)):(k.t="s",k.v=R);else if(R=="TRUE")k.t="b",k.v=!0;else if(R=="FALSE")k.t="b",k.v=!1;else if(!isNaN(D=fo(R)))k.t="n",f.cellText!==!1&&(k.w=R),k.v=D;else if(!isNaN(vh(R).getDate())||E&&R.match(E)){k.z=f.dateNF||Rt[14];var O=0;E&&R.match(E)&&(R=hG(R,f.dateNF,R.match(E)||[]),O=1),f.cellDates?(k.t="d",k.v=Hn(R,O)):(k.t="n",k.v=Lr(Hn(R,O))),f.cellText!==!1&&(k.w=Fa(k.z,k.v instanceof Date?Lr(k.v):k.v)),f.cellNF||delete k.z}else k.t="s",k.v=R;if(k.t=="z"||(f.dense?(v[y]||(v[y]=[]),v[y][S]=k):v[It({c:S,r:y})]=k),T=G+1,x=d.charCodeAt(T),_.e.c<S&&(_.e.c=S),_.e.r<y&&(_.e.r=y),w==K)++S;else if(S=0,++y,f.sheetRows&&f.sheetRows<=y)return!0}e:for(;G<d.length;++G)switch(w=d.charCodeAt(G)){case 34:x===34&&(j=!j);break;case K:case 10:case 13:if(!j&&A())break e;break;default:break}return G-T>0&&A(),v["!ref"]=Zt(_),v}function o(d,h){return!(h&&h.PRN)||h.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?a(d,h):Eh(t(d,h),h)}function s(d,h){var f="",m=h.type=="string"?[0,0,0,0]:wS(d,h);switch(h.type){case"base64":f=ga(d);break;case"binary":f=d;break;case"buffer":h.codepage==65001?f=d.toString("utf8"):h.codepage&&typeof di<"u"?f=di.utils.decode(h.codepage,d):f=Gt&&Buffer.isBuffer(d)?d.toString("binary"):gd(d);break;case"array":f=fd(d);break;case"string":f=d;break;default:throw new Error("Unrecognized type "+h.type)}return m[0]==239&&m[1]==187&&m[2]==191?f=Ai(f.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?f=Ai(f):h.type=="binary"&&typeof di<"u"&&h.codepage&&(f=di.utils.decode(h.codepage,di.utils.encode(28591,f))),f.slice(0,19)=="socialcalc:version:"?eX.to_sheet(h.type=="string"?f:Ai(f),h):o(f,h)}function c(d,h){return $c(s(d,h),h)}function l(d){for(var h=[],f=rn(d["!ref"]),m,v=Array.isArray(d),_=f.s.r;_<=f.e.r;++_){for(var y=[],S=f.s.c;S<=f.e.c;++S){var D=It({r:_,c:S});if(m=v?(d[_]||[])[S]:d[D],!m||m.v==null){y.push("          ");continue}for(var T=(m.w||(Ns(m),m.w)||"").slice(0,10);T.length<10;)T+=" ";y.push(T+(S===0?" ":""))}h.push(y.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:s,from_sheet:l}})();function tX(i,t){var e=t||{},n=!!e.WTF;e.WTF=!0;try{var r=ZK.to_workbook(i,e);return e.WTF=n,r}catch(a){if(e.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return kp.to_workbook(i,t)}}var bp=(function(){function i(H,J,X){if(H){ir(H,H.l||0);for(var q=X.Enum||nt;H.l<H.length;){var he=H.read_shift(2),We=q[he]||q[65535],Le=H.read_shift(2),qe=H.l+Le,_e=We.f&&We.f(H,Le,X);if(H.l=qe,J(_e,We,he))return}}}function t(H,J){switch(J.type){case"base64":return e(lo(ga(H)),J);case"binary":return e(lo(H),J);case"buffer":case"array":return e(H,J)}throw"Unsupported type "+J.type}function e(H,J){if(!H)return H;var X=J||{};Dn!=null&&X.dense==null&&(X.dense=Dn);var q=X.dense?[]:{},he="Sheet1",We="",Le=0,qe={},_e=[],Nt=[],W={s:{r:0,c:0},e:{r:0,c:0}},gi=X.sheetRows||0;if(H[2]==0&&(H[3]==8||H[3]==9)&&H.length>=16&&H[14]==5&&H[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(H[2]==2)X.Enum=nt,i(H,function(je,Wi,Er){switch(Er){case 0:X.vers=je,je>=4096&&(X.qpro=!0);break;case 6:W=je;break;case 204:je&&(We=je);break;case 222:We=je;break;case 15:case 51:X.qpro||(je[1].v=je[1].v.slice(1));case 13:case 14:case 16:Er==14&&(je[2]&112)==112&&(je[2]&15)>1&&(je[2]&15)<15&&(je[1].z=X.dateNF||Rt[14],X.cellDates&&(je[1].t="d",je[1].v=ay(je[1].v))),X.qpro&&je[3]>Le&&(q["!ref"]=Zt(W),qe[he]=q,_e.push(he),q=X.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},Le=je[3],he=We||"Sheet"+(Le+1),We="");var qr=X.dense?(q[je[0].r]||[])[je[0].c]:q[It(je[0])];if(qr){qr.t=je[1].t,qr.v=je[1].v,je[1].z!=null&&(qr.z=je[1].z),je[1].f!=null&&(qr.f=je[1].f);break}X.dense?(q[je[0].r]||(q[je[0].r]=[]),q[je[0].r][je[0].c]=je[1]):q[It(je[0])]=je[1];break;default:}},X);else if(H[2]==26||H[2]==14)X.Enum=ue,H[2]==14&&(X.qpro=!0,H.l=0),i(H,function(je,Wi,Er){switch(Er){case 204:he=je;break;case 22:je[1].v=je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(je[3]>Le&&(q["!ref"]=Zt(W),qe[he]=q,_e.push(he),q=X.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},Le=je[3],he="Sheet"+(Le+1)),gi>0&&je[0].r>=gi)break;X.dense?(q[je[0].r]||(q[je[0].r]=[]),q[je[0].r][je[0].c]=je[1]):q[It(je[0])]=je[1],W.e.c<je[0].c&&(W.e.c=je[0].c),W.e.r<je[0].r&&(W.e.r=je[0].r);break;case 27:je[14e3]&&(Nt[je[14e3][0]]=je[14e3][1]);break;case 1537:Nt[je[0]]=je[1],je[0]==Le&&(he=je[1]);break;default:break}},X);else throw new Error("Unrecognized LOTUS BOF "+H[2]);if(q["!ref"]=Zt(W),qe[We||he]=q,_e.push(We||he),!Nt.length)return{SheetNames:_e,Sheets:qe};for(var zt={},ri=[],Ft=0;Ft<Nt.length;++Ft)qe[_e[Ft]]?(ri.push(Nt[Ft]||_e[Ft]),zt[Nt[Ft]]=qe[Nt[Ft]]||qe[_e[Ft]]):(ri.push(Nt[Ft]),zt[Nt[Ft]]={"!ref":"A1"});return{SheetNames:ri,Sheets:zt}}function n(H,J){var X=J||{};if(+X.codepage>=0&&uo(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var q=LT(),he=rn(H["!ref"]),We=Array.isArray(H),Le=[];co(q,0,a(1030)),co(q,6,c(he));for(var qe=Math.min(he.e.r,8191),_e=he.s.r;_e<=qe;++_e)for(var Nt=rr(_e),W=he.s.c;W<=he.e.c;++W){_e===he.s.r&&(Le[W]=Rn(W));var gi=Le[W]+Nt,zt=We?(H[_e]||[])[W]:H[gi];if(!(!zt||zt.t=="z"))if(zt.t=="n")(zt.v|0)==zt.v&&zt.v>=-32768&&zt.v<=32767?co(q,13,m(_e,W,zt.v)):co(q,14,_(_e,W,zt.v));else{var ri=Ns(zt);co(q,15,h(_e,W,ri.slice(0,239)))}}return co(q,1),q.end()}function r(H,J){var X=J||{};if(+X.codepage>=0&&uo(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var q=LT();co(q,0,o(H));for(var he=0,We=0;he<H.SheetNames.length;++he)(H.Sheets[H.SheetNames[he]]||{})["!ref"]&&co(q,27,ze(H.SheetNames[he],We++));var Le=0;for(he=0;he<H.SheetNames.length;++he){var qe=H.Sheets[H.SheetNames[he]];if(!(!qe||!qe["!ref"])){for(var _e=rn(qe["!ref"]),Nt=Array.isArray(qe),W=[],gi=Math.min(_e.e.r,8191),zt=_e.s.r;zt<=gi;++zt)for(var ri=rr(zt),Ft=_e.s.c;Ft<=_e.e.c;++Ft){zt===_e.s.r&&(W[Ft]=Rn(Ft));var je=W[Ft]+ri,Wi=Nt?(qe[zt]||[])[Ft]:qe[je];if(!(!Wi||Wi.t=="z"))if(Wi.t=="n")co(q,23,A(zt,Ft,Le,Wi.v));else{var Er=Ns(Wi);co(q,22,w(zt,Ft,Le,Er.slice(0,239)))}}++Le}}return co(q,1),q.end()}function a(H){var J=In(2);return J.write_shift(2,H),J}function o(H){var J=In(26);J.write_shift(2,4096),J.write_shift(2,4),J.write_shift(4,0);for(var X=0,q=0,he=0,We=0;We<H.SheetNames.length;++We){var Le=H.SheetNames[We],qe=H.Sheets[Le];if(!(!qe||!qe["!ref"])){++he;var _e=xh(qe["!ref"]);X<_e.e.r&&(X=_e.e.r),q<_e.e.c&&(q=_e.e.c)}}return X>8191&&(X=8191),J.write_shift(2,X),J.write_shift(1,he),J.write_shift(1,q),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(1,1),J.write_shift(1,2),J.write_shift(4,0),J.write_shift(4,0),J}function s(H,J,X){var q={s:{c:0,r:0},e:{c:0,r:0}};return J==8&&X.qpro?(q.s.c=H.read_shift(1),H.l++,q.s.r=H.read_shift(2),q.e.c=H.read_shift(1),H.l++,q.e.r=H.read_shift(2),q):(q.s.c=H.read_shift(2),q.s.r=H.read_shift(2),J==12&&X.qpro&&(H.l+=2),q.e.c=H.read_shift(2),q.e.r=H.read_shift(2),J==12&&X.qpro&&(H.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function c(H){var J=In(8);return J.write_shift(2,H.s.c),J.write_shift(2,H.s.r),J.write_shift(2,H.e.c),J.write_shift(2,H.e.r),J}function l(H,J,X){var q=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(q[0].c=H.read_shift(1),q[3]=H.read_shift(1),q[0].r=H.read_shift(2),H.l+=2):(q[2]=H.read_shift(1),q[0].c=H.read_shift(2),q[0].r=H.read_shift(2)),q}function d(H,J,X){var q=H.l+J,he=l(H,J,X);if(he[1].t="s",X.vers==20768){H.l++;var We=H.read_shift(1);return he[1].v=H.read_shift(We,"utf8"),he}return X.qpro&&H.l++,he[1].v=H.read_shift(q-H.l,"cstr"),he}function h(H,J,X){var q=In(7+X.length);q.write_shift(1,255),q.write_shift(2,J),q.write_shift(2,H),q.write_shift(1,39);for(var he=0;he<q.length;++he){var We=X.charCodeAt(he);q.write_shift(1,We>=128?95:We)}return q.write_shift(1,0),q}function f(H,J,X){var q=l(H,J,X);return q[1].v=H.read_shift(2,"i"),q}function m(H,J,X){var q=In(7);return q.write_shift(1,255),q.write_shift(2,J),q.write_shift(2,H),q.write_shift(2,X,"i"),q}function v(H,J,X){var q=l(H,J,X);return q[1].v=H.read_shift(8,"f"),q}function _(H,J,X){var q=In(13);return q.write_shift(1,255),q.write_shift(2,J),q.write_shift(2,H),q.write_shift(8,X,"f"),q}function y(H,J,X){var q=H.l+J,he=l(H,J,X);if(he[1].v=H.read_shift(8,"f"),X.qpro)H.l=q;else{var We=H.read_shift(2);G(H.slice(H.l,H.l+We),he),H.l+=We}return he}function S(H,J,X){var q=J&32768;return J&=-32769,J=(q?H:0)+(J>=8192?J-16384:J),(q?"":"$")+(X?Rn(J):rr(J))}var D={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function G(H,J){ir(H,0);for(var X=[],q=0,he="",We="",Le="",qe="";H.l<H.length;){var _e=H[H.l++];switch(_e){case 0:X.push(H.read_shift(8,"f"));break;case 1:We=S(J[0].c,H.read_shift(2),!0),he=S(J[0].r,H.read_shift(2),!1),X.push(We+he);break;case 2:{var Nt=S(J[0].c,H.read_shift(2),!0),W=S(J[0].r,H.read_shift(2),!1);We=S(J[0].c,H.read_shift(2),!0),he=S(J[0].r,H.read_shift(2),!1),X.push(Nt+W+":"+We+he)}break;case 3:if(H.l<H.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(H.read_shift(2));break;case 6:{for(var gi="";_e=H[H.l++];)gi+=String.fromCharCode(_e);X.push('"'+gi.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:qe=X.pop(),Le=X.pop(),X.push(["AND","OR"][_e-20]+"("+Le+","+qe+")");break;default:if(_e<32&&T[_e])qe=X.pop(),Le=X.pop(),X.push(Le+T[_e]+qe);else if(D[_e]){if(q=D[_e][1],q==69&&(q=H[H.l++]),q>X.length){console.error("WK1 bad formula parse 0x"+_e.toString(16)+":|"+X.join("|")+"|");return}var zt=X.slice(-q);X.length-=q,X.push(D[_e][0]+"("+zt.join(",")+")")}else return _e<=7?console.error("WK1 invalid opcode "+_e.toString(16)):_e<=24?console.error("WK1 unsupported op "+_e.toString(16)):_e<=30?console.error("WK1 invalid opcode "+_e.toString(16)):_e<=115?console.error("WK1 unsupported function opcode "+_e.toString(16)):console.error("WK1 unrecognized opcode "+_e.toString(16))}}X.length==1?J[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function K(H){var J=[{c:0,r:0},{t:"n",v:0},0];return J[0].r=H.read_shift(2),J[3]=H[H.l++],J[0].c=H[H.l++],J}function j(H,J){var X=K(H,J);return X[1].t="s",X[1].v=H.read_shift(J-4,"cstr"),X}function w(H,J,X,q){var he=In(6+q.length);he.write_shift(2,H),he.write_shift(1,X),he.write_shift(1,J),he.write_shift(1,39);for(var We=0;We<q.length;++We){var Le=q.charCodeAt(We);he.write_shift(1,Le>=128?95:Le)}return he.write_shift(1,0),he}function x(H,J){var X=K(H,J);X[1].v=H.read_shift(2);var q=X[1].v>>1;if(X[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return X[1].v=q,X}function E(H,J){var X=K(H,J),q=H.read_shift(4),he=H.read_shift(4),We=H.read_shift(2);if(We==65535)return q===0&&he===3221225472?(X[1].t="e",X[1].v=15):q===0&&he===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var Le=We&32768;return We=(We&32767)-16446,X[1].v=(1-Le*2)*(he*Math.pow(2,We+32)+q*Math.pow(2,We)),X}function A(H,J,X,q){var he=In(14);if(he.write_shift(2,H),he.write_shift(1,X),he.write_shift(1,J),q==0)return he.write_shift(4,0),he.write_shift(4,0),he.write_shift(2,65535),he;var We=0,Le=0,qe=0,_e=0;return q<0&&(We=1,q=-q),Le=Math.log2(q)|0,q/=Math.pow(2,Le-31),_e=q>>>0,(_e&2147483648)==0&&(q/=2,++Le,_e=q>>>0),q-=_e,_e|=2147483648,_e>>>=0,q*=Math.pow(2,32),qe=q>>>0,he.write_shift(4,qe),he.write_shift(4,_e),Le+=16383+(We?32768:0),he.write_shift(2,Le),he}function R(H,J){var X=E(H,14);return H.l+=J-14,X}function k(H,J){var X=K(H,J),q=H.read_shift(4);return X[1].v=q>>6,X}function O(H,J){var X=K(H,J),q=H.read_shift(8,"f");return X[1].v=q,X}function Ke(H,J){var X=O(H,14);return H.l+=J-10,X}function Ie(H,J){return H[H.l+J-1]==0?H.read_shift(J,"cstr"):""}function ct(H,J){var X=H[H.l++];X>J-1&&(X=J-1);for(var q="";q.length<X;)q+=String.fromCharCode(H[H.l++]);return q}function Ye(H,J,X){if(!(!X.qpro||J<21)){var q=H.read_shift(1);H.l+=17,H.l+=1,H.l+=2;var he=H.read_shift(J-21,"cstr");return[q,he]}}function Pt(H,J){for(var X={},q=H.l+J;H.l<q;){var he=H.read_shift(2);if(he==14e3){for(X[he]=[0,""],X[he][0]=H.read_shift(2);H[H.l];)X[he][1]+=String.fromCharCode(H[H.l]),H.l++;H.l++}}return X}function ze(H,J){var X=In(5+H.length);X.write_shift(2,14e3),X.write_shift(2,J);for(var q=0;q<H.length;++q){var he=H.charCodeAt(q);X[X.l++]=he>127?95:he}return X[X.l++]=0,X}var nt={0:{n:"BOF",f:kn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:s},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ie},222:{n:"SHEETNAMELP",f:ct},65535:{n:""}},ue={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:j},23:{n:"NUMBER17",f:E},24:{n:"NUMBER18",f:x},25:{n:"FORMULA19",f:R},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Pt},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:O},40:{n:"FORMULA28",f:Ke},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ie},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ye},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:r,to_workbook:t}})();function iX(i){var t={},e=i.match(wr),n=0,r=!1;if(e)for(;n!=e.length;++n){var a=yt(e[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=qT[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(a[0].charCodeAt(1)!==47&&!r)throw new Error("Unrecognized rich format "+a[0])}}return t}var nX=(function(){var i=Tp("t"),t=Tp("rPr");function e(a){var o=a.match(i);if(!o)return{t:"s",v:""};var s={t:"s",v:ei(o[1])},c=a.match(t);return c&&(s.s=iX(c[1])),s}var n=/<(?:\w+:)?r>/g,r=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(r).map(e).filter(function(s){return s.v})}})(),rX=(function(){var t=/(\r\n|\n)/g;function e(r,a,o){var s=[];r.u&&s.push("text-decoration: underline;"),r.uval&&s.push("text-underline-style:"+r.uval+";"),r.sz&&s.push("font-size:"+r.sz+"pt;"),r.outline&&s.push("text-effect: outline;"),r.shadow&&s.push("text-shadow: auto;"),a.push('<span style="'+s.join("")+'">'),r.b&&(a.push("<b>"),o.push("</b>")),r.i&&(a.push("<i>"),o.push("</i>")),r.strike&&(a.push("<s>"),o.push("</s>"));var c=r.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(a.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),r}function n(r){var a=[[],r.v,[]];return r.v?(r.s&&e(r.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}})(),aX=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,oX=/<(?:\w+:)?r>/,sX=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function mS(i,t){var e=t?t.cellHTML:!0,n={};return i?(i.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=ei(Ai(i.slice(i.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Ai(i),e&&(n.h=eS(n.t))):i.match(oX)&&(n.r=Ai(i),n.t=ei(Ai((i.replace(sX,"").match(aX)||[]).join("").replace(wr,""))),e&&(n.h=rX(nX(n.r)))),n):{t:""}}var cX=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,lX=/<(?:\w+:)?(?:si|sstItem)>/g,dX=/<\/(?:\w+:)?(?:si|sstItem)>/;function uX(i,t){var e=[],n="";if(!i)return e;var r=i.match(cX);if(r){n=r[2].replace(lX,"").split(dX);for(var a=0;a!=n.length;++a){var o=mS(n[a].trim(),t);o!=null&&(e[e.length]=o)}r=yt(r[1]),e.Count=r.count,e.Unique=r.uniqueCount}return e}function hX(i){return[i.read_shift(4),i.read_shift(4)]}function fX(i,t){var e=[],n=!1;return Ls(i,function(a,o,s){switch(s){case 159:e.Count=a[0],e.Unique=a[1];break;case 19:e.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}}),e}function a4(i){if(typeof di<"u")return di.utils.encode(_h,i);for(var t=[],e=i.split(""),n=0;n<e.length;++n)t[n]=e[n].charCodeAt(0);return t}function Ps(i,t){var e={};return e.Major=i.read_shift(2),e.Minor=i.read_shift(2),t>=4&&(i.l+=t-4),e}function mX(i){var t={};return t.id=i.read_shift(0,"lpp4"),t.R=Ps(i,4),t.U=Ps(i,4),t.W=Ps(i,4),t}function pX(i){for(var t=i.read_shift(4),e=i.l+t-4,n={},r=i.read_shift(4),a=[];r-- >0;)a.push({t:i.read_shift(4),v:i.read_shift(0,"lpp4")});if(n.name=i.read_shift(0,"lpp4"),n.comps=a,i.l!=e)throw new Error("Bad DataSpaceMapEntry: "+i.l+" != "+e);return n}function gX(i){var t=[];i.l+=4;for(var e=i.read_shift(4);e-- >0;)t.push(pX(i));return t}function _X(i){var t=[];i.l+=4;for(var e=i.read_shift(4);e-- >0;)t.push(i.read_shift(0,"lpp4"));return t}function vX(i){var t={};return i.read_shift(4),i.l+=4,t.id=i.read_shift(0,"lpp4"),t.name=i.read_shift(0,"lpp4"),t.R=Ps(i,4),t.U=Ps(i,4),t.W=Ps(i,4),t}function yX(i){var t=vX(i);if(t.ename=i.read_shift(0,"8lpp4"),t.blksz=i.read_shift(4),t.cmode=i.read_shift(4),i.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function o4(i,t){var e=i.l+t,n={};n.Flags=i.read_shift(4)&63,i.l+=4,n.AlgID=i.read_shift(4);var r=!1;switch(n.AlgID){case 26126:case 26127:case 26128:r=n.Flags==36;break;case 26625:r=n.Flags==4;break;case 0:r=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!r)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=i.read_shift(4),n.KeySize=i.read_shift(4),n.ProviderType=i.read_shift(4),i.l+=8,n.CSPName=i.read_shift(e-i.l>>1,"utf16le"),i.l=e,n}function s4(i,t){var e={},n=i.l+t;return i.l+=4,e.Salt=i.slice(i.l,i.l+16),i.l+=16,e.Verifier=i.slice(i.l,i.l+16),i.l+=16,i.read_shift(4),e.VerifierHash=i.slice(i.l,n),i.l=n,e}function bX(i){var t=Ps(i);switch(t.Minor){case 2:return[t.Minor,wX(i,t)];case 3:return[t.Minor,xX(i,t)];case 4:return[t.Minor,EX(i,t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function wX(i){var t=i.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var e=i.read_shift(4),n=o4(i,e),r=s4(i,i.length-i.l);return{t:"Std",h:n,v:r}}function xX(){throw new Error("File is password-protected: ECMA-376 Extensible")}function EX(i){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];i.l+=4;var e=i.read_shift(i.length-i.l,"utf8"),n={};return e.replace(wr,function(a){var o=yt(a);switch($o(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(s){n[s]=o[s]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function CX(i,t){var e={},n=e.EncryptionVersionInfo=Ps(i,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);e.Flags=i.read_shift(4),t-=4;var r=i.read_shift(4);return t-=4,e.EncryptionHeader=o4(i,r),t-=r,e.EncryptionVerifier=s4(i,t),e}function TX(i){var t={},e=t.EncryptionVersionInfo=Ps(i,4);if(e.Major!=1||e.Minor!=1)throw"unrecognized version code "+e.Major+" : "+e.Minor;return t.Salt=i.read_shift(16),t.EncryptedVerifier=i.read_shift(16),t.EncryptedVerifierHash=i.read_shift(16),t}function SX(i){var t=0,e,n=a4(i),r=n.length+1,a,o,s,c,l;for(e=Hc(r),e[0]=n.length,a=1;a!=r;++a)e[a]=n[a-1];for(a=r-1;a>=0;--a)o=e[a],s=(t&16384)===0?0:1,c=t<<1&32767,l=s|c,t=l^o;return t^52811}var c4=(function(){var i=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],e=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},r=function(o,s){return n(o^s)},a=function(o){for(var s=t[o.length-1],c=104,l=o.length-1;l>=0;--l)for(var d=o[l],h=0;h!=7;++h)d&64&&(s^=e[c]),d*=2,--c;return s};return function(o){for(var s=a4(o),c=a(s),l=s.length,d=Hc(16),h=0;h!=16;++h)d[h]=0;var f,m,v;for((l&1)===1&&(f=c>>8,d[l]=r(i[0],f),--l,f=c&255,m=s[s.length-1],d[l]=r(m,f));l>0;)--l,f=c>>8,d[l]=r(s[l],f),--l,f=c&255,d[l]=r(s[l],f);for(l=15,v=15-s.length;v>0;)f=c>>8,d[l]=r(i[v],f),--l,--v,f=c&255,d[l]=r(s[l],f),--l,--v;return d}})(),kX=function(i,t,e,n,r){r||(r=t),n||(n=c4(i));var a,o;for(a=0;a!=t.length;++a)o=t[a],o^=n[e],o=(o>>5|o<<3)&255,r[a]=o,++e;return[r,e,n]},IX=function(i){var t=0,e=c4(i);return function(n){var r=kX("",n,t,e);return t=r[1],r[0]}};function DX(i,t,e,n){var r={key:kn(i),verificationBytes:kn(i)};return e.password&&(r.verifier=SX(e.password)),n.valid=r.verificationBytes===r.verifier,n.valid&&(n.insitu=IX(e.password)),r}function AX(i,t,e){var n=e||{};return n.Info=i.read_shift(2),i.l-=2,n.Info===1?n.Data=TX(i,t):n.Data=CX(i,t),n}function RX(i,t,e){var n={Type:e.biff>=8?i.read_shift(2):0};return n.Type?AX(i,t-2,n):DX(i,e.biff>=8?t:t-2,e,n),n}var MX=(function(){function i(r,a){switch(a.type){case"base64":return t(ga(r),a);case"binary":return t(r,a);case"buffer":return t(Gt&&Buffer.isBuffer(r)?r.toString("binary"):gd(r),a);case"array":return t(fd(r),a)}throw new Error("Unrecognized type "+a.type)}function t(r,a){var o=a||{},s=o.dense?[]:{},c=r.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var l={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,h){Array.isArray(s)&&(s[h]=[]);for(var f=/\\\w+\b/g,m=0,v,_=-1;v=f.exec(d);){switch(v[0]){case"\\cell":var y=d.slice(m,f.lastIndex-v[0].length);if(y[0]==" "&&(y=y.slice(1)),++_,y.length){var S={v:y,t:"s"};Array.isArray(s)?s[h][_]=S:s[It({r:h,c:_})]=S}break}m=f.lastIndex}_>l.e.c&&(l.e.c=_)}),s["!ref"]=Zt(l),s}function e(r,a){return $c(i(r,a),a)}function n(r){for(var a=["{\\rtf1\\ansi"],o=rn(r["!ref"]),s,c=Array.isArray(r),l=o.s.r;l<=o.e.r;++l){a.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)a.push("\\cellx"+(d+1));for(a.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var h=It({r:l,c:d});s=c?(r[l]||[])[d]:r[h],!(!s||s.v==null&&(!s.f||s.F))&&(a.push(" "+(s.w||(Ns(s),s.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:e,to_sheet:i,from_sheet:n}})();function OX(i){var t=i.slice(i[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Ip(i){for(var t=0,e=1;t!=3;++t)e=e*256+(i[t]>255?255:i[t]<0?0:i[t]);return e.toString(16).toUpperCase().slice(1)}function FX(i){var t=i[0]/255,e=i[1]/255,n=i[2]/255,r=Math.max(t,e,n),a=Math.min(t,e,n),o=r-a;if(o===0)return[0,0,t];var s=0,c=0,l=r+a;switch(c=o/(l>1?2-l:l),r){case t:s=((e-n)/o+6)%6;break;case e:s=(n-t)/o+2;break;case n:s=(t-e)/o+4;break}return[s/6,c,l/2]}function PX(i){var t=i[0],e=i[1],n=i[2],r=e*2*(n<.5?n:1-n),a=n-r/2,o=[a,a,a],s=6*t,c;if(e!==0)switch(s|0){case 0:case 6:c=r*s,o[0]+=r,o[1]+=c;break;case 1:c=r*(2-s),o[0]+=c,o[1]+=r;break;case 2:c=r*(s-2),o[1]+=r,o[2]+=c;break;case 3:c=r*(4-s),o[1]+=c,o[2]+=r;break;case 4:c=r*(s-4),o[2]+=r,o[0]+=c;break;case 5:c=r*(6-s),o[2]+=c,o[0]+=r;break}for(var l=0;l!=3;++l)o[l]=Math.round(o[l]*255);return o}function ty(i,t){if(t===0)return i;var e=FX(OX(i));return t<0?e[2]=e[2]*(1+t):e[2]=1-(1-e[2])*(1-t),Ip(PX(e))}var l4=6,NX=15,LX=1,Pr=l4;function iy(i){return Math.floor((i+Math.round(128/Pr)/256)*Pr)}function ny(i){return Math.floor((i-5)/Pr*100+.5)/100}function zT(i){return Math.round((i*Pr+5)/Pr*256)/256}function AT(i){return zT(ny(iy(i)))}function pS(i){var t=Math.abs(i-AT(i)),e=Pr;if(t>.005)for(Pr=LX;Pr<NX;++Pr)Math.abs(i-AT(i))<=t&&(t=Math.abs(i-AT(i)),e=Pr);Pr=e}function yh(i){i.width?(i.wpx=iy(i.width),i.wch=ny(i.wpx),i.MDW=Pr):i.wpx?(i.wch=ny(i.wpx),i.width=zT(i.wch),i.MDW=Pr):typeof i.wch=="number"&&(i.width=zT(i.wch),i.wpx=iy(i.width),i.MDW=Pr),i.customWidth&&delete i.customWidth}var VX=96,d4=VX;function u4(i){return i*96/d4}function Dp(i){return i*d4/96}var BX={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function UX(i,t,e,n){t.Borders=[];var r={},a=!1;(i[0].match(wr)||[]).forEach(function(o){var s=yt(o);switch($o(s[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":r={},s.diagonalUp&&(r.diagonalUp=Hi(s.diagonalUp)),s.diagonalDown&&(r.diagonalDown=Hi(s.diagonalDown)),t.Borders.push(r);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+s[0]+" in borders")}})}function zX(i,t,e,n){t.Fills=[];var r={},a=!1;(i[0].match(wr)||[]).forEach(function(o){var s=yt(o);switch($o(s[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":r={},t.Fills.push(r);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(r),r={};break;case"<patternFill":case"<patternFill>":s.patternType&&(r.patternType=s.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":r.bgColor||(r.bgColor={}),s.indexed&&(r.bgColor.indexed=parseInt(s.indexed,10)),s.theme&&(r.bgColor.theme=parseInt(s.theme,10)),s.tint&&(r.bgColor.tint=parseFloat(s.tint)),s.rgb&&(r.bgColor.rgb=s.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":r.fgColor||(r.fgColor={}),s.theme&&(r.fgColor.theme=parseInt(s.theme,10)),s.tint&&(r.fgColor.tint=parseFloat(s.tint)),s.rgb!=null&&(r.fgColor.rgb=s.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+s[0]+" in fills")}})}function jX(i,t,e,n){t.Fonts=[];var r={},a=!1;(i[0].match(wr)||[]).forEach(function(o){var s=yt(o);switch($o(s[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(r),r={};break;case"<name":s.val&&(r.name=Ai(s.val));break;case"<name/>":case"</name>":break;case"<b":r.bold=s.val?Hi(s.val):1;break;case"<b/>":r.bold=1;break;case"<i":r.italic=s.val?Hi(s.val):1;break;case"<i/>":r.italic=1;break;case"<u":switch(s.val){case"none":r.underline=0;break;case"single":r.underline=1;break;case"double":r.underline=2;break;case"singleAccounting":r.underline=33;break;case"doubleAccounting":r.underline=34;break}break;case"<u/>":r.underline=1;break;case"<strike":r.strike=s.val?Hi(s.val):1;break;case"<strike/>":r.strike=1;break;case"<outline":r.outline=s.val?Hi(s.val):1;break;case"<outline/>":r.outline=1;break;case"<shadow":r.shadow=s.val?Hi(s.val):1;break;case"<shadow/>":r.shadow=1;break;case"<condense":r.condense=s.val?Hi(s.val):1;break;case"<condense/>":r.condense=1;break;case"<extend":r.extend=s.val?Hi(s.val):1;break;case"<extend/>":r.extend=1;break;case"<sz":s.val&&(r.sz=+s.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":s.val&&(r.vertAlign=s.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":s.val&&(r.family=parseInt(s.val,10));break;case"<family/>":case"</family>":break;case"<scheme":s.val&&(r.scheme=s.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(s.val=="1")break;s.codepage=qT[parseInt(s.val,10)];break;case"<color":if(r.color||(r.color={}),s.auto&&(r.color.auto=Hi(s.auto)),s.rgb)r.color.rgb=s.rgb.slice(-6);else if(s.indexed){r.color.index=parseInt(s.indexed,10);var c=ud[r.color.index];r.color.index==81&&(c=ud[1]),c||(c=ud[1]),r.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else s.theme&&(r.color.theme=parseInt(s.theme,10),s.tint&&(r.color.tint=parseFloat(s.tint)),s.theme&&e.themeElements&&e.themeElements.clrScheme&&(r.color.rgb=ty(e.themeElements.clrScheme[r.color.theme].rgb,r.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+s[0]+" in fonts")}})}function HX(i,t,e){t.NumberFmt=[];for(var n=Wo(Rt),r=0;r<n.length;++r)t.NumberFmt[n[r]]=Rt[n[r]];var a=i[0].match(wr);if(a)for(r=0;r<a.length;++r){var o=yt(a[r]);switch($o(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var s=ei(Ai(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=s,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=s}dd(s,c)}}break;case"</numFmt>":break;default:if(e.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var $v=["numFmtId","fillId","fontId","borderId","xfId"],Gv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function WX(i,t,e){t.CellXf=[];var n,r=!1;(i[0].match(wr)||[]).forEach(function(a){var o=yt(a),s=0;switch($o(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],s=0;s<$v.length;++s)n[$v[s]]&&(n[$v[s]]=parseInt(n[$v[s]],10));for(s=0;s<Gv.length;++s)n[Gv[s]]&&(n[Gv[s]]=Hi(n[Gv[s]]));if(t.NumberFmt&&n.numFmtId>392){for(s=392;s>60;--s)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[s]){n.numFmtId=s;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Hi(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":r=!0;break;case"</AlternateContent>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(e&&e.WTF&&!r)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var $X=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,e=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,r=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(s,c,l){var d={};if(!s)return d;s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=s.match(t))&&HX(h,d,l),(h=s.match(r))&&jX(h,d,c,l),(h=s.match(n))&&zX(h,d,c,l),(h=s.match(a))&&UX(h,d,c,l),(h=s.match(e))&&WX(h,d,l),d}})();function GX(i,t){var e=i.read_shift(2),n=yr(i,t-2);return[e,n]}function qX(i,t,e){var n={};n.sz=i.read_shift(2)/20;var r=nq(i,2,e);r.fItalic&&(n.italic=1),r.fCondense&&(n.condense=1),r.fExtend&&(n.extend=1),r.fShadow&&(n.shadow=1),r.fOutline&&(n.outline=1),r.fStrikeout&&(n.strike=1);var a=i.read_shift(2);switch(a===700&&(n.bold=1),i.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=i.read_shift(1);o!=0&&(n.underline=o);var s=i.read_shift(1);s>0&&(n.family=s);var c=i.read_shift(1);switch(c>0&&(n.charset=c),i.l++,n.color=iq(i,8),i.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=yr(i,t-21),n}var KX=br;function XX(i,t){var e=i.l+t,n=i.read_shift(2),r=i.read_shift(2);return i.l=e,{ixfe:n,numFmtId:r}}var YX=br;function QX(i,t,e){var n={};n.NumberFmt=[];for(var r in Rt)n.NumberFmt[r]=Rt[r];n.CellXf=[],n.Fonts=[];var a=[],o=!1;return Ls(i,function(c,l,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],dd(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=ty(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:a.push(d),o=!0;break;case 38:a.pop(),o=!1;break;default:if(l.T>0)a.push(d);else if(l.T<0)a.pop();else if(!o||e.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var ZX=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function JX(i,t,e){t.themeElements.clrScheme=[];var n={};(i[0].match(wr)||[]).forEach(function(r){var a=yt(r);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[ZX.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(e&&e.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function eY(){}function tY(){}var iY=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,nY=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,rY=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function aY(i,t,e){t.themeElements={};var n;[["clrScheme",iY,JX],["fontScheme",nY,eY],["fmtScheme",rY,tY]].forEach(function(r){if(!(n=i.match(r[1])))throw new Error(r[0]+" not found in themeElements");r[2](n,t,e)})}var oY=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function h4(i,t){(!i||i.length===0)&&(i=sY());var e,n={};if(!(e=i.match(oY)))throw new Error("themeElements not found in theme");return aY(e[0],n,t),n.raw=i,n}function sY(i,t){if(t&&t.themeXLSX)return t.themeXLSX;if(i&&typeof i.raw=="string")return i.raw;var e=[IL];return e[e.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',e[e.length]="<a:themeElements>",e[e.length]='<a:clrScheme name="Office">',e[e.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',e[e.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',e[e.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',e[e.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',e[e.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',e[e.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',e[e.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',e[e.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',e[e.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',e[e.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',e[e.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',e[e.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',e[e.length]="</a:clrScheme>",e[e.length]='<a:fontScheme name="Office">',e[e.length]="<a:majorFont>",e[e.length]='<a:latin typeface="Cambria"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',e[e.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',e[e.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',e[e.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',e[e.length]='<a:font script="Arab" typeface="Times New Roman"/>',e[e.length]='<a:font script="Hebr" typeface="Times New Roman"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="MoolBoran"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Times New Roman"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:majorFont>",e[e.length]="<a:minorFont>",e[e.length]='<a:latin typeface="Calibri"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',e[e.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',e[e.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',e[e.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',e[e.length]='<a:font script="Arab" typeface="Arial"/>',e[e.length]='<a:font script="Hebr" typeface="Arial"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="DaunPenh"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Arial"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:minorFont>",e[e.length]="</a:fontScheme>",e[e.length]='<a:fmtScheme name="Office">',e[e.length]="<a:fillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="1"/>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="0"/>',e[e.length]="</a:gradFill>",e[e.length]="</a:fillStyleLst>",e[e.length]="<a:lnStyleLst>",e[e.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]="</a:lnStyleLst>",e[e.length]="<a:effectStyleLst>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',e[e.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',e[e.length]="</a:effectStyle>",e[e.length]="</a:effectStyleLst>",e[e.length]="<a:bgFillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]="</a:bgFillStyleLst>",e[e.length]="</a:fmtScheme>",e[e.length]="</a:themeElements>",e[e.length]="<a:objectDefaults>",e[e.length]="<a:spDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',e[e.length]="</a:spDef>",e[e.length]="<a:lnDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',e[e.length]="</a:lnDef>",e[e.length]="</a:objectDefaults>",e[e.length]="<a:extraClrSchemeLst/>",e[e.length]="</a:theme>",e.join("")}function cY(i,t,e){var n=i.l+t,r=i.read_shift(4);if(r!==124226){if(!e.cellStyles){i.l=n;return}var a=i.slice(i.l);i.l=n;var o;try{o=kL(a,{type:"array"})}catch{return}var s=pa(o,"theme/theme/theme1.xml",!0);if(s)return h4(s,e)}}function lY(i){return i.read_shift(4)}function dY(i){var t={};switch(t.xclrType=i.read_shift(2),t.nTintShade=i.read_shift(2),t.xclrType){case 0:i.l+=4;break;case 1:t.xclrValue=uY(i,4);break;case 2:t.xclrValue=ZL(i,4);break;case 3:t.xclrValue=lY(i,4);break;case 4:i.l+=4;break}return i.l+=8,t}function uY(i,t){return br(i,t)}function hY(i,t){return br(i,t)}function fY(i){var t=i.read_shift(2),e=i.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=dY(i,e);break;case 6:n[1]=hY(i,e);break;case 14:case 15:n[1]=i.read_shift(e===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+e)}return n}function mY(i,t){var e=i.l+t;i.l+=2;var n=i.read_shift(2);i.l+=2;for(var r=i.read_shift(2),a=[];r-- >0;)a.push(fY(i,e-i.l));return{ixfe:n,ext:a}}function pY(i,t){t.forEach(function(e){switch(e[0]){case 4:break;case 5:break;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:break;case 13:break;case 14:break;case 15:break}})}function gY(i,t){return{flags:i.read_shift(4),version:i.read_shift(4),name:yr(i,t-8)}}function _Y(i){for(var t=[],e=i.read_shift(4);e-- >0;)t.push([i.read_shift(4),i.read_shift(4)]);return t}function vY(i){return i.l+=4,i.read_shift(4)!=0}function yY(i,t,e){var n={Types:[],Cell:[],Value:[]},r=e||{},a=[],o=!1,s=2;return Ls(i,function(c,l,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(h){s==1?n.Cell.push({type:n.Types[h[0]-1].name,index:h[1]}):s==0&&n.Value.push({type:n.Types[h[0]-1].name,index:h[1]})});break;case 337:s=c?1:0;break;case 338:s=2;break;case 35:a.push(d),o=!0;break;case 36:a.pop(),o=!1;break;default:if(!l.T){if(!o||r.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function bY(i,t,e){var n={Types:[],Cell:[],Value:[]};if(!i)return n;var r=!1,a=2,o;return i.replace(wr,function(s){var c=yt(s);switch($o(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var l=0;l<n.Types.length;++l)n.Types[l].name==c.name&&(o=n.Types[l]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):a==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!r&&e.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return s}),n}function wY(i){var t=[];if(!i)return t;var e=1;return(i.match(wr)||[]).forEach(function(n){var r=yt(n);switch(r[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete r[0],r.i?e=r.i:r.i=e,t.push(r);break}}),t}function xY(i){var t={};t.i=i.read_shift(4);var e={};e.r=i.read_shift(4),e.c=i.read_shift(4),t.r=It(e);var n=i.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function EY(i,t,e){var n=[],r=!1;return Ls(i,function(o,s,c){switch(c){case 63:n.push(o);break;default:if(!s.T){if(!r||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function CY(i,t,e,n){if(!i)return i;var r=n||{},a=!1,o=!1;Ls(i,function(c,l,d){if(!o)switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!l.T){if(!a||r.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},r)}function TY(i,t){if(!i)return"??";var e=(i.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][e].Target}function WN(i,t,e,n){var r=Array.isArray(i),a;t.forEach(function(o){var s=Nr(o.ref);if(r?(i[s.r]||(i[s.r]=[]),a=i[s.r][s.c]):a=i[o.ref],!a){a={t:"z"},r?i[s.r][s.c]=a:i[o.ref]=a;var c=rn(i["!ref"]||"BDWGO1000001:A1");c.s.r>s.r&&(c.s.r=s.r),c.e.r<s.r&&(c.e.r=s.r),c.s.c>s.c&&(c.s.c=s.c),c.e.c<s.c&&(c.e.c=s.c);var l=Zt(c);l!==i["!ref"]&&(i["!ref"]=l)}a.c||(a.c=[]);var d={a:o.author,t:o.t,r:o.r,T:e};o.h&&(d.h=o.h);for(var h=a.c.length-1;h>=0;--h){if(!e&&a.c[h].T)return;e&&!a.c[h].T&&a.c.splice(h,1)}if(e&&n){for(h=0;h<n.length;++h)if(d.a==n[h].id){d.a=n[h].name||d.a;break}}a.c.push(d)})}function SY(i,t){if(i.match(/<(?:\w+:)?comments *\/>/))return[];var e=[],n=[],r=i.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);r&&r[1]&&r[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?author[^>]*>(.*)/);s&&e.push(s[1])}});var a=i.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?comment[^>]*>/);if(s){var c=yt(s[0]),l={author:c.authorId&&e[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=Nr(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var h=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),f=!!h&&!!h[1]&&mS(h[1])||{r:"",t:"",h:""};l.r=f.r,f.r=="<t></t>"&&(f.t=f.h=""),l.t=(f.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(l.h=f.h),n.push(l)}}}}),n}function kY(i,t){var e=[],n=!1,r={},a=0;return i.replace(wr,function(s,c){var l=yt(s);switch($o(l[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":r={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":r.t!=null&&e.push(r);break;case"<text>":case"<text":a=c+s.length;break;case"</text>":r.t=i.slice(a,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return s}),e}function IY(i,t){var e=[],n=!1;return i.replace(wr,function(a){var o=yt(a);switch($o(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":e.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return a}),e}function DY(i){var t={};t.iauthor=i.read_shift(4);var e=vd(i,16);return t.rfx=e.s,t.ref=It(e.s),i.l+=16,t}var AY=yr;function RY(i,t){var e=[],n=[],r={},a=!1;return Ls(i,function(s,c,l){switch(l){case 632:n.push(s);break;case 635:r=s;break;case 637:r.t=s.t,r.h=s.h,r.r=s.r;break;case 636:if(r.author=n[r.iauthor],delete r.iauthor,t.sheetRows&&r.rfx&&t.sheetRows<=r.rfx.r)break;r.t||(r.t=""),delete r.rfx,e.push(r);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}}),e}var MY="application/vnd.ms-office.vbaProject";function OY(i){var t=Qt.utils.cfb_new({root:"R"});return i.FullPaths.forEach(function(e,n){if(!(e.slice(-1)==="/"||!e.match(/_VBA_PROJECT_CUR/))){var r=e.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Qt.utils.cfb_add(t,r,i.FileIndex[n].content)}}),Qt.write(t)}function FY(){return{"!type":"dialog"}}function PY(){return{"!type":"dialog"}}function NY(){return{"!type":"macro"}}function LY(){return{"!type":"macro"}}var ph=(function(){var i=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function e(n,r,a,o){var s=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),o.length==0?s=!0:o.charAt(0)=="["&&(s=!0,o=o.slice(1,-1));var l=a.length>0?parseInt(a,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return s?d+=t.c:--d,c?l+=t.r:--l,r+(s?"":"$")+Rn(d)+(c?"":"$")+rr(l)}return function(r,a){return t=a,r.replace(i,e)}})(),f4=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,VY=(function(){return function(t,e){return t.replace(f4,function(n,r,a,o,s,c){var l=cS(o)-(a?0:e.c),d=sS(c)-(s?0:e.r),h=d==0?"":s?d+1:"["+d+"]",f=l==0?"":a?l+1:"["+l+"]";return r+"R"+h+"C"+f})}})();function m4(i,t){return i.replace(f4,function(e,n,r,a,o,s){return n+(r=="$"?r+a:Rn(cS(a)+t.c))+(o=="$"?o+s:rr(sS(s)+t.r))})}function BY(i,t,e){var n=xh(t),r=n.s,a=Nr(e),o={r:a.r-r.r,c:a.c-r.c};return m4(i,o)}function UY(i){return i.length!=1}function $N(i){return i.replace(/_xlfn\./g,"")}function Tn(i){i.l+=1}function Wc(i,t){var e=i.read_shift(t==1?1:2);return[e&16383,e>>14&1,e>>15&1]}function p4(i,t,e){var n=2;if(e){if(e.biff>=2&&e.biff<=5)return g4(i,t,e);e.biff==12&&(n=4)}var r=i.read_shift(n),a=i.read_shift(n),o=Wc(i,2),s=Wc(i,2);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function g4(i){var t=Wc(i,2),e=Wc(i,2),n=i.read_shift(1),r=i.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:e[0],c:r,cRel:e[1],rRel:e[2]}}}function zY(i,t,e){if(e.biff<8)return g4(i,t,e);var n=i.read_shift(e.biff==12?4:2),r=i.read_shift(e.biff==12?4:2),a=Wc(i,2),o=Wc(i,2);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r,c:o[0],cRel:o[1],rRel:o[2]}}}function _4(i,t,e){if(e&&e.biff>=2&&e.biff<=5)return jY(i,t,e);var n=i.read_shift(e&&e.biff==12?4:2),r=Wc(i,2);return{r:n,c:r[0],cRel:r[1],rRel:r[2]}}function jY(i){var t=Wc(i,2),e=i.read_shift(1);return{r:t[0],c:e,cRel:t[1],rRel:t[2]}}function HY(i){var t=i.read_shift(2),e=i.read_shift(2);return{r:t,c:e&255,fQuoted:!!(e&16384),cRel:e>>15,rRel:e>>15}}function WY(i,t,e){var n=e&&e.biff?e.biff:8;if(n>=2&&n<=5)return $Y(i,t,e);var r=i.read_shift(n>=12?4:2),a=i.read_shift(2),o=(a&16384)>>14,s=(a&32768)>>15;if(a&=16383,s==1)for(;r>524287;)r-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r,c:a,cRel:o,rRel:s}}function $Y(i){var t=i.read_shift(2),e=i.read_shift(1),n=(t&32768)>>15,r=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),r==1&&e>=128&&(e=e-256),{r:t,c:e,cRel:r,rRel:n}}function GY(i,t,e){var n=(i[i.l++]&96)>>5,r=p4(i,e.biff>=2&&e.biff<=5?6:8,e);return[n,r]}function qY(i,t,e){var n=(i[i.l++]&96)>>5,r=i.read_shift(2,"i"),a=8;if(e)switch(e.biff){case 5:i.l+=12,a=6;break;case 12:a=12;break}var o=p4(i,a,e);return[n,r,o]}function KY(i,t,e){var n=(i[i.l++]&96)>>5;return i.l+=e&&e.biff>8?12:e.biff<8?6:8,[n]}function XY(i,t,e){var n=(i[i.l++]&96)>>5,r=i.read_shift(2),a=8;if(e)switch(e.biff){case 5:i.l+=12,a=6;break;case 12:a=12;break}return i.l+=a,[n,r]}function YY(i,t,e){var n=(i[i.l++]&96)>>5,r=zY(i,t-1,e);return[n,r]}function QY(i,t,e){var n=(i[i.l++]&96)>>5;return i.l+=e.biff==2?6:e.biff==12?14:7,[n]}function GN(i){var t=i[i.l+1]&1,e=1;return i.l+=4,[t,e]}function ZY(i,t,e){i.l+=2;for(var n=i.read_shift(e&&e.biff==2?1:2),r=[],a=0;a<=n;++a)r.push(i.read_shift(e&&e.biff==2?1:2));return r}function JY(i,t,e){var n=i[i.l+1]&255?1:0;return i.l+=2,[n,i.read_shift(e&&e.biff==2?1:2)]}function eQ(i,t,e){var n=i[i.l+1]&255?1:0;return i.l+=2,[n,i.read_shift(e&&e.biff==2?1:2)]}function tQ(i){var t=i[i.l+1]&255?1:0;return i.l+=2,[t,i.read_shift(2)]}function iQ(i,t,e){var n=i[i.l+1]&255?1:0;return i.l+=e&&e.biff==2?3:4,[n]}function v4(i){var t=i.read_shift(1),e=i.read_shift(1);return[t,e]}function nQ(i){return i.read_shift(2),v4(i,2)}function rQ(i){return i.read_shift(2),v4(i,2)}function aQ(i,t,e){var n=(i[i.l]&96)>>5;i.l+=1;var r=_4(i,0,e);return[n,r]}function oQ(i,t,e){var n=(i[i.l]&96)>>5;i.l+=1;var r=WY(i,0,e);return[n,r]}function sQ(i,t,e){var n=(i[i.l]&96)>>5;i.l+=1;var r=i.read_shift(2);e&&e.biff==5&&(i.l+=12);var a=_4(i,0,e);return[n,r,a]}function cQ(i,t,e){var n=(i[i.l]&96)>>5;i.l+=1;var r=i.read_shift(e&&e.biff<=3?1:2);return[lZ[r],w4[r],n]}function lQ(i,t,e){var n=i[i.l++],r=i.read_shift(1),a=e&&e.biff<=3?[n==88?-1:0,i.read_shift(1)]:dQ(i);return[r,(a[0]===0?w4:cZ)[a[1]]]}function dQ(i){return[i[i.l+1]>>7,i.read_shift(2)&32767]}function uQ(i,t,e){i.l+=e&&e.biff==2?3:4}function hQ(i,t,e){if(i.l++,e&&e.biff==12)return[i.read_shift(4,"i"),0];var n=i.read_shift(2),r=i.read_shift(e&&e.biff==2?1:2);return[n,r]}function fQ(i){return i.l++,yd[i.read_shift(1)]}function mQ(i){return i.l++,i.read_shift(2)}function pQ(i){return i.l++,i.read_shift(1)!==0}function gQ(i){return i.l++,gr(i,8)}function _Q(i,t,e){return i.l++,Op(i,t-1,e)}function vQ(i,t){var e=[i.read_shift(1)];if(t==12)switch(e[0]){case 2:e[0]=4;break;case 4:e[0]=16;break;case 0:e[0]=1;break;case 1:e[0]=2;break}switch(e[0]){case 4:e[1]=dn(i,1)?"TRUE":"FALSE",t!=12&&(i.l+=7);break;case 37:case 16:e[1]=yd[i[i.l]],i.l+=t==12?4:8;break;case 0:i.l+=8;break;case 1:e[1]=gr(i,8);break;case 2:e[1]=bd(i,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+e[0])}return e}function yQ(i,t,e){for(var n=i.read_shift(e.biff==12?4:2),r=[],a=0;a!=n;++a)r.push((e.biff==12?vd:sy)(i,8));return r}function bQ(i,t,e){var n=0,r=0;e.biff==12?(n=i.read_shift(4),r=i.read_shift(4)):(r=1+i.read_shift(1),n=1+i.read_shift(2)),e.biff>=2&&e.biff<8&&(--n,--r==0&&(r=256));for(var a=0,o=[];a!=n&&(o[a]=[]);++a)for(var s=0;s!=r;++s)o[a][s]=vQ(i,e.biff);return o}function wQ(i,t,e){var n=i.read_shift(1)>>>5&3,r=!e||e.biff>=8?4:2,a=i.read_shift(r);switch(e.biff){case 2:i.l+=5;break;case 3:case 4:i.l+=8;break;case 5:i.l+=12;break}return[n,0,a]}function xQ(i,t,e){if(e.biff==5)return EQ(i,t,e);var n=i.read_shift(1)>>>5&3,r=i.read_shift(2),a=i.read_shift(4);return[n,r,a]}function EQ(i){var t=i.read_shift(1)>>>5&3,e=i.read_shift(2,"i");i.l+=8;var n=i.read_shift(2);return i.l+=12,[t,e,n]}function CQ(i,t,e){var n=i.read_shift(1)>>>5&3;i.l+=e&&e.biff==2?3:4;var r=i.read_shift(e&&e.biff==2?1:2);return[n,r]}function TQ(i,t,e){var n=i.read_shift(1)>>>5&3,r=i.read_shift(e&&e.biff==2?1:2);return[n,r]}function SQ(i,t,e){var n=i.read_shift(1)>>>5&3;return i.l+=4,e.biff<8&&i.l--,e.biff==12&&(i.l+=2),[n]}function kQ(i,t,e){var n=(i[i.l++]&96)>>5,r=i.read_shift(2),a=4;if(e)switch(e.biff){case 5:a=15;break;case 12:a=6;break}return i.l+=a,[n,r]}var IQ=br,DQ=br,AQ=br;function Pp(i,t,e){return i.l+=2,[HY(i,4,e)]}function gS(i){return i.l+=6,[]}var RQ=Pp,MQ=gS,OQ=gS,FQ=Pp;function y4(i){return i.l+=2,[kn(i),i.read_shift(2)&1]}var PQ=Pp,NQ=y4,LQ=gS,VQ=Pp,BQ=Pp,UQ=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function zQ(i){i.l+=2;var t=i.read_shift(2),e=i.read_shift(2),n=i.read_shift(4),r=i.read_shift(2),a=i.read_shift(2),o=UQ[e>>2&31];return{ixti:t,coltype:e&3,rt:o,idx:n,c:r,C:a}}function jQ(i){return i.l+=2,[i.read_shift(4)]}function HQ(i,t,e){return i.l+=5,i.l+=2,i.l+=e.biff==2?1:4,["PTGSHEET"]}function WQ(i,t,e){return i.l+=e.biff==2?4:5,["PTGENDSHEET"]}function $Q(i){var t=i.read_shift(1)>>>5&3,e=i.read_shift(2);return[t,e]}function GQ(i){var t=i.read_shift(1)>>>5&3,e=i.read_shift(2);return[t,e]}function qQ(i){return i.l+=4,[0,0]}var qN={1:{n:"PtgExp",f:hQ},2:{n:"PtgTbl",f:AQ},3:{n:"PtgAdd",f:Tn},4:{n:"PtgSub",f:Tn},5:{n:"PtgMul",f:Tn},6:{n:"PtgDiv",f:Tn},7:{n:"PtgPower",f:Tn},8:{n:"PtgConcat",f:Tn},9:{n:"PtgLt",f:Tn},10:{n:"PtgLe",f:Tn},11:{n:"PtgEq",f:Tn},12:{n:"PtgGe",f:Tn},13:{n:"PtgGt",f:Tn},14:{n:"PtgNe",f:Tn},15:{n:"PtgIsect",f:Tn},16:{n:"PtgUnion",f:Tn},17:{n:"PtgRange",f:Tn},18:{n:"PtgUplus",f:Tn},19:{n:"PtgUminus",f:Tn},20:{n:"PtgPercent",f:Tn},21:{n:"PtgParen",f:Tn},22:{n:"PtgMissArg",f:Tn},23:{n:"PtgStr",f:_Q},26:{n:"PtgSheet",f:HQ},27:{n:"PtgEndSheet",f:WQ},28:{n:"PtgErr",f:fQ},29:{n:"PtgBool",f:pQ},30:{n:"PtgInt",f:mQ},31:{n:"PtgNum",f:gQ},32:{n:"PtgArray",f:QY},33:{n:"PtgFunc",f:cQ},34:{n:"PtgFuncVar",f:lQ},35:{n:"PtgName",f:wQ},36:{n:"PtgRef",f:aQ},37:{n:"PtgArea",f:GY},38:{n:"PtgMemArea",f:CQ},39:{n:"PtgMemErr",f:IQ},40:{n:"PtgMemNoMem",f:DQ},41:{n:"PtgMemFunc",f:TQ},42:{n:"PtgRefErr",f:SQ},43:{n:"PtgAreaErr",f:KY},44:{n:"PtgRefN",f:oQ},45:{n:"PtgAreaN",f:YY},46:{n:"PtgMemAreaN",f:$Q},47:{n:"PtgMemNoMemN",f:GQ},57:{n:"PtgNameX",f:xQ},58:{n:"PtgRef3d",f:sQ},59:{n:"PtgArea3d",f:qY},60:{n:"PtgRefErr3d",f:kQ},61:{n:"PtgAreaErr3d",f:XY},255:{}},KQ={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},XQ={1:{n:"PtgElfLel",f:y4},2:{n:"PtgElfRw",f:VQ},3:{n:"PtgElfCol",f:RQ},6:{n:"PtgElfRwV",f:BQ},7:{n:"PtgElfColV",f:FQ},10:{n:"PtgElfRadical",f:PQ},11:{n:"PtgElfRadicalS",f:LQ},13:{n:"PtgElfColS",f:MQ},15:{n:"PtgElfColSV",f:OQ},16:{n:"PtgElfRadicalLel",f:NQ},25:{n:"PtgList",f:zQ},29:{n:"PtgSxName",f:jQ},255:{}},YQ={0:{n:"PtgAttrNoop",f:qQ},1:{n:"PtgAttrSemi",f:iQ},2:{n:"PtgAttrIf",f:eQ},4:{n:"PtgAttrChoose",f:ZY},8:{n:"PtgAttrGoto",f:JY},16:{n:"PtgAttrSum",f:uQ},32:{n:"PtgAttrBaxcel",f:GN},33:{n:"PtgAttrBaxcel",f:GN},64:{n:"PtgAttrSpace",f:nQ},65:{n:"PtgAttrSpaceSemi",f:rQ},128:{n:"PtgAttrIfError",f:tQ},255:{}};function Np(i,t,e,n){if(n.biff<8)return br(i,t);for(var r=i.l+t,a=[],o=0;o!==e.length;++o)switch(e[o][0]){case"PtgArray":e[o][1]=bQ(i,0,n),a.push(e[o][1]);break;case"PtgMemArea":e[o][2]=yQ(i,e[o][1],n),a.push(e[o][2]);break;case"PtgExp":n&&n.biff==12&&(e[o][1][1]=i.read_shift(4),a.push(e[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+e[o][0];default:break}return t=r-i.l,t!==0&&a.push(br(i,t)),a}function Lp(i,t,e){for(var n=i.l+t,r,a,o=[];n!=i.l;)t=n-i.l,a=i[i.l],r=qN[a]||qN[KQ[a]],(a===24||a===25)&&(r=(a===24?XQ:YQ)[i[i.l+1]]),!r||!r.f?br(i,t):o.push([r.n,r.f(i,t,e)]);return o}function QQ(i){for(var t=[],e=0;e<i.length;++e){for(var n=i[e],r=[],a=0;a<n.length;++a){var o=n[a];if(o)switch(o[0]){case 2:r.push('"'+o[1].replace(/"/g,'""')+'"');break;default:r.push(o[1])}else r.push("")}t.push(r.join(","))}return t.join(";")}var ZQ={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function JQ(i,t){if(!i&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(i)?"'"+i+"'":i}function b4(i,t,e){if(!i)return"SH33TJSERR0";if(e.biff>8&&(!i.XTI||!i.XTI[t]))return i.SheetNames[t];if(!i.XTI)return"SH33TJSERR6";var n=i.XTI[t];if(e.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":i.XTI[t-1];if(!n)return"SH33TJSERR1";var r="";if(e.biff>8)switch(i[n[0]][0]){case 357:return r=n[1]==-1?"#REF":i.SheetNames[n[1]],n[1]==n[2]?r:r+":"+i.SheetNames[n[2]];case 358:return e.SID!=null?i.SheetNames[e.SID]:"SH33TJSSAME"+i[n[0]][0];case 355:default:return"SH33TJSSRC"+i[n[0]][0]}switch(i[n[0]][0][0]){case 1025:return r=n[1]==-1?"#REF":i.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?r:r+":"+i.SheetNames[n[2]];case 14849:return i[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return i[n[0]][0][3]?(r=n[1]==-1?"#REF":i[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?r:r+":"+i[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function KN(i,t,e){var n=b4(i,t,e);return n=="#REF"?n:JQ(n,e)}function pr(i,t,e,n,r){var a=r&&r.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},s=[],c,l,d,h=0,f=0,m,v="";if(!i[0]||!i[0][0])return"";for(var _=-1,y="",S=0,D=i[0].length;S<D;++S){var T=i[0][S];switch(T[0]){case"PtgUminus":s.push("-"+s.pop());break;case"PtgUplus":s.push("+"+s.pop());break;case"PtgPercent":s.push(s.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=s.pop(),l=s.pop(),_>=0){switch(i[0][_][1][0]){case 0:y=nn(" ",i[0][_][1][1]);break;case 1:y=nn("\r",i[0][_][1][1]);break;default:if(y="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+i[0][_][1][0])}l=l+y,_=-1}s.push(l+ZQ[T[0]]+c);break;case"PtgIsect":c=s.pop(),l=s.pop(),s.push(l+" "+c);break;case"PtgUnion":c=s.pop(),l=s.pop(),s.push(l+","+c);break;case"PtgRange":c=s.pop(),l=s.pop(),s.push(l+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=gp(T[1][1],o,r),s.push(_p(d,a));break;case"PtgRefN":d=e?gp(T[1][1],e,r):T[1][1],s.push(_p(d,a));break;case"PtgRef3d":h=T[1][1],d=gp(T[1][2],o,r),v=KN(n,h,r);var G=v;s.push(v+"!"+_p(d,a));break;case"PtgFunc":case"PtgFuncVar":var K=T[1][0],j=T[1][1];K||(K=0),K&=127;var w=K==0?[]:s.slice(-K);s.length-=K,j==="User"&&(j=w.shift()),s.push(j+"("+w.join(",")+")");break;case"PtgBool":s.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":s.push(T[1]);break;case"PtgNum":s.push(String(T[1]));break;case"PtgStr":s.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":s.push(T[1]);break;case"PtgAreaN":m=IN(T[1][1],e?{s:e}:o,r),s.push(IT(m,r));break;case"PtgArea":m=IN(T[1][1],o,r),s.push(IT(m,r));break;case"PtgArea3d":h=T[1][1],m=T[1][2],v=KN(n,h,r),s.push(v+"!"+IT(m,r));break;case"PtgAttrSum":s.push("SUM("+s.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=T[1][2];var x=(n.names||[])[f-1]||(n[0]||[])[f],E=x?x.Name:"SH33TJSNAME"+String(f);E&&E.slice(0,6)=="_xlfn."&&!r.xlfn&&(E=E.slice(6)),s.push(E);break;case"PtgNameX":var A=T[1][1];f=T[1][2];var R;if(r.biff<=5)A<0&&(A=-A),n[A]&&(R=n[A][f]);else{var k="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][f]&&n[A][f].itab>0&&(k=n.SheetNames[n[A][f].itab-1]+"!"):k=n.SheetNames[f-1]+"!"),n[A]&&n[A][f])k+=n[A][f].Name;else if(n[0]&&n[0][f])k+=n[0][f].Name;else{var O=(b4(n,A,r)||"").split(";;");O[f-1]?k=O[f-1]:k+="SH33TJSERRX"}s.push(k);break}R||(R={Name:"SH33TJSERRY"}),s.push(R.Name);break;case"PtgParen":var Ke="(",Ie=")";if(_>=0){switch(y="",i[0][_][1][0]){case 2:Ke=nn(" ",i[0][_][1][1])+Ke;break;case 3:Ke=nn("\r",i[0][_][1][1])+Ke;break;case 4:Ie=nn(" ",i[0][_][1][1])+Ie;break;case 5:Ie=nn("\r",i[0][_][1][1])+Ie;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+i[0][_][1][0])}_=-1}s.push(Ke+s.pop()+Ie);break;case"PtgRefErr":s.push("#REF!");break;case"PtgRefErr3d":s.push("#REF!");break;case"PtgExp":d={c:T[1][1],r:T[1][0]};var ct={c:e.c,r:e.r};if(n.sharedf[It(d)]){var Ye=n.sharedf[It(d)];s.push(pr(Ye,o,ct,n,r))}else{var Pt=!1;for(c=0;c!=n.arrayf.length;++c)if(l=n.arrayf[c],!(d.c<l[0].s.c||d.c>l[0].e.c)&&!(d.r<l[0].s.r||d.r>l[0].e.r)){s.push(pr(l[1],o,ct,n,r)),Pt=!0;break}Pt||s.push(T[1])}break;case"PtgArray":s.push("{"+QQ(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":_=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":s.push("");break;case"PtgAreaErr":s.push("#REF!");break;case"PtgAreaErr3d":s.push("#REF!");break;case"PtgList":s.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var ze=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(r.biff!=3&&_>=0&&ze.indexOf(i[0][S][0])==-1){T=i[0][_];var nt=!0;switch(T[1][0]){case 4:nt=!1;case 0:y=nn(" ",T[1][1]);break;case 5:nt=!1;case 1:y=nn("\r",T[1][1]);break;default:if(y="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}s.push((nt?y:"")+s.pop()+(nt?"":y)),_=-1}}if(s.length>1&&r.WTF)throw new Error("bad formula stack");return s[0]}function eZ(i,t,e){var n=i.l+t,r=e.biff==2?1:2,a,o=i.read_shift(r);if(o==65535)return[[],br(i,t-2)];var s=Lp(i,o,e);return t!==o+r&&(a=Np(i,t-o-r,s,e)),i.l=n,[s,a]}function tZ(i,t,e){var n=i.l+t,r=e.biff==2?1:2,a,o=i.read_shift(r);if(o==65535)return[[],br(i,t-2)];var s=Lp(i,o,e);return t!==o+r&&(a=Np(i,t-o-r,s,e)),i.l=n,[s,a]}function iZ(i,t,e,n){var r=i.l+t,a=Lp(i,n,e),o;return r!==i.l&&(o=Np(i,r-i.l,a,e)),[a,o]}function nZ(i,t,e){var n=i.l+t,r,a=i.read_shift(2),o=Lp(i,a,e);return a==65535?[[],br(i,t-2)]:(t!==a+2&&(r=Np(i,n-a-2,o,e)),[o,r])}function rZ(i){var t;if(Os(i,i.l+6)!==65535)return[gr(i),"n"];switch(i[i.l]){case 0:return i.l+=8,["String","s"];case 1:return t=i[i.l+2]===1,i.l+=8,[t,"b"];case 2:return t=i[i.l+2],i.l+=8,[t,"e"];case 3:return i.l+=8,["","s"]}return[]}function RT(i,t,e){var n=i.l+t,r=Go(i,6);e.biff==2&&++i.l;var a=rZ(i,8),o=i.read_shift(1);e.biff!=2&&(i.read_shift(1),e.biff>=5&&i.read_shift(4));var s=tZ(i,n-i.l,e);return{cell:r,val:a[0],formula:s,shared:o>>3&1,tt:a[1]}}function cy(i,t,e){var n=i.read_shift(4),r=Lp(i,n,e),a=i.read_shift(4),o=a>0?Np(i,a,r,e):null;return[r,o]}var aZ=cy,ly=cy,oZ=cy,sZ=cy,cZ={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},w4={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},lZ={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function XN(i){return i.slice(0,3)=="of:"&&(i=i.slice(3)),i.charCodeAt(0)==61&&(i=i.slice(1),i.charCodeAt(0)==61&&(i=i.slice(1))),i=i.replace(/COM\.MICROSOFT\./g,""),i=i.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,e){return e.replace(/\./g,"")}),i=i.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),i.replace(/[;~]/g,",").replace(/\|/g,";")}function MT(i){var t=i.split(":"),e=t[0].split(".")[0];return[e,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var wp={},gh={};function xp(i,t){if(i){var e=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(e=[1,1,1,1,.5,.5]),i.left==null&&(i.left=e[0]),i.right==null&&(i.right=e[1]),i.top==null&&(i.top=e[2]),i.bottom==null&&(i.bottom=e[3]),i.header==null&&(i.header=e[4]),i.footer==null&&(i.footer=e[5])}}function x4(i,t,e,n,r,a){try{n.cellNF&&(i.z=Rt[t])}catch(s){if(n.WTF)throw s}if(!(i.t==="z"&&!n.cellStyles)){if(i.t==="d"&&typeof i.v=="string"&&(i.v=Hn(i.v)),(!n||n.cellText!==!1)&&i.t!=="z")try{if(Rt[t]==null&&dd(dG[t]||"General",t),i.t==="e")i.w=i.w||yd[i.v];else if(t===0)if(i.t==="n")(i.v|0)===i.v?i.w=i.v.toString(10):i.w=Cp(i.v);else if(i.t==="d"){var o=Lr(i.v);(o|0)===o?i.w=o.toString(10):i.w=Cp(o)}else{if(i.v===void 0)return"";i.w=hd(i.v,gh)}else i.t==="d"?i.w=Fa(t,Lr(i.v),gh):i.w=Fa(t,i.v,gh)}catch(s){if(n.WTF)throw s}if(n.cellStyles&&e!=null)try{i.s=a.Fills[e],i.s.fgColor&&i.s.fgColor.theme&&!i.s.fgColor.rgb&&(i.s.fgColor.rgb=ty(r.themeElements.clrScheme[i.s.fgColor.theme].rgb,i.s.fgColor.tint||0),n.WTF&&(i.s.fgColor.raw_rgb=r.themeElements.clrScheme[i.s.fgColor.theme].rgb)),i.s.bgColor&&i.s.bgColor.theme&&(i.s.bgColor.rgb=ty(r.themeElements.clrScheme[i.s.bgColor.theme].rgb,i.s.bgColor.tint||0),n.WTF&&(i.s.bgColor.raw_rgb=r.themeElements.clrScheme[i.s.bgColor.theme].rgb))}catch(s){if(n.WTF&&a.Fills)throw s}}}function dZ(i,t){var e=rn(t);e.s.r<=e.e.r&&e.s.c<=e.e.c&&e.s.r>=0&&e.s.c>=0&&(i["!ref"]=Zt(e))}var uZ=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,hZ=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,fZ=/<(?:\w:)?hyperlink [^>]*>/mg,mZ=/"(\w*:\w*)"/,pZ=/<(?:\w:)?col\b[^>]*[\/]?>/g,gZ=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,_Z=/<(?:\w:)?pageMargins[^>]*\/>/g,E4=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,vZ=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,yZ=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function bZ(i,t,e,n,r,a,o){if(!i)return i;n||(n={"!id":{}}),Dn!=null&&t.dense==null&&(t.dense=Dn);var s=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},l="",d="",h=i.match(hZ);h?(l=i.slice(0,h.index),d=i.slice(h.index+h[0].length)):l=d=i;var f=l.match(E4);f?_S(f[0],s,r,e):(f=l.match(vZ))&&wZ(f[0],f[1]||"",s,r,e,o,a);var m=(l.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var v=l.slice(m,m+50).match(mZ);v&&dZ(s,v[1])}var _=l.match(yZ);_&&_[1]&&kZ(_[1],r);var y=[];if(t.cellStyles){var S=l.match(pZ);S&&CZ(y,S)}h&&IZ(h[1],s,t,c,a,o);var D=d.match(gZ);D&&(s["!autofilter"]=TZ(D[0]));var T=[],G=d.match(uZ);if(G)for(m=0;m!=G.length;++m)T[m]=rn(G[m].slice(G[m].indexOf('"')+1));var K=d.match(fZ);K&&xZ(s,K,n);var j=d.match(_Z);if(j&&(s["!margins"]=EZ(yt(j[0]))),!s["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(s["!ref"]=Zt(c)),t.sheetRows>0&&s["!ref"]){var w=rn(s["!ref"]);t.sheetRows<=+w.e.r&&(w.e.r=t.sheetRows-1,w.e.r>c.e.r&&(w.e.r=c.e.r),w.e.r<w.s.r&&(w.s.r=w.e.r),w.e.c>c.e.c&&(w.e.c=c.e.c),w.e.c<w.s.c&&(w.s.c=w.e.c),s["!fullref"]=s["!ref"],s["!ref"]=Zt(w))}return y.length>0&&(s["!cols"]=y),T.length>0&&(s["!merges"]=T),s}function _S(i,t,e,n){var r=yt(i);e.Sheets[n]||(e.Sheets[n]={}),r.codeName&&(e.Sheets[n].CodeName=ei(Ai(r.codeName)))}function wZ(i,t,e,n,r){_S(i.slice(0,i.indexOf(">")),e,n,r)}function xZ(i,t,e){for(var n=Array.isArray(i),r=0;r!=t.length;++r){var a=yt(Ai(t[r]),!0);if(!a.ref)return;var o=((e||{})["!id"]||[])[a.id];o?(a.Target=o.Target,a.location&&(a.Target+="#"+ei(a.location))):(a.Target="#"+ei(a.location),o={Target:a.Target,TargetMode:"Internal"}),a.Rel=o,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var s=rn(a.ref),c=s.s.r;c<=s.e.r;++c)for(var l=s.s.c;l<=s.e.c;++l){var d=It({c:l,r:c});n?(i[c]||(i[c]=[]),i[c][l]||(i[c][l]={t:"z",v:void 0}),i[c][l].l=a):(i[d]||(i[d]={t:"z",v:void 0}),i[d].l=a)}}}function EZ(i){var t={};return["left","right","top","bottom","header","footer"].forEach(function(e){i[e]&&(t[e]=parseFloat(i[e]))}),t}function CZ(i,t){for(var e=!1,n=0;n!=t.length;++n){var r=yt(t[n],!0);r.hidden&&(r.hidden=Hi(r.hidden));var a=parseInt(r.min,10)-1,o=parseInt(r.max,10)-1;for(r.outlineLevel&&(r.level=+r.outlineLevel||0),delete r.min,delete r.max,r.width=+r.width,!e&&r.width&&(e=!0,pS(r.width)),yh(r);a<=o;)i[a++]=nr(r)}}function TZ(i){var t={ref:(i.match(/ref="([^"]*)"/)||[])[1]};return t}var SZ=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function kZ(i,t){t.Views||(t.Views=[{}]),(i.match(SZ)||[]).forEach(function(e,n){var r=yt(e);t.Views[n]||(t.Views[n]={}),+r.zoomScale&&(t.Views[n].zoom=+r.zoomScale),Hi(r.rightToLeft)&&(t.Views[n].RTL=!0)})}var IZ=(function(){var i=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,e=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,r=/ref=["']([^"']*)["']/,a=Tp("v"),o=Tp("f");return function(c,l,d,h,f,m){for(var v=0,_="",y=[],S=[],D=0,T=0,G=0,K="",j,w,x=0,E=0,A,R,k=0,O=0,Ke=Array.isArray(m.CellXf),Ie,ct=[],Ye=[],Pt=Array.isArray(l),ze=[],nt={},ue=!1,H=!!d.sheetStubs,J=c.split(t),X=0,q=J.length;X!=q;++X){_=J[X].trim();var he=_.length;if(he!==0){var We=0;e:for(v=0;v<he;++v)switch(_[v]){case">":if(_[v-1]!="/"){++v;break e}if(d&&d.cellStyles){if(w=yt(_.slice(We,v),!0),x=w.r!=null?parseInt(w.r,10):x+1,E=-1,d.sheetRows&&d.sheetRows<x)continue;nt={},ue=!1,w.ht&&(ue=!0,nt.hpt=parseFloat(w.ht),nt.hpx=Dp(nt.hpt)),w.hidden=="1"&&(ue=!0,nt.hidden=!0),w.outlineLevel!=null&&(ue=!0,nt.level=+w.outlineLevel),ue&&(ze[x-1]=nt)}break;case"<":We=v;break}if(We>=v)break;if(w=yt(_.slice(We,v),!0),x=w.r!=null?parseInt(w.r,10):x+1,E=-1,!(d.sheetRows&&d.sheetRows<x)){h.s.r>x-1&&(h.s.r=x-1),h.e.r<x-1&&(h.e.r=x-1),d&&d.cellStyles&&(nt={},ue=!1,w.ht&&(ue=!0,nt.hpt=parseFloat(w.ht),nt.hpx=Dp(nt.hpt)),w.hidden=="1"&&(ue=!0,nt.hidden=!0),w.outlineLevel!=null&&(ue=!0,nt.level=+w.outlineLevel),ue&&(ze[x-1]=nt)),y=_.slice(v).split(i);for(var Le=0;Le!=y.length&&y[Le].trim().charAt(0)=="<";++Le);for(y=y.slice(Le),v=0;v!=y.length;++v)if(_=y[v].trim(),_.length!==0){if(S=_.match(e),D=v,T=0,G=0,_="<c "+(_.slice(0,1)=="<"?">":"")+_,S!=null&&S.length===2){for(D=0,K=S[1],T=0;T!=K.length&&!((G=K.charCodeAt(T)-64)<1||G>26);++T)D=26*D+G;--D,E=D}else++E;for(T=0;T!=_.length&&_.charCodeAt(T)!==62;++T);if(++T,w=yt(_.slice(0,T),!0),w.r||(w.r=It({r:x-1,c:E})),K=_.slice(T),j={t:""},(S=K.match(a))!=null&&S[1]!==""&&(j.v=ei(S[1])),d.cellFormula){if((S=K.match(o))!=null&&S[1]!==""){if(j.f=ei(Ai(S[1])).replace(/\r\n/g,`
`),d.xlfn||(j.f=$N(j.f)),S[0].indexOf('t="array"')>-1)j.F=(K.match(r)||[])[1],j.F.indexOf(":")>-1&&ct.push([rn(j.F),j.F]);else if(S[0].indexOf('t="shared"')>-1){R=yt(S[0]);var qe=ei(Ai(S[1]));d.xlfn||(qe=$N(qe)),Ye[parseInt(R.si,10)]=[R,qe,w.r]}}else(S=K.match(/<f[^>]*\/>/))&&(R=yt(S[0]),Ye[R.si]&&(j.f=BY(Ye[R.si][1],Ye[R.si][2],w.r)));var _e=Nr(w.r);for(T=0;T<ct.length;++T)_e.r>=ct[T][0].s.r&&_e.r<=ct[T][0].e.r&&_e.c>=ct[T][0].s.c&&_e.c<=ct[T][0].e.c&&(j.F=ct[T][1])}if(w.t==null&&j.v===void 0)if(j.f||j.F)j.v=0,j.t="n";else if(H)j.t="z";else continue;else j.t=w.t||"n";switch(h.s.c>E&&(h.s.c=E),h.e.c<E&&(h.e.c=E),j.t){case"n":if(j.v==""||j.v==null){if(!H)continue;j.t="z"}else j.v=parseFloat(j.v);break;case"s":if(typeof j.v>"u"){if(!H)continue;j.t="z"}else A=wp[parseInt(j.v,10)],j.v=A.t,j.r=A.r,d.cellHTML&&(j.h=A.h);break;case"str":j.t="s",j.v=j.v!=null?Ai(j.v):"",d.cellHTML&&(j.h=eS(j.v));break;case"inlineStr":S=K.match(n),j.t="s",S!=null&&(A=mS(S[1]))?(j.v=A.t,d.cellHTML&&(j.h=A.h)):j.v="";break;case"b":j.v=Hi(j.v);break;case"d":d.cellDates?j.v=Hn(j.v,1):(j.v=Lr(Hn(j.v,1)),j.t="n");break;case"e":(!d||d.cellText!==!1)&&(j.w=j.v),j.v=WL[j.v];break}if(k=O=0,Ie=null,Ke&&w.s!==void 0&&(Ie=m.CellXf[w.s],Ie!=null&&(Ie.numFmtId!=null&&(k=Ie.numFmtId),d.cellStyles&&Ie.fillId!=null&&(O=Ie.fillId))),x4(j,k,O,d,f,m),d.cellDates&&Ke&&j.t=="n"&&bh(Rt[k])&&(j.t="d",j.v=ay(j.v)),w.cm&&d.xlmeta){var Nt=(d.xlmeta.Cell||[])[+w.cm-1];Nt&&Nt.type=="XLDAPR"&&(j.D=!0)}if(Pt){var W=Nr(w.r);l[W.r]||(l[W.r]=[]),l[W.r][W.c]=j}else l[w.r]=j}}}}ze.length>0&&(l["!rows"]=ze)}})();function DZ(i,t){var e={},n=i.l+t;e.r=i.read_shift(4),i.l+=4;var r=i.read_shift(2);i.l+=1;var a=i.read_shift(1);return i.l=n,a&7&&(e.level=a&7),a&16&&(e.hidden=!0),a&32&&(e.hpt=r/20),e}var AZ=vd;function RZ(){}function MZ(i,t){var e={},n=i[i.l];return++i.l,e.above=!(n&64),e.left=!(n&128),i.l+=18,e.name=eq(i,t-19),e}function OZ(i){var t=Pa(i);return[t]}function FZ(i){var t=_d(i);return[t]}function PZ(i){var t=Pa(i),e=i.read_shift(1);return[t,e,"b"]}function NZ(i){var t=_d(i),e=i.read_shift(1);return[t,e,"b"]}function LZ(i){var t=Pa(i),e=i.read_shift(1);return[t,e,"e"]}function VZ(i){var t=_d(i),e=i.read_shift(1);return[t,e,"e"]}function BZ(i){var t=Pa(i),e=i.read_shift(4);return[t,e,"s"]}function UZ(i){var t=_d(i),e=i.read_shift(4);return[t,e,"s"]}function zZ(i){var t=Pa(i),e=gr(i);return[t,e,"n"]}function C4(i){var t=_d(i),e=gr(i);return[t,e,"n"]}function jZ(i){var t=Pa(i),e=uS(i);return[t,e,"n"]}function HZ(i){var t=_d(i),e=uS(i);return[t,e,"n"]}function WZ(i){var t=Pa(i),e=lS(i);return[t,e,"is"]}function $Z(i){var t=Pa(i),e=yr(i);return[t,e,"str"]}function GZ(i){var t=_d(i),e=yr(i);return[t,e,"str"]}function qZ(i,t,e){var n=i.l+t,r=Pa(i);r.r=e["!row"];var a=i.read_shift(1),o=[r,a,"b"];if(e.cellFormula){i.l+=2;var s=ly(i,n-i.l,e);o[3]=pr(s,null,r,e.supbooks,e)}else i.l=n;return o}function KZ(i,t,e){var n=i.l+t,r=Pa(i);r.r=e["!row"];var a=i.read_shift(1),o=[r,a,"e"];if(e.cellFormula){i.l+=2;var s=ly(i,n-i.l,e);o[3]=pr(s,null,r,e.supbooks,e)}else i.l=n;return o}function XZ(i,t,e){var n=i.l+t,r=Pa(i);r.r=e["!row"];var a=gr(i),o=[r,a,"n"];if(e.cellFormula){i.l+=2;var s=ly(i,n-i.l,e);o[3]=pr(s,null,r,e.supbooks,e)}else i.l=n;return o}function YZ(i,t,e){var n=i.l+t,r=Pa(i);r.r=e["!row"];var a=yr(i),o=[r,a,"str"];if(e.cellFormula){i.l+=2;var s=ly(i,n-i.l,e);o[3]=pr(s,null,r,e.supbooks,e)}else i.l=n;return o}var QZ=vd;function ZZ(i,t){var e=i.l+t,n=vd(i,16),r=dS(i),a=yr(i),o=yr(i),s=yr(i);i.l=e;var c={rfx:n,relId:r,loc:a,display:s};return o&&(c.Tooltip=o),c}function JZ(){}function eJ(i,t,e){var n=i.l+t,r=zL(i,16),a=i.read_shift(1),o=[r];if(o[2]=a,e.cellFormula){var s=aZ(i,n-i.l,e);o[1]=s}else i.l=n;return o}function tJ(i,t,e){var n=i.l+t,r=vd(i,16),a=[r];if(e.cellFormula){var o=sZ(i,n-i.l,e);a[1]=o,i.l=n}else i.l=n;return a}var iJ=["left","right","top","bottom","header","footer"];function nJ(i){var t={};return iJ.forEach(function(e){t[e]=gr(i,8)}),t}function rJ(i){var t=i.read_shift(2);return i.l+=28,{RTL:t&32}}function aJ(){}function oJ(){}function sJ(i,t,e,n,r,a,o){if(!i)return i;var s=t||{};n||(n={"!id":{}}),Dn!=null&&s.dense==null&&(s.dense=Dn);var c=s.dense?[]:{},l,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=[],f=!1,m=!1,v,_,y,S,D,T,G,K,j,w=[];s.biff=12,s["!row"]=0;var x=0,E=!1,A=[],R={},k=s.supbooks||r.supbooks||[[]];if(k.sharedf=R,k.arrayf=A,k.SheetNames=r.SheetNames||r.Sheets.map(function(nt){return nt.name}),!s.supbooks&&(s.supbooks=k,r.Names))for(var O=0;O<r.Names.length;++O)k[0][O+1]=r.Names[O];var Ke=[],Ie=[],ct=!1;ry[16]={n:"BrtShortReal",f:C4};var Ye,Pt;if(Ls(i,function(ue,H,J){if(!m)switch(J){case 148:l=ue;break;case 0:v=ue,s.sheetRows&&s.sheetRows<=v.r&&(m=!0),K=rr(S=v.r),s["!row"]=v.r,(ue.hidden||ue.hpt||ue.level!=null)&&(ue.hpt&&(ue.hpx=Dp(ue.hpt)),Ie[ue.r]=ue);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(_={t:ue[2]},ue[2]){case"n":_.v=ue[1];break;case"s":G=wp[ue[1]],_.v=G.t,_.r=G.r;break;case"b":_.v=!!ue[1];break;case"e":_.v=ue[1],s.cellText!==!1&&(_.w=yd[_.v]);break;case"str":_.t="s",_.v=ue[1];break;case"is":_.t="s",_.v=ue[1].t;break}if((y=o.CellXf[ue[0].iStyleRef])&&x4(_,y.numFmtId,null,s,a,o),D=ue[0].c==-1?D+1:ue[0].c,s.dense?(c[S]||(c[S]=[]),c[S][D]=_):c[Rn(D)+K]=_,s.cellFormula){for(E=!1,x=0;x<A.length;++x){var X=A[x];v.r>=X[0].s.r&&v.r<=X[0].e.r&&D>=X[0].s.c&&D<=X[0].e.c&&(_.F=Zt(X[0]),E=!0)}!E&&ue.length>3&&(_.f=ue[3])}if(d.s.r>v.r&&(d.s.r=v.r),d.s.c>D&&(d.s.c=D),d.e.r<v.r&&(d.e.r=v.r),d.e.c<D&&(d.e.c=D),s.cellDates&&y&&_.t=="n"&&bh(Rt[y.numFmtId])){var q=ld(_.v);q&&(_.t="d",_.v=new Date(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u))}Ye&&(Ye.type=="XLDAPR"&&(_.D=!0),Ye=void 0),Pt&&(Pt=void 0);break;case 1:case 12:if(!s.sheetStubs||f)break;_={t:"z",v:void 0},D=ue[0].c==-1?D+1:ue[0].c,s.dense?(c[S]||(c[S]=[]),c[S][D]=_):c[Rn(D)+K]=_,d.s.r>v.r&&(d.s.r=v.r),d.s.c>D&&(d.s.c=D),d.e.r<v.r&&(d.e.r=v.r),d.e.c<D&&(d.e.c=D),Ye&&(Ye.type=="XLDAPR"&&(_.D=!0),Ye=void 0),Pt&&(Pt=void 0);break;case 176:w.push(ue);break;case 49:Ye=((s.xlmeta||{}).Cell||[])[ue-1];break;case 494:var he=n["!id"][ue.relId];for(he?(ue.Target=he.Target,ue.loc&&(ue.Target+="#"+ue.loc),ue.Rel=he):ue.relId==""&&(ue.Target="#"+ue.loc),S=ue.rfx.s.r;S<=ue.rfx.e.r;++S)for(D=ue.rfx.s.c;D<=ue.rfx.e.c;++D)s.dense?(c[S]||(c[S]=[]),c[S][D]||(c[S][D]={t:"z",v:void 0}),c[S][D].l=ue):(T=It({c:D,r:S}),c[T]||(c[T]={t:"z",v:void 0}),c[T].l=ue);break;case 426:if(!s.cellFormula)break;A.push(ue),j=s.dense?c[S][D]:c[Rn(D)+K],j.f=pr(ue[1],d,{r:v.r,c:D},k,s),j.F=Zt(ue[0]);break;case 427:if(!s.cellFormula)break;R[It(ue[0].s)]=ue[1],j=s.dense?c[S][D]:c[Rn(D)+K],j.f=pr(ue[1],d,{r:v.r,c:D},k,s);break;case 60:if(!s.cellStyles)break;for(;ue.e>=ue.s;)Ke[ue.e--]={width:ue.w/256,hidden:!!(ue.flags&1),level:ue.level},ct||(ct=!0,pS(ue.w/256)),yh(Ke[ue.e+1]);break;case 161:c["!autofilter"]={ref:Zt(ue)};break;case 476:c["!margins"]=ue;break;case 147:r.Sheets[e]||(r.Sheets[e]={}),ue.name&&(r.Sheets[e].CodeName=ue.name),(ue.above||ue.left)&&(c["!outline"]={above:ue.above,left:ue.left});break;case 137:r.Views||(r.Views=[{}]),r.Views[0]||(r.Views[0]={}),ue.RTL&&(r.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:h.push(J),f=!0;break;case 38:h.pop(),f=!1;break;default:if(!H.T){if(!f||s.WTF)throw new Error("Unexpected record 0x"+J.toString(16))}}},s),delete s.supbooks,delete s["!row"],!c["!ref"]&&(d.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(c["!ref"]=Zt(l||d)),s.sheetRows&&c["!ref"]){var ze=rn(c["!ref"]);s.sheetRows<=+ze.e.r&&(ze.e.r=s.sheetRows-1,ze.e.r>d.e.r&&(ze.e.r=d.e.r),ze.e.r<ze.s.r&&(ze.s.r=ze.e.r),ze.e.c>d.e.c&&(ze.e.c=d.e.c),ze.e.c<ze.s.c&&(ze.s.c=ze.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Zt(ze))}return w.length>0&&(c["!merges"]=w),Ke.length>0&&(c["!cols"]=Ke),Ie.length>0&&(c["!rows"]=Ie),c}function cJ(i){var t=[],e=i.match(/^<c:numCache>/),n;(i.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var o=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=e?+o[2]:o[2])});var r=ei((i.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(i.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[t,r,n]}function lJ(i,t,e,n,r,a){var o=a||{"!type":"chart"};if(!i)return a;var s=0,c=0,l="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(i.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var f=cJ(h);d.s.r=d.s.c=0,d.e.c=s,l=Rn(s),f[0].forEach(function(m,v){o[l+rr(v)]={t:"n",v:m,z:f[1]},c=v}),d.e.r<c&&(d.e.r=c),++s}),s>0&&(o["!ref"]=Zt(d)),o}function dJ(i,t,e,n,r){if(!i)return i;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},o,s=i.match(E4);return s&&_S(s[0],a,r,e),(o=i.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=o[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function uJ(i,t){i.l+=10;var e=yr(i,t-10);return{name:e}}function hJ(i,t,e,n,r){if(!i)return i;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},o=[],s=!1;return Ls(i,function(l,d,h){switch(h){case 550:a["!rel"]=l;break;case 651:r.Sheets[e]||(r.Sheets[e]={}),l.name&&(r.Sheets[e].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:o.push(h);break;case 38:o.pop();break;default:if(d.T>0)o.push(h);else if(d.T<0)o.pop();else if(!s||t.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}},t),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var T4=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],fJ=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],mJ=[],pJ=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function YN(i,t){for(var e=0;e!=i.length;++e)for(var n=i[e],r=0;r!=t.length;++r){var a=t[r];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=Hi(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function QN(i,t){for(var e=0;e!=t.length;++e){var n=t[e];if(i[n[0]]==null)i[n[0]]=n[1];else switch(n[2]){case"bool":typeof i[n[0]]=="string"&&(i[n[0]]=Hi(i[n[0]]));break;case"int":typeof i[n[0]]=="string"&&(i[n[0]]=parseInt(i[n[0]],10));break}}}function S4(i){QN(i.WBProps,T4),QN(i.CalcPr,pJ),YN(i.WBView,fJ),YN(i.Sheets,mJ),gh.date1904=Hi(i.WBProps.date1904)}var gJ="][*?/\\".split("");function _J(i,t){if(i.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var e=!0;return gJ.forEach(function(n){if(i.indexOf(n)!=-1){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");e=!1}}),e}var vJ=/<\w+:workbook/;function yJ(i,t){if(!i)throw new Error("Could not find file");var e={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,r="xmlns",a={},o=0;if(i.replace(wr,function(c,l){var d=yt(c);switch($o(d[0])){case"<?xml":break;case"<workbook":c.match(vJ)&&(r="xmlns"+c.match(/<(\w+):/)[1]),e.xmlns=d[r];break;case"</workbook>":break;case"<fileVersion":delete d[0],e.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":T4.forEach(function(h){if(d[h[0]]!=null)switch(h[2]){case"bool":e.WBProps[h[0]]=Hi(d[h[0]]);break;case"int":e.WBProps[h[0]]=parseInt(d[h[0]],10);break;default:e.WBProps[h[0]]=d[h[0]]}}),d.codeName&&(e.WBProps.CodeName=Ai(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],e.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=ei(Ai(d.name)),delete d[0],e.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=Ai(d.name),d.comment&&(a.Comment=d.comment),d.localSheetId&&(a.Sheet=+d.localSheetId),Hi(d.hidden||"0")&&(a.Hidden=!0),o=l+c.length;break;case"</definedName>":a.Ref=ei(Ai(i.slice(o,l))),e.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete d[0],e.CalcPr=d;break;case"<calcPr/>":delete d[0],e.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),NG.indexOf(e.xmlns)===-1)throw new Error("Unknown Namespace: "+e.xmlns);return S4(e),e}function bJ(i,t){var e={};return e.Hidden=i.read_shift(4),e.iTabID=i.read_shift(4),e.strRelID=VT(i,t-8),e.name=yr(i),e}function wJ(i,t){var e={},n=i.read_shift(4);e.defaultThemeVersion=i.read_shift(4);var r=t>8?yr(i):"";return r.length>0&&(e.CodeName=r),e.autoCompressPictures=!!(n&65536),e.backupFile=!!(n&64),e.checkCompatibility=!!(n&4096),e.date1904=!!(n&1),e.filterPrivacy=!!(n&8),e.hidePivotFieldList=!!(n&1024),e.promptedSolutions=!!(n&16),e.publishItems=!!(n&2048),e.refreshAllConnections=!!(n&262144),e.saveExternalLinkValues=!!(n&128),e.showBorderUnselectedTables=!!(n&4),e.showInkAnnotation=!!(n&32),e.showObjects=["all","placeholders","none"][n>>13&3],e.showPivotChartFilter=!!(n&32768),e.updateLinks=["userSet","never","always"][n>>8&3],e}function xJ(i,t){var e={};return i.read_shift(4),e.ArchID=i.read_shift(4),i.l+=t-8,e}function EJ(i,t,e){var n=i.l+t;i.l+=4,i.l+=1;var r=i.read_shift(4),a=tq(i),o=oZ(i,0,e),s=dS(i);i.l=n;var c={Name:a,Ptg:o};return r<268435455&&(c.Sheet=r),s&&(c.Comment=s),c}function CJ(i,t){var e={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],r=!1;t||(t={}),t.biff=12;var a=[],o=[[]];return o.SheetNames=[],o.XTI=[],ry[16]={n:"BrtFRTArchID$",f:xJ},Ls(i,function(c,l,d){switch(d){case 156:o.SheetNames.push(c.name),e.Sheets.push(c);break;case 153:e.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=pr(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,a.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),r=!0;break;case 36:n.pop(),r=!1;break;case 37:n.push(d),r=!0;break;case 38:n.pop(),r=!1;break;case 16:break;default:if(!l.T){if(!r||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),S4(e),e.Names=a,e.supbooks=o,e}function TJ(i,t,e){return t.slice(-4)===".bin"?CJ(i,e):yJ(i,e)}function SJ(i,t,e,n,r,a,o,s){return t.slice(-4)===".bin"?sJ(i,n,e,r,a,o,s):bZ(i,n,e,r,a,o,s)}function kJ(i,t,e,n,r,a,o,s){return t.slice(-4)===".bin"?hJ(i,n,e,r,a,o,s):dJ(i,n,e,r,a,o,s)}function IJ(i,t,e,n,r,a,o,s){return t.slice(-4)===".bin"?NY(i,n,e,r,a,o,s):LY(i,n,e,r,a,o,s)}function DJ(i,t,e,n,r,a,o,s){return t.slice(-4)===".bin"?FY(i,n,e,r,a,o,s):PY(i,n,e,r,a,o,s)}function AJ(i,t,e,n){return t.slice(-4)===".bin"?QX(i,e,n):$X(i,e,n)}function RJ(i,t,e){return h4(i,e)}function MJ(i,t,e){return t.slice(-4)===".bin"?fX(i,e):uX(i,e)}function OJ(i,t,e){return t.slice(-4)===".bin"?RY(i,e):SY(i,e)}function FJ(i,t,e){return t.slice(-4)===".bin"?EY(i,t,e):wY(i,t,e)}function PJ(i,t,e,n){return e.slice(-4)===".bin"?CY(i,t,e,n):void 0}function NJ(i,t,e){return t.slice(-4)===".bin"?yY(i,t,e):bY(i,t,e)}var k4=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,I4=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function so(i,t){var e=i.split(/\s+/),n=[];if(t||(n[0]=e[0]),e.length===1)return n;var r=i.match(k4),a,o,s,c;if(r)for(c=0;c!=r.length;++c)a=r[c].match(I4),(o=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(o+1),n[s]=a[2].slice(1,a[2].length-1));return n}function LJ(i){var t=i.split(/\s+/),e={};if(t.length===1)return e;var n=i.match(k4),r,a,o,s;if(n)for(s=0;s!=n.length;++s)r=n[s].match(I4),(a=r[1].indexOf(":"))===-1?e[r[1]]=r[2].slice(1,r[2].length-1):(r[1].slice(0,6)==="xmlns:"?o="xmlns"+r[1].slice(6):o=r[1].slice(a+1),e[o]=r[2].slice(1,r[2].length-1));return e}var Ep;function VJ(i,t){var e=Ep[i]||ei(i);return e==="General"?hd(t):Fa(e,t)}function BJ(i,t,e,n){var r=n;switch((e[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":r=Hi(n);break;case"i2":case"int":r=parseInt(n,10);break;case"r4":case"float":r=parseFloat(n);break;case"date":case"dateTime.tz":r=Hn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+e[0])}i[ei(t)]=r}function UJ(i,t,e){if(i.t!=="z"){if(!e||e.cellText!==!1)try{i.t==="e"?i.w=i.w||yd[i.v]:t==="General"?i.t==="n"?(i.v|0)===i.v?i.w=i.v.toString(10):i.w=Cp(i.v):i.w=hd(i.v):i.w=VJ(t||"General",i.v)}catch(a){if(e.WTF)throw a}try{var n=Ep[t]||t||"General";if(e.cellNF&&(i.z=n),e.cellDates&&i.t=="n"&&bh(n)){var r=ld(i.v);r&&(i.t="d",i.v=new Date(r.y,r.m-1,r.d,r.H,r.M,r.S,r.u))}}catch(a){if(e.WTF)throw a}}}function zJ(i,t,e){if(e.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=BX[n.Pattern]||n.Pattern)}i[t.ID]=t}function jJ(i,t,e,n,r,a,o,s,c,l){var d="General",h=n.StyleID,f={};l=l||{};var m=[],v=0;for(h===void 0&&s&&(h=s.StyleID),h===void 0&&o&&(h=o.StyleID);a[h]!==void 0&&(a[h].nf&&(d=a[h].nf),a[h].Interior&&m.push(a[h].Interior),!!a[h].Parent);)h=a[h].Parent;switch(e.Type){case"Boolean":n.t="b",n.v=Hi(i);break;case"String":n.t="s",n.r=yN(ei(i)),n.v=i.indexOf("<")>-1?ei(t||i).replace(/<.*?>/g,""):n.r;break;case"DateTime":i.slice(-1)!="Z"&&(i+="Z"),n.v=(Hn(i)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=ei(i):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+i),n.t||(n.t="n");break;case"Error":n.t="e",n.v=WL[i],l.cellText!==!1&&(n.w=i);break;default:i==""&&t==""?n.t="z":(n.t="s",n.v=yN(t||i));break}if(UJ(n,d,l),l.cellFormula!==!1)if(n.Formula){var _=ei(n.Formula);_.charCodeAt(0)==61&&(_=_.slice(1)),n.f=ph(_,r),delete n.Formula,n.ArrayRange=="RC"?n.F=ph("RC:RC",r):n.ArrayRange&&(n.F=ph(n.ArrayRange,r),c.push([rn(n.F),n.F]))}else for(v=0;v<c.length;++v)r.r>=c[v][0].s.r&&r.r<=c[v][0].e.r&&r.c>=c[v][0].s.c&&r.c<=c[v][0].e.c&&(n.F=c[v][1]);l.cellStyles&&(m.forEach(function(y){!f.patternType&&y.patternType&&(f.patternType=y.patternType)}),n.s=f),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function HJ(i){i.t=i.v||"",i.t=i.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),i.v=i.w=i.ixfe=void 0}function OT(i,t){var e=t||{};bL();var n=up(tS(i));(e.type=="binary"||e.type=="array"||e.type=="base64")&&(typeof di<"u"?n=di.utils.decode(65001,NT(n)):n=Ai(n));var r=n.slice(0,1024).toLowerCase(),a=!1;if(r=r.replace(/".*?"/g,""),(r.indexOf(">")&1023)>Math.min(r.indexOf(",")&1023,r.indexOf(";")&1023)){var o=nr(e);return o.type="string",kp.to_workbook(n,o)}if(r.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Wi){r.indexOf("<"+Wi)>=0&&(a=!0)}),a)return ZJ(n,e);Ep={"General Number":"General","General Date":Rt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Rt[15],"Short Date":Rt[14],"Long Time":Rt[19],"Medium Time":Rt[18],"Short Time":Rt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Rt[2],Standard:Rt[4],Percent:Rt[10],Scientific:Rt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var s,c=[],l;Dn!=null&&e.dense==null&&(e.dense=Dn);var d={},h=[],f=e.dense?[]:{},m="",v={},_={},y=so('<Data ss:Type="String">'),S=0,D=0,T=0,G={s:{r:2e6,c:2e6},e:{r:0,c:0}},K={},j={},w="",x=0,E=[],A={},R={},k=0,O=[],Ke=[],Ie={},ct=[],Ye,Pt=!1,ze=[],nt=[],ue={},H=0,J=0,X={Sheets:[],WBProps:{date1904:!1}},q={};Sp.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var he="";s=Sp.exec(n);)switch(s[3]=(he=s[3]).toLowerCase()){case"data":if(he=="data"){if(s[1]==="/"){if((l=c.pop())[0]!==s[3])throw new Error("Bad state: "+l.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&c.push([s[3],!0]);break}if(c[c.length-1][1])break;s[1]==="/"?jJ(n.slice(S,s.index),w,y,c[c.length-1][0]=="comment"?Ie:v,{c:D,r:T},K,ct[D],_,ze,e):(w="",y=so(s[0]),S=s.index+s[0].length);break;case"cell":if(s[1]==="/")if(Ke.length>0&&(v.c=Ke),(!e.sheetRows||e.sheetRows>T)&&v.v!==void 0&&(e.dense?(f[T]||(f[T]=[]),f[T][D]=v):f[Rn(D)+rr(T)]=v),v.HRef&&(v.l={Target:ei(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(H=D+(parseInt(v.MergeAcross,10)|0),J=T+(parseInt(v.MergeDown,10)|0),E.push({s:{c:D,r:T},e:{c:H,r:J}})),!e.sheetStubs)v.MergeAcross?D=H+1:++D;else if(v.MergeAcross||v.MergeDown){for(var We=D;We<=H;++We)for(var Le=T;Le<=J;++Le)(We>D||Le>T)&&(e.dense?(f[Le]||(f[Le]=[]),f[Le][We]={t:"z"}):f[Rn(We)+rr(Le)]={t:"z"});D=H+1}else++D;else v=LJ(s[0]),v.Index&&(D=+v.Index-1),D<G.s.c&&(G.s.c=D),D>G.e.c&&(G.e.c=D),s[0].slice(-2)==="/>"&&++D,Ke=[];break;case"row":s[1]==="/"||s[0].slice(-2)==="/>"?(T<G.s.r&&(G.s.r=T),T>G.e.r&&(G.e.r=T),s[0].slice(-2)==="/>"&&(_=so(s[0]),_.Index&&(T=+_.Index-1)),D=0,++T):(_=so(s[0]),_.Index&&(T=+_.Index-1),ue={},(_.AutoFitHeight=="0"||_.Height)&&(ue.hpx=parseInt(_.Height,10),ue.hpt=u4(ue.hpx),nt[T]=ue),_.Hidden=="1"&&(ue.hidden=!0,nt[T]=ue));break;case"worksheet":if(s[1]==="/"){if((l=c.pop())[0]!==s[3])throw new Error("Bad state: "+l.join("|"));h.push(m),G.s.r<=G.e.r&&G.s.c<=G.e.c&&(f["!ref"]=Zt(G),e.sheetRows&&e.sheetRows<=G.e.r&&(f["!fullref"]=f["!ref"],G.e.r=e.sheetRows-1,f["!ref"]=Zt(G))),E.length&&(f["!merges"]=E),ct.length>0&&(f["!cols"]=ct),nt.length>0&&(f["!rows"]=nt),d[m]=f}else G={s:{r:2e6,c:2e6},e:{r:0,c:0}},T=D=0,c.push([s[3],!1]),l=so(s[0]),m=ei(l.Name),f=e.dense?[]:{},E=[],ze=[],nt=[],q={name:m,Hidden:0},X.Sheets.push(q);break;case"table":if(s[1]==="/"){if((l=c.pop())[0]!==s[3])throw new Error("Bad state: "+l.join("|"))}else{if(s[0].slice(-2)=="/>")break;c.push([s[3],!1]),ct=[],Pt=!1}break;case"style":s[1]==="/"?zJ(K,j,e):j=so(s[0]);break;case"numberformat":j.nf=ei(so(s[0]).Format||"General"),Ep[j.nf]&&(j.nf=Ep[j.nf]);for(var qe=0;qe!=392&&Rt[qe]!=j.nf;++qe);if(qe==392){for(qe=57;qe!=392;++qe)if(Rt[qe]==null){dd(j.nf,qe);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(Ye=so(s[0]),Ye.Hidden&&(Ye.hidden=!0,delete Ye.Hidden),Ye.Width&&(Ye.wpx=parseInt(Ye.Width,10)),!Pt&&Ye.wpx>10){Pt=!0,Pr=l4;for(var _e=0;_e<ct.length;++_e)ct[_e]&&yh(ct[_e])}Pt&&yh(Ye),ct[Ye.Index-1||ct.length]=Ye;for(var Nt=0;Nt<+Ye.Span;++Nt)ct[ct.length]=nr(Ye);break;case"namedrange":if(s[1]==="/")break;X.Names||(X.Names=[]);var W=yt(s[0]),gi={Name:W.Name,Ref:ph(W.RefersTo.slice(1),{r:0,c:0})};X.Sheets.length>0&&(gi.Sheet=X.Sheets.length-1),X.Names.push(gi);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(s[0].slice(-2)==="/>")break;s[1]==="/"?w+=n.slice(x,s.index):x=s.index+s[0].length;break;case"interior":if(!e.cellStyles)break;j.Interior=so(s[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(s[0].slice(-2)==="/>")break;s[1]==="/"?Sq(A,he,n.slice(k,s.index)):k=s.index+s[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(s[1]==="/"){if((l=c.pop())[0]!==s[3])throw new Error("Bad state: "+l.join("|"))}else c.push([s[3],!1]);break;case"comment":if(s[1]==="/"){if((l=c.pop())[0]!==s[3])throw new Error("Bad state: "+l.join("|"));HJ(Ie),Ke.push(Ie)}else c.push([s[3],!1]),l=so(s[0]),Ie={a:l.Author};break;case"autofilter":if(s[1]==="/"){if((l=c.pop())[0]!==s[3])throw new Error("Bad state: "+l.join("|"))}else if(s[0].charAt(s[0].length-2)!=="/"){var zt=so(s[0]);f["!autofilter"]={ref:ph(zt.Range).replace(/\$/g,"")},c.push([s[3],!0])}break;case"name":break;case"datavalidation":if(s[1]==="/"){if((l=c.pop())[0]!==s[3])throw new Error("Bad state: "+l.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&c.push([s[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(s[1]==="/"){if((l=c.pop())[0]!==s[3])throw new Error("Bad state: "+l.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&c.push([s[3],!0]);break;case"null":break;default:if(c.length==0&&s[3]=="document"||c.length==0&&s[3]=="uof")return nL(n,e);var ri=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(s[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ri=!1}break;case"componentoptions":switch(s[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ri=!1}break;case"excelworkbook":switch(s[3]){case"date1904":X.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ri=!1}break;case"workbookoptions":switch(s[3]){case"owcversion":break;case"height":break;case"width":break;default:ri=!1}break;case"worksheetoptions":switch(s[3]){case"visible":if(s[0].slice(-2)!=="/>")if(s[1]==="/")switch(n.slice(k,s.index)){case"SheetHidden":q.Hidden=1;break;case"SheetVeryHidden":q.Hidden=2;break}else k=s.index+s[0].length;break;case"header":f["!margins"]||xp(f["!margins"]={},"xlml"),isNaN(+yt(s[0]).Margin)||(f["!margins"].header=+yt(s[0]).Margin);break;case"footer":f["!margins"]||xp(f["!margins"]={},"xlml"),isNaN(+yt(s[0]).Margin)||(f["!margins"].footer=+yt(s[0]).Margin);break;case"pagemargins":var Ft=yt(s[0]);f["!margins"]||xp(f["!margins"]={},"xlml"),isNaN(+Ft.Top)||(f["!margins"].top=+Ft.Top),isNaN(+Ft.Left)||(f["!margins"].left=+Ft.Left),isNaN(+Ft.Right)||(f["!margins"].right=+Ft.Right),isNaN(+Ft.Bottom)||(f["!margins"].bottom=+Ft.Bottom);break;case"displayrighttoleft":X.Views||(X.Views=[]),X.Views[0]||(X.Views[0]={}),X.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ri=!1}break;case"pivottable":case"pivotcache":switch(s[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ri=!1}break;case"pagebreaks":switch(s[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ri=!1}break;case"autofilter":switch(s[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ri=!1}break;case"querytable":switch(s[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ri=!1}break;case"datavalidation":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ri=!1}break;case"sorting":case"conditionalformatting":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ri=!1}break;case"mapinfo":case"schema":case"data":switch(s[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ri=!1}break;case"smarttags":break;default:ri=!1;break}if(ri||s[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+s[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(s[0].slice(-2)==="/>")break;s[1]==="/"?BJ(R,he,O,n.slice(k,s.index)):(O=s,k=s.index+s[0].length);break}if(e.WTF)throw"Unrecognized tag: "+s[3]+"|"+c.join("|")}var je={};return!e.bookSheets&&!e.bookProps&&(je.Sheets=d),je.SheetNames=h,je.Workbook=X,je.SSF=nr(Rt),je.Props=A,je.Custprops=R,je}function jT(i,t){switch(bS(t=t||{}),t.type||"base64"){case"base64":return OT(ga(i),t);case"binary":case"buffer":case"file":return OT(i,t);case"array":return OT(gd(i),t)}}function WJ(i){var t={},e=i.content;if(e.l=28,t.AnsiUserType=e.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=rq(e),e.length-e.l<=4)return t;var n=e.read_shift(4);if(n==0||n>40||(e.l-=4,t.Reserved1=e.read_shift(0,"lpstr-ansi"),e.length-e.l<=4)||(n=e.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=aq(e),n=e.read_shift(4),n==0||n>40))return t;e.l-=4,t.Reserved2=e.read_shift(0,"lpwstr")}var $J=[60,1084,2066,2165,2175];function GJ(i,t,e,n,r){var a=n,o=[],s=e.slice(e.l,e.l+a);if(r&&r.enc&&r.enc.insitu&&s.length>0)switch(i){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:r.enc.insitu(s)}o.push(s),e.l+=a;for(var c=Os(e,e.l),l=HT[c],d=0;l!=null&&$J.indexOf(c)>-1;)a=Os(e,e.l+2),d=e.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),s=e.slice(d,e.l+4+a),o.push(s),e.l+=4+a,l=HT[c=Os(e,e.l)];var h=Bc(o);ir(h,0);var f=0;h.lens=[];for(var m=0;m<o.length;++m)h.lens.push(f),f+=o[m].length;if(h.length<n)throw"XLS Record 0x"+i.toString(16)+" Truncated: "+h.length+" < "+n;return t.f(h,h.length,r)}function zo(i,t,e){if(i.t!=="z"&&i.XF){var n=0;try{n=i.z||i.XF.numFmtId||0,t.cellNF&&(i.z=Rt[n])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{i.t==="e"?i.w=i.w||yd[i.v]:n===0||n=="General"?i.t==="n"?(i.v|0)===i.v?i.w=i.v.toString(10):i.w=Cp(i.v):i.w=hd(i.v):i.w=Fa(n,i.v,{date1904:!!e,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&n&&i.t=="n"&&bh(Rt[n]||String(n))){var r=ld(i.v);r&&(i.t="d",i.v=new Date(r.y,r.m-1,r.d,r.H,r.M,r.S,r.u))}}}function qv(i,t,e){return{v:i,ixfe:t,t:e}}function qJ(i,t){var e={opts:{}},n={};Dn!=null&&t.dense==null&&(t.dense=Dn);var r=t.dense?[]:{},a={},o={},s=null,c=[],l="",d={},h,f="",m,v,_,y,S={},D=[],T,G,K=[],j=[],w={Sheets:[],WBProps:{date1904:!1},Views:[{}]},x={},E=function(Mt){return Mt<8?ud[Mt]:Mt<64&&j[Mt-8]||ud[Mt]},A=function(Mt,Ni,Vr){var Ri=Ni.XF.data;if(!(!Ri||!Ri.patternType||!Vr||!Vr.cellStyles)){Ni.s={},Ni.s.patternType=Ri.patternType;var po;(po=Ip(E(Ri.icvFore)))&&(Ni.s.fgColor={rgb:po}),(po=Ip(E(Ri.icvBack)))&&(Ni.s.bgColor={rgb:po})}},R=function(Mt,Ni,Vr){if(!(ue>1)&&!(Vr.sheetRows&&Mt.r>=Vr.sheetRows)){if(Vr.cellStyles&&Ni.XF&&Ni.XF.data&&A(Mt,Ni,Vr),delete Ni.ixfe,delete Ni.XF,h=Mt,f=It(Mt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Mt.r<o.s.r&&(o.s.r=Mt.r),Mt.c<o.s.c&&(o.s.c=Mt.c),Mt.r+1>o.e.r&&(o.e.r=Mt.r+1),Mt.c+1>o.e.c&&(o.e.c=Mt.c+1),Vr.cellFormula&&Ni.f){for(var Ri=0;Ri<D.length;++Ri)if(!(D[Ri][0].s.c>Mt.c||D[Ri][0].s.r>Mt.r)&&!(D[Ri][0].e.c<Mt.c||D[Ri][0].e.r<Mt.r)){Ni.F=Zt(D[Ri][0]),(D[Ri][0].s.c!=Mt.c||D[Ri][0].s.r!=Mt.r)&&delete Ni.f,Ni.f&&(Ni.f=""+pr(D[Ri][1],o,Mt,ze,k));break}}Vr.dense?(r[Mt.r]||(r[Mt.r]=[]),r[Mt.r][Mt.c]=Ni):r[f]=Ni}},k={enc:!1,sbcch:0,snames:[],sharedf:S,arrayf:D,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(k.password=t.password);var O,Ke=[],Ie=[],ct=[],Ye=[],Pt=!1,ze=[];ze.SheetNames=k.snames,ze.sharedf=k.sharedf,ze.arrayf=k.arrayf,ze.names=[],ze.XTI=[];var nt=0,ue=0,H=0,J=[],X=[],q;k.codepage=1200,uo(1200);for(var he=!1;i.l<i.length-1;){var We=i.l,Le=i.read_shift(2);if(Le===0&&nt===10)break;var qe=i.l===i.length?0:i.read_shift(2),_e=HT[Le];if(_e&&_e.f){if(t.bookSheets&&nt===133&&Le!==133)break;if(nt=Le,_e.r===2||_e.r==12){var Nt=i.read_shift(2);if(qe-=2,!k.enc&&Nt!==Le&&((Nt&255)<<8|Nt>>8)!==Le)throw new Error("rt mismatch: "+Nt+"!="+Le);_e.r==12&&(i.l+=10,qe-=10)}var W={};if(Le===10?W=_e.f(i,qe,k):W=GJ(Le,_e,i,qe,k),ue==0&&[9,521,1033,2057].indexOf(nt)===-1)continue;switch(Le){case 34:e.opts.Date1904=w.WBProps.date1904=W;break;case 134:e.opts.WriteProtect=!0;break;case 47:if(k.enc||(i.l=0),k.enc=W,!t.password)throw new Error("File is password-protected");if(W.valid==null)throw new Error("Encryption scheme unsupported");if(!W.valid)throw new Error("Password is incorrect");break;case 92:k.lastuser=W;break;case 66:var gi=Number(W);switch(gi){case 21010:gi=1200;break;case 32768:gi=1e4;break;case 32769:gi=1252;break}uo(k.codepage=gi),he=!0;break;case 317:k.rrtabid=W;break;case 25:k.winlocked=W;break;case 439:e.opts.RefreshAll=W;break;case 12:e.opts.CalcCount=W;break;case 16:e.opts.CalcDelta=W;break;case 17:e.opts.CalcIter=W;break;case 13:e.opts.CalcMode=W;break;case 14:e.opts.CalcPrecision=W;break;case 95:e.opts.CalcSaveRecalc=W;break;case 15:k.CalcRefMode=W;break;case 2211:e.opts.FullCalc=W;break;case 129:W.fDialog&&(r["!type"]="dialog"),W.fBelow||((r["!outline"]||(r["!outline"]={})).above=!0),W.fRight||((r["!outline"]||(r["!outline"]={})).left=!0);break;case 224:K.push(W);break;case 430:ze.push([W]),ze[ze.length-1].XTI=[];break;case 35:case 547:ze[ze.length-1].push(W);break;case 24:case 536:q={Name:W.Name,Ref:pr(W.rgce,o,null,ze,k)},W.itab>0&&(q.Sheet=W.itab-1),ze.names.push(q),ze[0]||(ze[0]=[],ze[0].XTI=[]),ze[ze.length-1].push(W),W.Name=="_xlnm._FilterDatabase"&&W.itab>0&&W.rgce&&W.rgce[0]&&W.rgce[0][0]&&W.rgce[0][0][0]=="PtgArea3d"&&(X[W.itab-1]={ref:Zt(W.rgce[0][0][1][2])});break;case 22:k.ExternCount=W;break;case 23:ze.length==0&&(ze[0]=[],ze[0].XTI=[]),ze[ze.length-1].XTI=ze[ze.length-1].XTI.concat(W),ze.XTI=ze.XTI.concat(W);break;case 2196:if(k.biff<8)break;q!=null&&(q.Comment=W[1]);break;case 18:r["!protect"]=W;break;case 19:W!==0&&k.WTF&&console.error("Password verifier: "+W);break;case 133:a[W.pos]=W,k.snames.push(W.name);break;case 10:{if(--ue)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,r["!ref"]=Zt(o),t.sheetRows&&t.sheetRows<=o.e.r){var zt=o.e.r;o.e.r=t.sheetRows-1,r["!fullref"]=r["!ref"],r["!ref"]=Zt(o),o.e.r=zt}o.e.r++,o.e.c++}Ke.length>0&&(r["!merges"]=Ke),Ie.length>0&&(r["!objects"]=Ie),ct.length>0&&(r["!cols"]=ct),Ye.length>0&&(r["!rows"]=Ye),w.Sheets.push(x)}l===""?d=r:n[l]=r,r=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(k.biff===8&&(k.biff={9:2,521:3,1033:4}[Le]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[W.BIFFVer]||8),k.biffguess=W.BIFFVer==0,W.BIFFVer==0&&W.dt==4096&&(k.biff=5,he=!0,uo(k.codepage=28591)),k.biff==8&&W.BIFFVer==0&&W.dt==16&&(k.biff=2),ue++)break;if(r=t.dense?[]:{},k.biff<8&&!he&&(he=!0,uo(k.codepage=t.codepage||1252)),k.biff<5||W.BIFFVer==0&&W.dt==4096){l===""&&(l="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var ri={pos:i.l-qe,name:l};a[ri.pos]=ri,k.snames.push(l)}else l=(a[We]||{name:""}).name;W.dt==32&&(r["!type"]="chart"),W.dt==64&&(r["!type"]="macro"),Ke=[],Ie=[],k.arrayf=D=[],ct=[],Ye=[],Pt=!1,x={Hidden:(a[We]||{hs:0}).hs,name:l}}break;case 515:case 3:case 2:r["!type"]=="chart"&&(t.dense?(r[W.r]||[])[W.c]:r[It({c:W.c,r:W.r})])&&++W.c,T={ixfe:W.ixfe,XF:K[W.ixfe]||{},v:W.val,t:"n"},H>0&&(T.z=J[T.ixfe>>8&63]),zo(T,t,e.opts.Date1904),R({c:W.c,r:W.r},T,t);break;case 5:case 517:T={ixfe:W.ixfe,XF:K[W.ixfe],v:W.val,t:W.t},H>0&&(T.z=J[T.ixfe>>8&63]),zo(T,t,e.opts.Date1904),R({c:W.c,r:W.r},T,t);break;case 638:T={ixfe:W.ixfe,XF:K[W.ixfe],v:W.rknum,t:"n"},H>0&&(T.z=J[T.ixfe>>8&63]),zo(T,t,e.opts.Date1904),R({c:W.c,r:W.r},T,t);break;case 189:for(var Ft=W.c;Ft<=W.C;++Ft){var je=W.rkrec[Ft-W.c][0];T={ixfe:je,XF:K[je],v:W.rkrec[Ft-W.c][1],t:"n"},H>0&&(T.z=J[T.ixfe>>8&63]),zo(T,t,e.opts.Date1904),R({c:Ft,r:W.r},T,t)}break;case 6:case 518:case 1030:{if(W.val=="String"){s=W;break}if(T=qv(W.val,W.cell.ixfe,W.tt),T.XF=K[T.ixfe],t.cellFormula){var Wi=W.formula;if(Wi&&Wi[0]&&Wi[0][0]&&Wi[0][0][0]=="PtgExp"){var Er=Wi[0][0][1][0],qr=Wi[0][0][1][1],Kr=It({r:Er,c:qr});S[Kr]?T.f=""+pr(W.formula,o,W.cell,ze,k):T.F=((t.dense?(r[Er]||[])[qr]:r[Kr])||{}).F}else T.f=""+pr(W.formula,o,W.cell,ze,k)}H>0&&(T.z=J[T.ixfe>>8&63]),zo(T,t,e.opts.Date1904),R(W.cell,T,t),s=W}break;case 7:case 519:if(s)s.val=W,T=qv(W,s.cell.ixfe,"s"),T.XF=K[T.ixfe],t.cellFormula&&(T.f=""+pr(s.formula,o,s.cell,ze,k)),H>0&&(T.z=J[T.ixfe>>8&63]),zo(T,t,e.opts.Date1904),R(s.cell,T,t),s=null;else throw new Error("String record expects Formula");break;case 33:case 545:{D.push(W);var Vs=It(W[0].s);if(m=t.dense?(r[W[0].s.r]||[])[W[0].s.c]:r[Vs],t.cellFormula&&m){if(!s||!Vs||!m)break;m.f=""+pr(W[1],o,W[0],ze,k),m.F=Zt(W[0])}}break;case 1212:{if(!t.cellFormula)break;if(f){if(!s)break;S[It(s.cell)]=W[0],m=t.dense?(r[s.cell.r]||[])[s.cell.c]:r[It(s.cell)],(m||{}).f=""+pr(W[0],o,h,ze,k)}}break;case 253:T=qv(c[W.isst].t,W.ixfe,"s"),c[W.isst].h&&(T.h=c[W.isst].h),T.XF=K[T.ixfe],H>0&&(T.z=J[T.ixfe>>8&63]),zo(T,t,e.opts.Date1904),R({c:W.c,r:W.r},T,t);break;case 513:t.sheetStubs&&(T={ixfe:W.ixfe,XF:K[W.ixfe],t:"z"},H>0&&(T.z=J[T.ixfe>>8&63]),zo(T,t,e.opts.Date1904),R({c:W.c,r:W.r},T,t));break;case 190:if(t.sheetStubs)for(var mo=W.c;mo<=W.C;++mo){var Wn=W.ixfe[mo-W.c];T={ixfe:Wn,XF:K[Wn],t:"z"},H>0&&(T.z=J[T.ixfe>>8&63]),zo(T,t,e.opts.Date1904),R({c:mo,r:W.r},T,t)}break;case 214:case 516:case 4:T=qv(W.val,W.ixfe,"s"),T.XF=K[T.ixfe],H>0&&(T.z=J[T.ixfe>>8&63]),zo(T,t,e.opts.Date1904),R({c:W.c,r:W.r},T,t);break;case 0:case 512:ue===1&&(o=W);break;case 252:c=W;break;case 1054:if(k.biff==4){J[H++]=W[1];for(var Xr=0;Xr<H+163&&Rt[Xr]!=W[1];++Xr);Xr>=163&&dd(W[1],H+163)}else dd(W[1],W[0]);break;case 30:{J[H++]=W;for(var _a=0;_a<H+163&&Rt[_a]!=W;++_a);_a>=163&&dd(W,H+163)}break;case 229:Ke=Ke.concat(W);break;case 93:Ie[W.cmo[0]]=k.lastobj=W;break;case 438:k.lastobj.TxO=W;break;case 127:k.lastobj.ImData=W;break;case 440:for(y=W[0].s.r;y<=W[0].e.r;++y)for(_=W[0].s.c;_<=W[0].e.c;++_)m=t.dense?(r[y]||[])[_]:r[It({c:_,r:y})],m&&(m.l=W[1]);break;case 2048:for(y=W[0].s.r;y<=W[0].e.r;++y)for(_=W[0].s.c;_<=W[0].e.c;++_)m=t.dense?(r[y]||[])[_]:r[It({c:_,r:y})],m&&m.l&&(m.l.Tooltip=W[1]);break;case 28:{if(k.biff<=5&&k.biff>=2)break;m=t.dense?(r[W[0].r]||[])[W[0].c]:r[It(W[0])];var Yi=Ie[W[2]];m||(t.dense?(r[W[0].r]||(r[W[0].r]=[]),m=r[W[0].r][W[0].c]={t:"z"}):m=r[It(W[0])]={t:"z"},o.e.r=Math.max(o.e.r,W[0].r),o.s.r=Math.min(o.s.r,W[0].r),o.e.c=Math.max(o.e.c,W[0].c),o.s.c=Math.min(o.s.c,W[0].c)),m.c||(m.c=[]),v={a:W[1],t:Yi.TxO.t},m.c.push(v)}break;case 2173:pY(K[W.ixfe],W.ext);break;case 125:{if(!k.cellStyles)break;for(;W.e>=W.s;)ct[W.e--]={width:W.w/256,level:W.level||0,hidden:!!(W.flags&1)},Pt||(Pt=!0,pS(W.w/256)),yh(ct[W.e+1])}break;case 520:{var ai={};W.level!=null&&(Ye[W.r]=ai,ai.level=W.level),W.hidden&&(Ye[W.r]=ai,ai.hidden=!0),W.hpt&&(Ye[W.r]=ai,ai.hpt=W.hpt,ai.hpx=Dp(W.hpt))}break;case 38:case 39:case 40:case 41:r["!margins"]||xp(r["!margins"]={}),r["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Le]]=W;break;case 161:r["!margins"]||xp(r["!margins"]={}),r["!margins"].header=W.header,r["!margins"].footer=W.footer;break;case 574:W.RTL&&(w.Views[0].RTL=!0);break;case 146:j=W;break;case 2198:O=W;break;case 140:G=W;break;case 442:l?x.CodeName=W||x.name:w.WBProps.CodeName=W||"ThisWorkbook";break}}else _e||console.error("Missing Info for XLS Record 0x"+Le.toString(16)),i.l+=qe}return e.SheetNames=Wo(a).sort(function(Cr,Mt){return Number(Cr)-Number(Mt)}).map(function(Cr){return a[Cr].name}),t.bookSheets||(e.Sheets=n),!e.SheetNames.length&&d["!ref"]?(e.SheetNames.push("Sheet1"),e.Sheets&&(e.Sheets.Sheet1=d)):e.Preamble=d,e.Sheets&&X.forEach(function(Cr,Mt){e.Sheets[e.SheetNames[Mt]]["!autofilter"]=Cr}),e.Strings=c,e.SSF=nr(Rt),k.enc&&(e.Encryption=k.enc),O&&(e.Themes=O),e.Metadata={},G!==void 0&&(e.Metadata.Country=G),ze.names.length>0&&(w.Names=ze.names),e.Workbook=w,e}var ZN={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function KJ(i,t,e){var n=Qt.find(i,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var r=PN(n,uq,ZN.DSI);for(var a in r)t[a]=r[a]}catch(l){if(e.WTF)throw l}var o=Qt.find(i,"/!SummaryInformation");if(o&&o.size>0)try{var s=PN(o,hq,ZN.SI);for(var c in s)t[c]==null&&(t[c]=s[c])}catch(l){if(e.WTF)throw l}t.HeadingPairs&&t.TitlesOfParts&&(GL(t.HeadingPairs,t.TitlesOfParts,t,e),delete t.HeadingPairs,delete t.TitlesOfParts)}function D4(i,t){t||(t={}),bS(t),cL(),t.codepage&&KT(t.codepage);var e,n;if(i.FullPaths){if(Qt.find(i,"/encryption"))throw new Error("File is password-protected");e=Qt.find(i,"!CompObj"),n=Qt.find(i,"/Workbook")||Qt.find(i,"/Book")}else{switch(t.type){case"base64":i=lo(ga(i));break;case"binary":i=lo(i);break;case"buffer":break;case"array":Array.isArray(i)||(i=Array.prototype.slice.call(i));break}ir(i,0),n={content:i}}var r,a;if(e&&WJ(e),t.bookProps&&!t.bookSheets)r={};else{var o=Gt?"buffer":"array";if(n&&n.content)r=qJ(n.content,t);else if((a=Qt.find(i,"PerfectOffice_MAIN"))&&a.content)r=bp.to_workbook(a.content,(t.type=o,t));else if((a=Qt.find(i,"NativeContent_MAIN"))&&a.content)r=bp.to_workbook(a.content,(t.type=o,t));else throw(a=Qt.find(i,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&i.FullPaths&&Qt.find(i,"/_VBA_PROJECT_CUR/VBA/dir")&&(r.vbaraw=OY(i))}var s={};return i.FullPaths&&KJ(i,s,t),r.Props=r.Custprops=s,t.bookFiles&&(r.cfb=i),r}var ry={0:{f:DZ},1:{f:OZ},2:{f:jZ},3:{f:LZ},4:{f:PZ},5:{f:zZ},6:{f:$Z},7:{f:BZ},8:{f:YZ},9:{f:XZ},10:{f:qZ},11:{f:KZ},12:{f:FZ},13:{f:HZ},14:{f:VZ},15:{f:NZ},16:{f:C4},17:{f:GZ},18:{f:UZ},19:{f:lS},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:EJ},40:{},42:{},43:{f:qX},44:{f:GX},45:{f:KX},46:{f:YX},47:{f:XX},48:{},49:{f:QG},50:{},51:{f:_Y},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:r4},62:{f:WZ},63:{f:xY},64:{f:aJ},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:br,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:rJ},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:MZ},148:{f:AZ,p:16},151:{f:JZ},152:{},153:{f:wJ},154:{},155:{},156:{f:bJ},157:{},158:{},159:{T:1,f:hX},160:{T:-1},161:{T:1,f:vd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:QZ},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:gY},336:{T:-1},337:{f:vY,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:VT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:n4},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:eJ},427:{f:tJ},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:nJ},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:RZ},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:ZZ},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:VT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:AY},633:{T:1},634:{T:-1},635:{T:1,f:DY},636:{T:-1},637:{f:JG},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:uJ},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:oJ},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},HT={6:{f:RT},10:{f:Vc},12:{f:kn},13:{f:kn},14:{f:dn},15:{f:dn},16:{f:gr},17:{f:dn},18:{f:dn},19:{f:kn},20:{f:BN},21:{f:BN},23:{f:n4},24:{f:zN},25:{f:dn},26:{},27:{},28:{f:kK},29:{},34:{f:dn},35:{f:UN},38:{f:gr},39:{f:gr},40:{f:gr},41:{f:gr},42:{f:dn},43:{f:dn},47:{f:RX},49:{f:cK},51:{f:kn},60:{},61:{f:aK},64:{f:dn},65:{f:sK},66:{f:kn},77:{},80:{},81:{},82:{},85:{f:kn},89:{},90:{},91:{},92:{f:Qq},93:{f:DK},94:{},95:{f:dn},96:{},97:{},99:{f:dn},125:{f:r4},128:{f:vK},129:{f:Zq},130:{f:kn},131:{f:dn},132:{f:dn},133:{f:Jq},134:{},140:{f:PK},141:{f:kn},144:{},146:{f:LK},151:{},152:{},153:{},154:{},155:{},156:{f:kn},157:{},158:{},160:{f:jK},161:{f:BK},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:mK},190:{f:pK},193:{f:Vc},197:{},198:{},199:{},200:{},201:{},202:{f:dn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:kn},220:{},221:{f:dn},222:{},224:{f:_K},225:{f:Yq},226:{f:Vc},227:{},229:{f:IK},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:eK},253:{f:lK},255:{f:tK},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:QL},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:dn},353:{f:Vc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:bK},431:{f:dn},432:{},433:{},434:{},437:{},438:{f:MK},439:{f:dn},440:{f:OK},441:{},442:{f:Fp},443:{},444:{f:kn},445:{},446:{},448:{f:Vc},449:{f:rK,r:2},450:{f:Vc},512:{f:LN},513:{f:zK},515:{f:yK},516:{f:dK},517:{f:VN},519:{f:HK},520:{f:iK},523:{},545:{f:jN},549:{f:NN},566:{},574:{f:oK},638:{f:fK},659:{},1048:{},1054:{f:uK},1084:{},1212:{f:CK},2048:{f:FK},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Wv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Vc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:VK,r:12},2173:{f:mY,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:dn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:EK,r:12},2197:{},2198:{f:cY,r:12},2199:{},2200:{},2201:{},2202:{f:TK,r:12},2203:{f:Vc},2204:{},2205:{},2206:{},2207:{},2211:{f:nK},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:kn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:UK},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:NK},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:LN},1:{},2:{f:qK},3:{f:GK},4:{f:$K},5:{f:VN},7:{f:KK},8:{},9:{f:Wv},11:{},22:{f:kn},30:{f:hK},31:{},32:{},33:{f:jN},36:{},37:{f:NN},50:{f:XK},62:{},52:{},67:{},68:{f:kn},69:{},86:{},126:{},127:{f:WK},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:YK},223:{},234:{},354:{},421:{},518:{f:RT},521:{f:Wv},536:{f:zN},547:{f:UN},561:{},579:{},1030:{f:RT},1033:{f:Wv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function co(i,t,e,n){var r=t;if(!isNaN(r)){var a=n||(e||[]).length||0,o=i.next(4);o.write_shift(2,r),o.write_shift(2,a),a>0&&VL(e)&&i.push(e)}}function JN(i,t){var e=t||{};Dn!=null&&e.dense==null&&(e.dense=Dn);var n=e.dense?[]:{};i=i.replace(/<!--.*?-->/g,"");var r=i.match(/<table/i);if(!r)throw new Error("Invalid HTML: could not find <table>");var a=i.match(/<\/table/i),o=r.index,s=a&&a.index||i.length,c=yG(i.slice(o,s),/(:?<tr[^>]*>)/i,"<tr>"),l=-1,d=0,h=0,f=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(o=0;o<c.length;++o){var _=c[o].trim(),y=_.slice(0,3).toLowerCase();if(y=="<tr"){if(++l,e.sheetRows&&e.sheetRows<=l){--l;break}d=0;continue}if(!(y!="<td"&&y!="<th")){var S=_.split(/<\/t[dh]>/i);for(s=0;s<S.length;++s){var D=S[s].trim();if(D.match(/<t[dh]/i)){for(var T=D,G=0;T.charAt(0)=="<"&&(G=T.indexOf(">"))>-1;)T=T.slice(G+1);for(var K=0;K<v.length;++K){var j=v[K];j.s.c==d&&j.s.r<l&&l<=j.e.r&&(d=j.e.c+1,K=-1)}var w=yt(D.slice(0,D.indexOf(">")));f=w.colspan?+w.colspan:1,((h=+w.rowspan)>1||f>1)&&v.push({s:{r:l,c:d},e:{r:l+(h||1)-1,c:d+f-1}});var x=w.t||w["data-t"]||"";if(!T.length){d+=f;continue}if(T=AL(T),m.s.r>l&&(m.s.r=l),m.e.r<l&&(m.e.r=l),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!T.length){d+=f;continue}var E={t:"s",v:T};e.raw||!T.trim().length||x=="s"||(T==="TRUE"?E={t:"b",v:!0}:T==="FALSE"?E={t:"b",v:!1}:isNaN(fo(T))?isNaN(vh(T).getDate())||(E={t:"d",v:Hn(T)},e.cellDates||(E={t:"n",v:Lr(E.v)}),E.z=e.dateNF||Rt[14]):E={t:"n",v:fo(T)}),e.dense?(n[l]||(n[l]=[]),n[l][d]=E):n[It({r:l,c:d})]=E,d+=f}}}}return n["!ref"]=Zt(m),v.length&&(n["!merges"]=v),n}function XJ(i,t,e,n){for(var r=i["!merges"]||[],a=[],o=t.s.c;o<=t.e.c;++o){for(var s=0,c=0,l=0;l<r.length;++l)if(!(r[l].s.r>e||r[l].s.c>o)&&!(r[l].e.r<e||r[l].e.c<o)){if(r[l].s.r<e||r[l].s.c<o){s=-1;break}s=r[l].e.r-r[l].s.r+1,c=r[l].e.c-r[l].s.c+1;break}if(!(s<0)){var d=It({r:e,c:o}),h=n.dense?(i[e]||[])[o]:i[d],f=h&&h.v!=null&&(h.h||eS(h.w||(Ns(h),h.w)||""))||"",m={};s>1&&(m.rowspan=s),c>1&&(m.colspan=c),n.editable?f='<span contenteditable="true">'+f+"</span>":h&&(m["data-t"]=h&&h.t||"z",h.v!=null&&(m["data-v"]=h.v),h.z!=null&&(m["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+h.l.Target+'">'+f+"</a>")),m.id=(n.id||"sjs")+"-"+d,a.push(FG("td",f,m))}}var v="<tr>";return v+a.join("")+"</tr>"}var YJ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',QJ="</body></html>";function ZJ(i,t){var e=i.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!e||e.length==0)throw new Error("Invalid HTML: could not find <table>");if(e.length==1)return $c(JN(e[0],t),t);var n=xS();return e.forEach(function(r,a){ES(n,JN(r,t),"Sheet"+(a+1))}),n}function JJ(i,t,e){var n=[];return n.join("")+"<table"+(e&&e.id?' id="'+e.id+'"':"")+">"}function eee(i,t){var e=t||{},n=e.header!=null?e.header:YJ,r=e.footer!=null?e.footer:QJ,a=[n],o=xh(i["!ref"]);e.dense=Array.isArray(i),a.push(JJ(i,o,e));for(var s=o.s.r;s<=o.e.r;++s)a.push(XJ(i,o,s,e));return a.push("</table>"+r),a.join("")}function A4(i,t,e){var n=e||{};Dn!=null&&(n.dense=Dn);var r=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")r=n.origin;else{var o=typeof n.origin=="string"?Nr(n.origin):n.origin;r=o.r,a=o.c}var s=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,s.length),l={s:{r:0,c:0},e:{r,c:a}};if(i["!ref"]){var d=xh(i["!ref"]);l.s.r=Math.min(l.s.r,d.s.r),l.s.c=Math.min(l.s.c,d.s.c),l.e.r=Math.max(l.e.r,d.e.r),l.e.c=Math.max(l.e.c,d.e.c),r==-1&&(l.e.r=r=d.e.r+1)}var h=[],f=0,m=i["!rows"]||(i["!rows"]=[]),v=0,_=0,y=0,S=0,D=0,T=0;for(i["!cols"]||(i["!cols"]=[]);v<s.length&&_<c;++v){var G=s[v];if(eL(G)){if(n.display)continue;m[_]={hidden:!0}}var K=G.children;for(y=S=0;y<K.length;++y){var j=K[y];if(!(n.display&&eL(j))){var w=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):AL(j.innerHTML),x=j.getAttribute("data-z")||j.getAttribute("z");for(f=0;f<h.length;++f){var E=h[f];E.s.c==S+a&&E.s.r<_+r&&_+r<=E.e.r&&(S=E.e.c+1-a,f=-1)}T=+j.getAttribute("colspan")||1,((D=+j.getAttribute("rowspan")||1)>1||T>1)&&h.push({s:{r:_+r,c:S+a},e:{r:_+r+(D||1)-1,c:S+a+(T||1)-1}});var A={t:"s",v:w},R=j.getAttribute("data-t")||j.getAttribute("t")||"";w!=null&&(w.length==0?A.t=R||"z":n.raw||w.trim().length==0||R=="s"||(w==="TRUE"?A={t:"b",v:!0}:w==="FALSE"?A={t:"b",v:!1}:isNaN(fo(w))?isNaN(vh(w).getDate())||(A={t:"d",v:Hn(w)},n.cellDates||(A={t:"n",v:Lr(A.v)}),A.z=n.dateNF||Rt[14]):A={t:"n",v:fo(w)})),A.z===void 0&&x!=null&&(A.z=x);var k="",O=j.getElementsByTagName("A");if(O&&O.length)for(var Ke=0;Ke<O.length&&!(O[Ke].hasAttribute("href")&&(k=O[Ke].getAttribute("href"),k.charAt(0)!="#"));++Ke);k&&k.charAt(0)!="#"&&(A.l={Target:k}),n.dense?(i[_+r]||(i[_+r]=[]),i[_+r][S+a]=A):i[It({c:S+a,r:_+r})]=A,l.e.c<S+a&&(l.e.c=S+a),S+=T}}++_}return h.length&&(i["!merges"]=(i["!merges"]||[]).concat(h)),l.e.r=Math.max(l.e.r,_-1+r),i["!ref"]=Zt(l),_>=c&&(i["!fullref"]=Zt((l.e.r=s.length-v+_-1+r,l))),i}function R4(i,t){var e=t||{},n=e.dense?[]:{};return A4(n,i,t)}function tee(i,t){return $c(R4(i,t),t)}function eL(i){var t="",e=iee(i);return e&&(t=e(i).getPropertyValue("display")),t||(t=i.style&&i.style.display),t==="none"}function iee(i){return i.ownerDocument.defaultView&&typeof i.ownerDocument.defaultView.getComputedStyle=="function"?i.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function nee(i){var t=i.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,r){return Array(parseInt(r,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),e=ei(t.replace(/<[^>]*>/g,""));return[e]}var tL={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function M4(i,t){var e=t||{};Dn!=null&&e.dense==null&&(e.dense=Dn);var n=tS(i),r=[],a,o,s={name:""},c="",l=0,d,h,f={},m=[],v=e.dense?[]:{},_,y,S={value:""},D="",T=0,G,K=[],j=-1,w=-1,x={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,A={},R=[],k={},O=0,Ke=0,Ie=[],ct=1,Ye=1,Pt=[],ze={Names:[]},nt={},ue=["",""],H=[],J={},X="",q=0,he=!1,We=!1,Le=0;for(Sp.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");_=Sp.exec(n);)switch(_[3]=_[3].replace(/_.*$/,"")){case"table":case"\u5DE5\u4F5C\u8868":_[1]==="/"?(x.e.c>=x.s.c&&x.e.r>=x.s.r?v["!ref"]=Zt(x):v["!ref"]="A1:A1",e.sheetRows>0&&e.sheetRows<=x.e.r&&(v["!fullref"]=v["!ref"],x.e.r=e.sheetRows-1,v["!ref"]=Zt(x)),R.length&&(v["!merges"]=R),Ie.length&&(v["!rows"]=Ie),d.name=d.\u540D\u79F0||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),f[d.name]=v,We=!1):_[0].charAt(_[0].length-2)!=="/"&&(d=yt(_[0],!1),j=w=-1,x.s.r=x.s.c=1e7,x.e.r=x.e.c=0,v=e.dense?[]:{},R=[],Ie=[],We=!0);break;case"table-row-group":_[1]==="/"?--E:++E;break;case"table-row":case"\u884C":if(_[1]==="/"){j+=ct,ct=1;break}if(h=yt(_[0],!1),h.\u884C\u53F7?j=h.\u884C\u53F7-1:j==-1&&(j=0),ct=+h["number-rows-repeated"]||1,ct<10)for(Le=0;Le<ct;++Le)E>0&&(Ie[j+Le]={level:E});w=-1;break;case"covered-table-cell":_[1]!=="/"&&++w,e.sheetStubs&&(e.dense?(v[j]||(v[j]=[]),v[j][w]={t:"z"}):v[It({r:j,c:w})]={t:"z"}),D="",K=[];break;case"table-cell":case"\u6570\u636E":if(_[0].charAt(_[0].length-2)==="/")++w,S=yt(_[0],!1),Ye=parseInt(S["number-columns-repeated"]||"1",10),y={t:"z",v:null},S.formula&&e.cellFormula!=!1&&(y.f=XN(ei(S.formula))),(S.\u6570\u636E\u7C7B\u578B||S["value-type"])=="string"&&(y.t="s",y.v=ei(S["string-value"]||""),e.dense?(v[j]||(v[j]=[]),v[j][w]=y):v[It({r:j,c:w})]=y),w+=Ye-1;else if(_[1]!=="/"){++w,D="",T=0,K=[],Ye=1;var qe=ct?j+ct-1:j;if(w>x.e.c&&(x.e.c=w),w<x.s.c&&(x.s.c=w),j<x.s.r&&(x.s.r=j),qe>x.e.r&&(x.e.r=qe),S=yt(_[0],!1),H=[],J={},y={t:S.\u6570\u636E\u7C7B\u578B||S["value-type"],v:null},e.cellFormula)if(S.formula&&(S.formula=ei(S.formula)),S["number-matrix-columns-spanned"]&&S["number-matrix-rows-spanned"]&&(O=parseInt(S["number-matrix-rows-spanned"],10)||0,Ke=parseInt(S["number-matrix-columns-spanned"],10)||0,k={s:{r:j,c:w},e:{r:j+O-1,c:w+Ke-1}},y.F=Zt(k),Pt.push([k,y.F])),S.formula)y.f=XN(S.formula);else for(Le=0;Le<Pt.length;++Le)j>=Pt[Le][0].s.r&&j<=Pt[Le][0].e.r&&w>=Pt[Le][0].s.c&&w<=Pt[Le][0].e.c&&(y.F=Pt[Le][1]);switch((S["number-columns-spanned"]||S["number-rows-spanned"])&&(O=parseInt(S["number-rows-spanned"],10)||0,Ke=parseInt(S["number-columns-spanned"],10)||0,k={s:{r:j,c:w},e:{r:j+O-1,c:w+Ke-1}},R.push(k)),S["number-columns-repeated"]&&(Ye=parseInt(S["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=Hi(S["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(S.value);break;case"percentage":y.t="n",y.v=parseFloat(S.value);break;case"currency":y.t="n",y.v=parseFloat(S.value);break;case"date":y.t="d",y.v=Hn(S["date-value"]),e.cellDates||(y.t="n",y.v=Lr(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=gG(S["time-value"])/86400,e.cellDates&&(y.t="d",y.v=ay(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(S.\u6570\u636E\u6570\u503C);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",S["string-value"]!=null&&(D=ei(S["string-value"]),K=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(he=!1,y.t==="s"&&(y.v=D||"",K.length&&(y.R=K),he=T==0),nt.Target&&(y.l=nt),H.length>0&&(y.c=H,H=[]),D&&e.cellText!==!1&&(y.w=D),he&&(y.t="z",delete y.v),(!he||e.sheetStubs)&&!(e.sheetRows&&e.sheetRows<=j))for(var _e=0;_e<ct;++_e){if(Ye=parseInt(S["number-columns-repeated"]||"1",10),e.dense)for(v[j+_e]||(v[j+_e]=[]),v[j+_e][w]=_e==0?y:nr(y);--Ye>0;)v[j+_e][w+Ye]=nr(y);else for(v[It({r:j+_e,c:w})]=y;--Ye>0;)v[It({r:j+_e,c:w+Ye})]=nr(y);x.e.c<=w&&(x.e.c=w)}Ye=parseInt(S["number-columns-repeated"]||"1",10),w+=Ye-1,Ye=0,y={},D="",K=[]}nt={};break;case"document":case"document-content":case"\u7535\u5B50\u8868\u683C\u6587\u6863":case"spreadsheet":case"\u4E3B\u4F53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(_[1]==="/"){if((a=r.pop())[0]!==_[3])throw"Bad state: "+a}else _[0].charAt(_[0].length-2)!=="/"&&r.push([_[3],!0]);break;case"annotation":if(_[1]==="/"){if((a=r.pop())[0]!==_[3])throw"Bad state: "+a;J.t=D,K.length&&(J.R=K),J.a=X,H.push(J)}else _[0].charAt(_[0].length-2)!=="/"&&r.push([_[3],!1]);X="",q=0,D="",T=0,K=[];break;case"creator":_[1]==="/"?X=n.slice(q,_.index):q=_.index+_[0].length;break;case"meta":case"\u5143\u6570\u636E":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(_[1]==="/"){if((a=r.pop())[0]!==_[3])throw"Bad state: "+a}else _[0].charAt(_[0].length-2)!=="/"&&r.push([_[3],!1]);D="",T=0,K=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(_[1]==="/"){if(A[s.name]=c,(a=r.pop())[0]!==_[3])throw"Bad state: "+a}else _[0].charAt(_[0].length-2)!=="/"&&(c="",s=yt(_[0],!1),r.push([_[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(r[r.length-1][0]){case"time-style":case"date-style":o=yt(_[0],!1),c+=tL[_[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(r[r.length-1][0]){case"time-style":case"date-style":o=yt(_[0],!1),c+=tL[_[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(_[0].slice(-2)==="/>")break;if(_[1]==="/")switch(r[r.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(l,_.index);break}else l=_.index+_[0].length;break;case"named-range":o=yt(_[0],!1),ue=MT(o["cell-range-address"]);var Nt={Name:o.name,Ref:ue[0]+"!"+ue[1]};We&&(Nt.Sheet=m.length),ze.Names.push(Nt);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"\u7535\u5B50\u8868\u683C":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"\u6587\u672C\u4E32":if(["master-styles"].indexOf(r[r.length-1][0])>-1)break;if(_[1]==="/"&&(!S||!S["string-value"])){var W=nee(n.slice(T,_.index),G);D=(D.length>0?D+`
`:"")+W[0]}else G=yt(_[0],!1),T=_.index+_[0].length;break;case"s":break;case"database-range":if(_[1]==="/")break;try{ue=MT(yt(_[0])["target-range-address"]),f[ue[0]]["!autofilter"]={ref:ue[1]}}catch{}break;case"date":break;case"object":break;case"title":case"\u6807\u9898":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(_[1]!=="/"){if(nt=yt(_[0],!1),!nt.href)break;nt.Target=ei(nt.href),delete nt.href,nt.Target.charAt(0)=="#"&&nt.Target.indexOf(".")>-1?(ue=MT(nt.Target.slice(1)),nt.Target="#"+ue[0]+"!"+ue[1]):nt.Target.match(/^\.\.[\\\/]/)&&(nt.Target=nt.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(_[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5B57:":break;default:if(e.WTF)throw new Error(_)}}var gi={Sheets:f,SheetNames:m,Workbook:ze};return e.bookSheets&&delete gi.Sheets,gi}function iL(i,t){t=t||{},Oa(i,"META-INF/manifest.xml")&&yq(Sn(i,"META-INF/manifest.xml"),t);var e=pa(i,"content.xml");if(!e)throw new Error("Missing content.xml in ODS / UOF file");var n=M4(Ai(e),t);return Oa(i,"meta.xml")&&(n.Props=$L(Sn(i,"meta.xml"))),n}function nL(i,t){return M4(i,t)}function vS(i){return new DataView(i.buffer,i.byteOffset,i.byteLength)}function WT(i){return typeof TextDecoder<"u"?new TextDecoder().decode(i):Ai(gd(i))}function $T(i){var t=i.reduce(function(r,a){return r+a.length},0),e=new Uint8Array(t),n=0;return i.forEach(function(r){e.set(r,n),n+=r.length}),e}function rL(i){return i-=i>>1&1431655765,i=(i&858993459)+(i>>2&858993459),(i+(i>>4)&252645135)*16843009>>>24}function ree(i,t){for(var e=(i[t+15]&127)<<7|i[t+14]>>1,n=i[t+14]&1,r=t+13;r>=t;--r)n=n*256+i[r];return(i[t+15]&128?-n:n)*Math.pow(10,e-6176)}function Ap(i,t){var e=t?t[0]:0,n=i[e]&127;e:if(i[e++]>=128&&(n|=(i[e]&127)<<7,i[e++]<128||(n|=(i[e]&127)<<14,i[e++]<128)||(n|=(i[e]&127)<<21,i[e++]<128)||(n+=(i[e]&127)*Math.pow(2,28),++e,i[e++]<128)||(n+=(i[e]&127)*Math.pow(2,35),++e,i[e++]<128)||(n+=(i[e]&127)*Math.pow(2,42),++e,i[e++]<128)))break e;return t&&(t[0]=e),n}function Mn(i){var t=0,e=i[t]&127;e:if(i[t++]>=128){if(e|=(i[t]&127)<<7,i[t++]<128||(e|=(i[t]&127)<<14,i[t++]<128)||(e|=(i[t]&127)<<21,i[t++]<128))break e;e|=(i[t]&127)<<28}return e}function _r(i){for(var t=[],e=[0];e[0]<i.length;){var n=e[0],r=Ap(i,e),a=r&7;r=Math.floor(r/8);var o=0,s;if(r==0)break;switch(a){case 0:{for(var c=e[0];i[e[0]++]>=128;);s=i.slice(c,e[0])}break;case 5:o=4,s=i.slice(e[0],e[0]+o),e[0]+=o;break;case 1:o=8,s=i.slice(e[0],e[0]+o),e[0]+=o;break;case 2:o=Ap(i,e),s=i.slice(e[0],e[0]+o),e[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(r," at offset ").concat(n))}var l={data:s,type:a};t[r]==null?t[r]=[l]:t[r].push(l)}return t}function yS(i,t){return i?.map(function(e){return t(e.data)})||[]}function aee(i){for(var t,e=[],n=[0];n[0]<i.length;){var r=Ap(i,n),a=_r(i.slice(n[0],n[0]+r));n[0]+=r;var o={id:Mn(a[1][0].data),messages:[]};a[2].forEach(function(s){var c=_r(s.data),l=Mn(c[3][0].data);o.messages.push({meta:c,data:i.slice(n[0],n[0]+l)}),n[0]+=l}),(t=a[3])!=null&&t[0]&&(o.merge=Mn(a[3][0].data)>>>0>0),e.push(o)}return e}function oee(i,t){if(i!=0)throw new Error("Unexpected Snappy chunk type ".concat(i));for(var e=[0],n=Ap(t,e),r=[];e[0]<t.length;){var a=t[e[0]]&3;if(a==0){var o=t[e[0]++]>>2;if(o<60)++o;else{var s=o-59;o=t[e[0]],s>1&&(o|=t[e[0]+1]<<8),s>2&&(o|=t[e[0]+2]<<16),s>3&&(o|=t[e[0]+3]<<24),o>>>=0,o++,e[0]+=s}r.push(t.slice(e[0],e[0]+o)),e[0]+=o;continue}else{var c=0,l=0;if(a==1?(l=(t[e[0]]>>2&7)+4,c=(t[e[0]++]&224)<<3,c|=t[e[0]++]):(l=(t[e[0]++]>>2)+1,a==2?(c=t[e[0]]|t[e[0]+1]<<8,e[0]+=2):(c=(t[e[0]]|t[e[0]+1]<<8|t[e[0]+2]<<16|t[e[0]+3]<<24)>>>0,e[0]+=4)),r=[$T(r)],c==0)throw new Error("Invalid offset 0");if(c>r[0].length)throw new Error("Invalid offset beyond length");if(l>=c)for(r.push(r[0].slice(-c)),l-=c;l>=r[r.length-1].length;)r.push(r[r.length-1]),l-=r[r.length-1].length;r.push(r[0].slice(-c,-c+l))}}var d=$T(r);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function see(i){for(var t=[],e=0;e<i.length;){var n=i[e++],r=i[e]|i[e+1]<<8|i[e+2]<<16;e+=3,t.push(oee(n,i.slice(e,e+r))),e+=r}if(e!==i.length)throw new Error("data is not a valid framed stream!");return $T(t)}function cee(i,t,e,n){var r=vS(i),a=r.getUint32(4,!0),o=(n>1?12:8)+rL(a&(n>1?3470:398))*4,s=-1,c=-1,l=NaN,d=new Date(2001,0,1);a&512&&(s=r.getUint32(o,!0),o+=4),o+=rL(a&(n>1?12288:4096))*4,a&16&&(c=r.getUint32(o,!0),o+=4),a&32&&(l=r.getFloat64(o,!0),o+=8),a&64&&(d.setTime(d.getTime()+r.getFloat64(o,!0)*1e3),o+=8);var h;switch(i[2]){case 0:break;case 2:h={t:"n",v:l};break;case 3:h={t:"s",v:t[c]};break;case 5:h={t:"d",v:d};break;case 6:h={t:"b",v:l>0};break;case 7:h={t:"n",v:l/86400};break;case 8:h={t:"e",v:0};break;case 9:if(s>-1)h={t:"s",v:e[s]};else if(c>-1)h={t:"s",v:t[c]};else if(!isNaN(l))h={t:"n",v:l};else throw new Error("Unsupported cell type ".concat(i.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(i.slice(0,4)))}return h}function lee(i,t,e){var n=vS(i),r=n.getUint32(8,!0),a=12,o=-1,s=-1,c=NaN,l=NaN,d=new Date(2001,0,1);r&1&&(c=ree(i,a),a+=16),r&2&&(l=n.getFloat64(a,!0),a+=8),r&4&&(d.setTime(d.getTime()+n.getFloat64(a,!0)*1e3),a+=8),r&8&&(s=n.getUint32(a,!0),a+=4),r&16&&(o=n.getUint32(a,!0),a+=4);var h;switch(i[1]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:t[s]};break;case 5:h={t:"d",v:d};break;case 6:h={t:"b",v:l>0};break;case 7:h={t:"n",v:l/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:e[o]};else throw new Error("Unsupported cell type ".concat(i[1]," : ").concat(r&31," : ").concat(i.slice(0,4)));break;case 10:h={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(i[1]," : ").concat(r&31," : ").concat(i.slice(0,4)))}return h}function dee(i,t,e){switch(i[0]){case 0:case 1:case 2:case 3:return cee(i,t,e,i[0]);case 5:return lee(i,t,e);default:throw new Error("Unsupported payload version ".concat(i[0]))}}function jc(i){var t=_r(i);return Ap(t[1][0].data)}function aL(i,t){var e=_r(t.data),n=Mn(e[1][0].data),r=e[3],a=[];return(r||[]).forEach(function(o){var s=_r(o.data),c=Mn(s[1][0].data)>>>0;switch(n){case 1:a[c]=WT(s[3][0].data);break;case 8:{var l=i[jc(s[9][0].data)][0],d=_r(l.data),h=i[jc(d[1][0].data)][0],f=Mn(h.meta[1][0].data);if(f!=2001)throw new Error("2000 unexpected reference to ".concat(f));var m=_r(h.data);a[c]=m[3].map(function(v){return WT(v.data)}).join("")}break}}),a}function uee(i,t){var e,n,r,a,o,s,c,l,d,h,f,m,v,_,y=_r(i),S=Mn(y[1][0].data)>>>0,D=Mn(y[2][0].data)>>>0,T=((n=(e=y[8])==null?void 0:e[0])==null?void 0:n.data)&&Mn(y[8][0].data)>0||!1,G,K;if((a=(r=y[7])==null?void 0:r[0])!=null&&a.data&&t!=0)G=(s=(o=y[7])==null?void 0:o[0])==null?void 0:s.data,K=(l=(c=y[6])==null?void 0:c[0])==null?void 0:l.data;else if((h=(d=y[4])==null?void 0:d[0])!=null&&h.data&&t!=1)G=(m=(f=y[4])==null?void 0:f[0])==null?void 0:m.data,K=(_=(v=y[3])==null?void 0:v[0])==null?void 0:_.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var j=T?4:1,w=vS(G),x=[],E=0;E<G.length/2;++E){var A=w.getUint16(E*2,!0);A<65535&&x.push([E,A])}if(x.length!=D)throw"Expected ".concat(D," cells, found ").concat(x.length);var R=[];for(E=0;E<x.length-1;++E)R[x[E][0]]=K.subarray(x[E][1]*j,x[E+1][1]*j);return x.length>=1&&(R[x[x.length-1][0]]=K.subarray(x[x.length-1][1]*j)),{R:S,cells:R}}function hee(i,t){var e,n=_r(t.data),r=(e=n?.[7])!=null&&e[0]?Mn(n[7][0].data)>>>0>0?1:0:-1,a=yS(n[5],function(o){return uee(o,r)});return{nrows:Mn(n[4][0].data)>>>0,data:a.reduce(function(o,s){return o[s.R]||(o[s.R]=[]),s.cells.forEach(function(c,l){if(o[s.R][l])throw new Error("Duplicate cell r=".concat(s.R," c=").concat(l));o[s.R][l]=c}),o},[])}}function fee(i,t,e){var n,r=_r(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Mn(r[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(r[6][0].data));if(a.e.c=(Mn(r[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(r[7][0].data));e["!ref"]=Zt(a);var o=_r(r[4][0].data),s=aL(i,i[jc(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?aL(i,i[jc(o[17][0].data)][0]):[],l=_r(o[3][0].data),d=0;l[1].forEach(function(h){var f=_r(h.data),m=i[jc(f[2][0].data)][0],v=Mn(m.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var _=hee(i,m);_.data.forEach(function(y,S){y.forEach(function(D,T){var G=It({r:d+S,c:T}),K=dee(D,s,c);K&&(e[G]=K)})}),d+=_.nrows})}function mee(i,t){var e=_r(t.data),n={"!ref":"A1"},r=i[jc(e[2][0].data)],a=Mn(r[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return fee(i,r[0],n),n}function pee(i,t){var e,n=_r(t.data),r={name:(e=n[1])!=null&&e[0]?WT(n[1][0].data):"",sheets:[]},a=yS(n[2],jc);return a.forEach(function(o){i[o].forEach(function(s){var c=Mn(s.meta[1][0].data);c==6e3&&r.sheets.push(mee(i,s))})}),r}function gee(i,t){var e=xS(),n=_r(t.data),r=yS(n[1],jc);if(r.forEach(function(a){i[a].forEach(function(o){var s=Mn(o.meta[1][0].data);if(s==2){var c=pee(i,o);c.sheets.forEach(function(l,d){ES(e,l,d==0?c.name:c.name+"_"+d,!0)})}})}),e.SheetNames.length==0)throw new Error("Empty NUMBERS file");return e}function FT(i){var t,e,n,r,a={},o=[];if(i.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),i.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var l;try{l=see(c.content)}catch(h){return console.log("?? "+c.content.length+" "+(h.message||h))}var d;try{d=aee(l)}catch(h){return console.log("## "+(h.message||h))}d.forEach(function(h){a[h.id]=h.messages,o.push(h.id)})}}),!o.length)throw new Error("File has no messages");var s=((r=(n=(e=(t=a?.[1])==null?void 0:t[0])==null?void 0:e.meta)==null?void 0:n[1])==null?void 0:r[0].data)&&Mn(a[1][0].meta[1][0].data)==1&&a[1][0];if(s||o.forEach(function(c){a[c].forEach(function(l){var d=Mn(l.meta[1][0].data)>>>0;if(d==1)if(!s)s=l;else throw new Error("Document has multiple roots")})}),!s)throw new Error("Cannot find Document root");return gee(a,s)}function _ee(i){return function(e){for(var n=0;n!=i.length;++n){var r=i[n];e[r[0]]===void 0&&(e[r[0]]=r[1]),r[2]==="n"&&(e[r[0]]=Number(e[r[0]]))}}}function bS(i){_ee([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(i)}function vee(i){return Ms.WS.indexOf(i)>-1?"sheet":Ms.CS&&i==Ms.CS?"chart":Ms.DS&&i==Ms.DS?"dialog":Ms.MS&&i==Ms.MS?"macro":i&&i.length?i:"sheet"}function yee(i,t){if(!i)return 0;try{i=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,i["!id"][n.id].Target,vee(i["!id"][n.id].Type)]})}catch{return null}return!i||i.length===0?null:i}function bee(i,t,e,n,r,a,o,s,c,l,d,h){try{a[n]=vp(pa(i,e,!0),t);var f=Sn(i,t),m;switch(s){case"sheet":m=SJ(f,t,r,c,a[n],l,d,h);break;case"chart":if(m=kJ(f,t,r,c,a[n],l,d,h),!m||!m["!drawel"])break;var v=fp(m["!drawel"].Target,t),_=BT(v),y=TY(pa(i,v,!0),vp(pa(i,_,!0),v)),S=fp(y,v),D=BT(S);m=lJ(pa(i,S,!0),S,c,vp(pa(i,D,!0),S),l,m);break;case"macro":m=IJ(f,t,r,c,a[n],l,d,h);break;case"dialog":m=DJ(f,t,r,c,a[n],l,d,h);break;default:throw new Error("Unrecognized sheet type "+s)}o[n]=m;var T=[];a&&a[n]&&Wo(a[n]).forEach(function(G){var K="";if(a[n][G].Type==Ms.CMNT){K=fp(a[n][G].Target,t);var j=OJ(Sn(i,K,!0),K,c);if(!j||!j.length)return;WN(m,j,!1)}a[n][G].Type==Ms.TCMNT&&(K=fp(a[n][G].Target,t),T=T.concat(kY(Sn(i,K,!0),c)))}),T&&T.length&&WN(m,T,!0,c.people||[])}catch(G){if(c.WTF)throw G}}function Ra(i){return i.charAt(0)=="/"?i.slice(1):i}function wee(i,t){if(bL(),t=t||{},bS(t),Oa(i,"META-INF/manifest.xml")||Oa(i,"objectdata.xml"))return iL(i,t);if(Oa(i,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof FT<"u"){if(i.FileIndex)return FT(i);var e=Qt.utils.cfb_new();return _N(i).forEach(function(Ke){wG(e,Ke,SL(i,Ke))}),FT(e)}throw new Error("Unsupported NUMBERS file")}if(!Oa(i,"[Content_Types].xml"))throw Oa(i,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Oa(i,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=_N(i),r=_q(pa(i,"[Content_Types].xml")),a=!1,o,s;if(r.workbooks.length===0&&(s="xl/workbook.xml",Sn(i,s,!0)&&r.workbooks.push(s)),r.workbooks.length===0){if(s="xl/workbook.bin",!Sn(i,s,!0))throw new Error("Could not find workbook");r.workbooks.push(s),a=!0}r.workbooks[0].slice(-3)=="bin"&&(a=!0);var c={},l={};if(!t.bookSheets&&!t.bookProps){if(wp=[],r.sst)try{wp=MJ(Sn(i,Ra(r.sst)),r.sst,t)}catch(Ke){if(t.WTF)throw Ke}t.cellStyles&&r.themes.length&&(c=RJ(pa(i,r.themes[0].replace(/^\//,""),!0)||"",r.themes[0],t)),r.style&&(l=AJ(Sn(i,Ra(r.style)),r.style,c,t))}r.links.map(function(Ke){try{var Ie=vp(pa(i,BT(Ra(Ke))),Ke);return PJ(Sn(i,Ra(Ke)),Ie,Ke,t)}catch{}});var d=TJ(Sn(i,Ra(r.workbooks[0])),r.workbooks[0],t),h={},f="";r.coreprops.length&&(f=Sn(i,Ra(r.coreprops[0]),!0),f&&(h=$L(f)),r.extprops.length!==0&&(f=Sn(i,Ra(r.extprops[0]),!0),f&&xq(f,h,t)));var m={};(!t.bookSheets||t.bookProps)&&r.custprops.length!==0&&(f=pa(i,Ra(r.custprops[0]),!0),f&&(m=Cq(f,t)));var v={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(Ie){return Ie.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),t.bookProps&&(v.Props=h,v.Custprops=m),t.bookSheets&&typeof o<"u"&&(v.SheetNames=o),t.bookSheets?v.SheetNames:t.bookProps))return v;o={};var _={};t.bookDeps&&r.calcchain&&(_=FJ(Sn(i,Ra(r.calcchain)),r.calcchain,t));var y=0,S={},D,T;{var G=d.Sheets;h.Worksheets=G.length,h.SheetNames=[];for(var K=0;K!=G.length;++K)h.SheetNames[K]=G[K].name}var j=a?"bin":"xml",w=r.workbooks[0].lastIndexOf("/"),x=(r.workbooks[0].slice(0,w+1)+"_rels/"+r.workbooks[0].slice(w+1)+".rels").replace(/^\//,"");Oa(i,x)||(x="xl/_rels/workbook."+j+".rels");var E=vp(pa(i,x,!0),x.replace(/_rels.*/,"s5s"));(r.metadata||[]).length>=1&&(t.xlmeta=NJ(Sn(i,Ra(r.metadata[0])),r.metadata[0],t)),(r.people||[]).length>=1&&(t.people=IY(Sn(i,Ra(r.people[0])),t)),E&&(E=yee(E,d.Sheets));var A=Sn(i,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=h.Worksheets;++y){var R="sheet";if(E&&E[y]?(D="xl/"+E[y][1].replace(/[\/]?xl\//,""),Oa(i,D)||(D=E[y][1]),Oa(i,D)||(D=x.replace(/_rels\/.*$/,"")+E[y][1]),R=E[y][2]):(D="xl/worksheets/sheet"+(y+1-A)+"."+j,D=D.replace(/sheet0\./,"sheet.")),T=D.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(h.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var k=!1,O=0;O!=t.sheets.length;++O)typeof t.sheets[O]=="number"&&t.sheets[O]==y&&(k=1),typeof t.sheets[O]=="string"&&t.sheets[O].toLowerCase()==h.SheetNames[y].toLowerCase()&&(k=1);if(!k)continue e}}bee(i,D,T,h.SheetNames[y],y,S,o,R,t,d,c,l)}return v={Directory:r,Workbook:d,Props:h,Custprops:m,Deps:_,Sheets:o,SheetNames:h.SheetNames,Strings:wp,Styles:l,Themes:c,SSF:nr(Rt)},t&&t.bookFiles&&(i.files?(v.keys=n,v.files=i.files):(v.keys=[],v.files={},i.FullPaths.forEach(function(Ke,Ie){Ke=Ke.replace(/^Root Entry[\/]/,""),v.keys.push(Ke),v.files[Ke]=i.FileIndex[Ie]}))),t&&t.bookVBA&&(r.vba.length>0?v.vbaraw=Sn(i,Ra(r.vba[0]),!0):r.defaults&&r.defaults.bin===MY&&(v.vbaraw=Sn(i,"xl/vbaProject.bin",!0))),v}function xee(i,t){var e=t||{},n="Workbook",r=Qt.find(i,n);try{if(n="/!DataSpaces/Version",r=Qt.find(i,n),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(mX(r.content),n="/!DataSpaces/DataSpaceMap",r=Qt.find(i,n),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=gX(r.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",r=Qt.find(i,n),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=_X(r.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",r=Qt.find(i,n),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+n);yX(r.content)}catch{}if(n="/EncryptionInfo",r=Qt.find(i,n),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=bX(r.content);if(n="/EncryptedPackage",r=Qt.find(i,n),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(s[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(s[1],r.content,e.password||"",e);if(s[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(s[1],r.content,e.password||"",e);throw new Error("File is password-protected")}function wS(i,t){var e="";switch((t||{}).type||"base64"){case"buffer":return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]];case"base64":e=ga(i.slice(0,12));break;case"binary":e=i;break;case"array":return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3),e.charCodeAt(4),e.charCodeAt(5),e.charCodeAt(6),e.charCodeAt(7)]}function Eee(i,t){return Qt.find(i,"EncryptedPackage")?xee(i,t):D4(i,t)}function Cee(i,t){var e,n=i,r=t||{};return r.type||(r.type=Gt&&Buffer.isBuffer(i)?"buffer":"base64"),e=kL(n,r),wee(e,r)}function O4(i,t){var e=0;e:for(;e<i.length;)switch(i.charCodeAt(e)){case 10:case 13:case 32:++e;break;case 60:return jT(i.slice(e),t);default:break e}return kp.to_workbook(i,t)}function Tee(i,t){var e="",n=wS(i,t);switch(t.type){case"base64":e=ga(i);break;case"binary":e=i;break;case"buffer":e=i.toString("binary");break;case"array":e=fd(i);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(e=Ai(e)),t.type="binary",O4(e,t)}function See(i,t){var e=i;return t.type=="base64"&&(e=ga(e)),e=di.utils.decode(1200,e.slice(2),"str"),t.type="binary",O4(e,t)}function kee(i){return i.match(/[^\x00-\x7F]/)?mp(i):i}function PT(i,t,e,n){return n?(e.type="string",kp.to_workbook(i,e)):kp.to_workbook(t,e)}function Rp(i,t){cL();var e=t||{};if(typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer)return Rp(new Uint8Array(i),(e=nr(e),e.type="array",e));typeof Uint8Array<"u"&&i instanceof Uint8Array&&!e.type&&(e.type=typeof Deno<"u"?"buffer":"array");var n=i,r=[0,0,0,0],a=!1;if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),gh={},e.dateNF&&(gh.dateNF=e.dateNF),e.type||(e.type=Gt&&Buffer.isBuffer(i)?"buffer":"base64"),e.type=="file"&&(e.type=Gt?"buffer":"binary",n=mG(i),typeof Uint8Array<"u"&&!Gt&&(e.type="array")),e.type=="string"&&(a=!0,e.type="binary",e.codepage=65001,n=kee(i)),e.type=="array"&&typeof Uint8Array<"u"&&i instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),s=new Uint8Array(o);if(s.foo="bar",!s.foo)return e=nr(e),e.type="array",Rp(XT(n),e)}switch((r=wS(n,e))[0]){case 208:if(r[1]===207&&r[2]===17&&r[3]===224&&r[4]===161&&r[5]===177&&r[6]===26&&r[7]===225)return Eee(Qt.read(n,e),e);break;case 9:if(r[1]<=8)return D4(n,e);break;case 60:return jT(n,e);case 73:if(r[1]===73&&r[2]===42&&r[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(r[1]===68)return tX(n,e);break;case 84:if(r[1]===65&&r[2]===66&&r[3]===76)return JK.to_workbook(n,e);break;case 80:return r[1]===75&&r[2]<9&&r[3]<9?Cee(n,e):PT(i,n,e,a);case 239:return r[3]===60?jT(n,e):PT(i,n,e,a);case 255:if(r[1]===254)return See(n,e);if(r[1]===0&&r[2]===2&&r[3]===0)return bp.to_workbook(n,e);break;case 0:if(r[1]===0&&(r[2]>=2&&r[3]===0||r[2]===0&&(r[3]===8||r[3]===9)))return bp.to_workbook(n,e);break;case 3:case 131:case 139:case 140:return HN.to_workbook(n,e);case 123:if(r[1]===92&&r[2]===114&&r[3]===116)return MX.to_workbook(n,e);break;case 10:case 13:case 32:return Tee(n,e);case 137:if(r[1]===80&&r[2]===78&&r[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return QK.indexOf(r[0])>-1&&r[2]<=12&&r[3]<=31?HN.to_workbook(n,e):PT(i,n,e,a)}function Iee(i,t,e,n,r,a,o,s){var c=rr(e),l=s.defval,d=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),h=!0,f=r===1?[]:{};if(r!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:e,enumerable:!1})}catch{f.__rowNum__=e}else f.__rowNum__=e;if(!o||i[e])for(var m=t.s.c;m<=t.e.c;++m){var v=o?i[e][m]:i[n[m]+c];if(v===void 0||v.t===void 0){if(l===void 0)continue;a[m]!=null&&(f[a[m]]=l);continue}var _=v.v;switch(v.t){case"z":if(_==null)break;continue;case"e":_=_==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(a[m]!=null){if(_==null)if(v.t=="e"&&_===null)f[a[m]]=null;else if(l!==void 0)f[a[m]]=l;else if(d&&_===null)f[a[m]]=null;else continue;else f[a[m]]=d&&(v.t!=="n"||v.t==="n"&&s.rawNumbers!==!1)?_:Ns(v,_,s);_!=null&&(h=!1)}}return{row:f,isempty:h}}function GT(i,t){if(i==null||i["!ref"]==null)return[];var e={t:"n",v:0},n=0,r=1,a=[],o=0,s="",c={s:{r:0,c:0},e:{r:0,c:0}},l=t||{},d=l.range!=null?l.range:i["!ref"];switch(l.header===1?n=1:l.header==="A"?n=2:Array.isArray(l.header)?n=3:l.header==null&&(n=0),typeof d){case"string":c=rn(d);break;case"number":c=rn(i["!ref"]),c.s.r=d;break;default:c=d}n>0&&(r=0);var h=rr(c.s.r),f=[],m=[],v=0,_=0,y=Array.isArray(i),S=c.s.r,D=0,T={};y&&!i[S]&&(i[S]=[]);var G=l.skipHidden&&i["!cols"]||[],K=l.skipHidden&&i["!rows"]||[];for(D=c.s.c;D<=c.e.c;++D)if(!(G[D]||{}).hidden)switch(f[D]=Rn(D),e=y?i[S][D]:i[f[D]+h],n){case 1:a[D]=D-c.s.c;break;case 2:a[D]=f[D];break;case 3:a[D]=l.header[D-c.s.c];break;default:if(e==null&&(e={w:"__EMPTY",t:"s"}),s=o=Ns(e,null,l),_=T[o]||0,!_)T[o]=1;else{do s=o+"_"+_++;while(T[s]);T[o]=_,T[s]=1}a[D]=s}for(S=c.s.r+r;S<=c.e.r;++S)if(!(K[S]||{}).hidden){var j=Iee(i,c,S,f,n,a,y,l);(j.isempty===!1||(n===1?l.blankrows!==!1:l.blankrows))&&(m[v++]=j.row)}return m.length=v,m}var oL=/"/g;function Dee(i,t,e,n,r,a,o,s){for(var c=!0,l=[],d="",h=rr(e),f=t.s.c;f<=t.e.c;++f)if(n[f]){var m=s.dense?(i[e]||[])[f]:i[n[f]+h];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(s.rawNumbers&&m.t=="n"?m.v:Ns(m,null,s));for(var v=0,_=0;v!==d.length;++v)if((_=d.charCodeAt(v))===r||_===a||_===34||s.forceQuotes){d='"'+d.replace(oL,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(oL,'""')+'"')):d="";l.push(d)}return s.blankrows===!1&&c?null:l.join(o)}function F4(i,t){var e=[],n=t??{};if(i==null||i["!ref"]==null)return"";var r=rn(i["!ref"]),a=n.FS!==void 0?n.FS:",",o=a.charCodeAt(0),s=n.RS!==void 0?n.RS:`
`,c=s.charCodeAt(0),l=new RegExp((a=="|"?"\\|":a)+"+$"),d="",h=[];n.dense=Array.isArray(i);for(var f=n.skipHidden&&i["!cols"]||[],m=n.skipHidden&&i["!rows"]||[],v=r.s.c;v<=r.e.c;++v)(f[v]||{}).hidden||(h[v]=Rn(v));for(var _=0,y=r.s.r;y<=r.e.r;++y)(m[y]||{}).hidden||(d=Dee(i,r,y,h,o,c,a,n),d!=null&&(n.strip&&(d=d.replace(l,"")),(d||n.blankrows!==!1)&&e.push((_++?s:"")+d)));return delete n.dense,e.join("")}function Aee(i,t){t||(t={}),t.FS="	",t.RS=`
`;var e=F4(i,t);if(typeof di>"u"||t.type=="string")return e;var n=di.utils.encode(1200,e,"str");return"\xFF\xFE"+n}function Ree(i){var t="",e,n="";if(i==null||i["!ref"]==null)return[];var r=rn(i["!ref"]),a="",o=[],s,c=[],l=Array.isArray(i);for(s=r.s.c;s<=r.e.c;++s)o[s]=Rn(s);for(var d=r.s.r;d<=r.e.r;++d)for(a=rr(d),s=r.s.c;s<=r.e.c;++s)if(t=o[s]+a,e=l?(i[d]||[])[s]:i[t],n="",e!==void 0){if(e.F!=null){if(t=e.F,!e.f)continue;n=e.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(e.f!=null)n=e.f;else{if(e.t=="z")continue;if(e.t=="n"&&e.v!=null)n=""+e.v;else if(e.t=="b")n=e.v?"TRUE":"FALSE";else if(e.w!==void 0)n="'"+e.w;else{if(e.v===void 0)continue;e.t=="s"?n="'"+e.v:n=""+e.v}}c[c.length]=t+"="+n}return c}function P4(i,t,e){var n=e||{},r=+!n.skipHeader,a=i||{},o=0,s=0;if(a&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Nr(n.origin):n.origin;o=c.r,s=c.c}var l,d={s:{c:0,r:0},e:{c:s,r:o+t.length-1+r}};if(a["!ref"]){var h=rn(a["!ref"]);d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),o==-1&&(o=h.e.r+1,d.e.r=o+t.length-1+r)}else o==-1&&(o=0,d.e.r=t.length-1+r);var f=n.header||[],m=0;t.forEach(function(_,y){Wo(_).forEach(function(S){(m=f.indexOf(S))==-1&&(f[m=f.length]=S);var D=_[S],T="z",G="",K=It({c:s+m,r:o+y+r});l=Mp(a,K),D&&typeof D=="object"&&!(D instanceof Date)?a[K]=D:(typeof D=="number"?T="n":typeof D=="boolean"?T="b":typeof D=="string"?T="s":D instanceof Date?(T="d",n.cellDates||(T="n",D=Lr(D)),G=n.dateNF||Rt[14]):D===null&&n.nullError&&(T="e",D=0),l?(l.t=T,l.v=D,delete l.w,delete l.R,G&&(l.z=G)):a[K]=l={t:T,v:D},G&&(l.z=G))})}),d.e.c=Math.max(d.e.c,s+f.length-1);var v=rr(o);if(r)for(m=0;m<f.length;++m)a[Rn(m+s)+v]={t:"s",v:f[m]};return a["!ref"]=Zt(d),a}function Mee(i,t){return P4(null,i,t)}function Mp(i,t,e){if(typeof t=="string"){if(Array.isArray(i)){var n=Nr(t);return i[n.r]||(i[n.r]=[]),i[n.r][n.c]||(i[n.r][n.c]={t:"z"})}return i[t]||(i[t]={t:"z"})}return typeof t!="number"?Mp(i,It(t)):Mp(i,It({r:t,c:e||0}))}function Oee(i,t){if(typeof t=="number"){if(t>=0&&i.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var e=i.SheetNames.indexOf(t);if(e>-1)return e;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function xS(){return{SheetNames:[],Sheets:{}}}function ES(i,t,e,n){var r=1;if(!e)for(;r<=65535&&i.SheetNames.indexOf(e="Sheet"+r)!=-1;++r,e=void 0);if(!e||i.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&i.SheetNames.indexOf(e)>=0){var a=e.match(/(^.*?)(\d+)$/);r=a&&+a[2]||0;var o=a&&a[1]||e;for(++r;r<=65535&&i.SheetNames.indexOf(e=o+r)!=-1;++r);}if(_J(e),i.SheetNames.indexOf(e)>=0)throw new Error("Worksheet with name |"+e+"| already exists!");return i.SheetNames.push(e),i.Sheets[e]=t,e}function Fee(i,t,e){i.Workbook||(i.Workbook={}),i.Workbook.Sheets||(i.Workbook.Sheets=[]);var n=Oee(i,t);switch(i.Workbook.Sheets[n]||(i.Workbook.Sheets[n]={}),e){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+e)}i.Workbook.Sheets[n].Hidden=e}function Pee(i,t){return i.z=t,i}function N4(i,t,e){return t?(i.l={Target:t},e&&(i.l.Tooltip=e)):delete i.l,i}function Nee(i,t,e){return N4(i,"#"+t,e)}function Lee(i,t,e){i.c||(i.c=[]),i.c.push({t,a:e||"SheetJS"})}function Vee(i,t,e,n){for(var r=typeof t!="string"?t:rn(t),a=typeof t=="string"?t:Zt(t),o=r.s.r;o<=r.e.r;++o)for(var s=r.s.c;s<=r.e.c;++s){var c=Mp(i,o,s);c.t="n",c.F=a,delete c.v,o==r.s.r&&s==r.s.c&&(c.f=e,n&&(c.D=!0))}return i}var dy={encode_col:Rn,encode_row:rr,encode_cell:It,encode_range:Zt,decode_col:cS,decode_row:sS,split_cell:YG,decode_cell:Nr,decode_range:xh,format_cell:Ns,sheet_add_aoa:UL,sheet_add_json:P4,sheet_add_dom:A4,aoa_to_sheet:Eh,json_to_sheet:Mee,table_to_sheet:R4,table_to_book:tee,sheet_to_csv:F4,sheet_to_txt:Aee,sheet_to_json:GT,sheet_to_html:eee,sheet_to_formulae:Ree,sheet_to_row_object_array:GT,sheet_get_cell:Mp,book_new:xS,book_append_sheet:ES,book_set_sheet_visibility:Fee,cell_set_number_format:Pee,cell_set_hyperlink:N4,cell_set_internal_link:Nee,cell_add_comment:Lee,sheet_set_array_formula:Vee,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};var Hxe=sL.version;var uy=class{Location="";SampleNumber=0;SampleDate="";ExposureGroup="";Agent="";TWA=0;Notes=""};var Uee=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return i})(),zee={passive:!0},L4=(()=>{class i{_platform=g(vt);_ngZone=g(Me);_renderer=g(Kn).createRenderer(null,null);_styleLoader=g(ui);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return La;this._styleLoader.load(Uee);let n=Ar(e),r=this._monitoredElements.get(n);if(r)return r.subject;let a=new ge,o="cdk-text-field-autofilled",s=l=>{l.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(o)?(n.classList.add(o),this._ngZone.run(()=>a.next({target:l.target,isAutofilled:!0}))):l.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(o)&&(n.classList.remove(o),this._ngZone.run(()=>a.next({target:l.target,isAutofilled:!1})))},c=this._ngZone.runOutsideAngular(()=>(n.classList.add("cdk-text-field-autofill-monitored"),this._renderer.listen(n,"animationstart",s,zee)));return this._monitoredElements.set(n,{subject:a,unlisten:c}),a}stopMonitoring(e){let n=Ar(e),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var V4=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({})}return i})();var B4=new se("MAT_INPUT_VALUE_ACCESSOR");var jee=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Hee=new se("MAT_INPUT_CONFIG"),hy=(()=>{class i{_elementRef=g(Ce);_platform=g(vt);ngControl=g(fs,{optional:!0,self:!0});_autofillMonitor=g(L4);_ngZone=g(Me);_formField=g(_m,{optional:!0});_renderer=g(Jt);_uid=g(xi).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=g(Hee,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new ge;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=ln(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Eu.required)??!1}set required(e){this._required=ln(e)}_required;get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Sw().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ln(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>Sw().has(e));constructor(){let e=g(Fl,{optional:!0}),n=g(fm,{optional:!0}),r=g(Cu),a=g(B4,{optional:!0,self:!0}),o=this._elementRef.nativeElement,s=o.nodeName.toLowerCase();a?al(a.value)?this._signalBasedValueAccessor=a:this._inputValueAccessor=a:this._inputValueAccessor=o,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(o,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Tu(r,this.ngControl,n,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=s==="select",this._isTextarea=s==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=o.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&Ba(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let n=this._elementRef.nativeElement;n.type==="number"?(n.type="text",n.setSelectionRange(0,0),n.type="number"):n.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){jee.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}else return this.focused&&!this.disabled||!this.empty}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){let n=this._elementRef.nativeElement;e.length?n.setAttribute("aria-describedby",e.join(" ")):n.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let n=e.target;!n.value&&n.selectionStart===0&&n.selectionEnd===0&&(n.setSelectionRange(1,1),n.setSelectionRange(0,0))};_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(n,r){n&1&&fe("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),n&2&&(Sr("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Ge("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),xe("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Fe]},exportAs:["matInput"],features:[Tt([{provide:gm,useExisting:i}]),ci]})}return i})(),Ch=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[ot,Uo,Uo,V4,ot]})}return i})();function Wee(i,t){i&1&&(P(0,"p",7),Y(1,"No invalid rows to edit."),V())}function $ee(i,t){if(i&1&&(P(0,"span",16),Y(1),V()),i&2){let e=ee().$implicit;B(),jt("",e.__errors.length," issues")}}function Gee(i,t){if(i&1){let e=mt();P(0,"div",8)(1,"div",9),Y(2),ke(3,$ee,2,1,"span",10),V(),P(4,"div",11)(5,"label")(6,"span"),Y(7,"Sample Date"),V(),P(8,"input",12),Zn("ngModelChange",function(r){let a=Ae(e).$implicit;return Qn(a.SampleDate,r)||(a.SampleDate=r),Re(r)}),V()(),P(9,"label")(10,"span"),Y(11,"Exposure Group *"),V(),P(12,"input",13),Zn("ngModelChange",function(r){let a=Ae(e).$implicit;return Qn(a.ExposureGroup,r)||(a.ExposureGroup=r),Re(r)}),V()(),P(13,"label")(14,"span"),Y(15,"TWA *"),V(),P(16,"input",14),Zn("ngModelChange",function(r){let a=Ae(e).$implicit;return Qn(a.TWA,r)||(a.TWA=r),Re(r)}),V()(),P(17,"label")(18,"span"),Y(19,"Agent"),V(),P(20,"input",13),Zn("ngModelChange",function(r){let a=Ae(e).$implicit;return Qn(a.Agent,r)||(a.Agent=r),Re(r)}),V()(),P(21,"label",15)(22,"span"),Y(23,"Notes"),V(),P(24,"input",13),Zn("ngModelChange",function(r){let a=Ae(e).$implicit;return Qn(a.Notes,r)||(a.Notes=r),Re(r)}),V()()()()}if(i&2){let e=t.$implicit;B(2),jt("Row ",e.index+1," "),B(),Z("ngIf",e.__errors==null?null:e.__errors.length),B(5),Yn("ngModel",e.SampleDate),B(4),Yn("ngModel",e.ExposureGroup),B(4),Yn("ngModel",e.TWA),B(4),Yn("ngModel",e.Agent),B(4),Yn("ngModel",e.Notes)}}var fy=class i{constructor(t,e){this.data=t;this.ref=e;let n=(t.rows||[]).map(r=>{let a=ae({},r);if(a.SampleDate)try{let o=new Date(a.SampleDate);if(!isNaN(o.getTime())){let s=o.getFullYear(),c=String(o.getMonth()+1).padStart(2,"0"),l=String(o.getDate()).padStart(2,"0");a.SampleDate=`${s}-${c}-${l}`}}catch{}return a});this.edits.set(n)}edits=it([]);isValidAll(){return this.edits().every(t=>{let e=t.TWA!==void 0&&t.TWA!==null&&t.TWA!==""&&!isNaN(Number(t.TWA))&&Number(t.TWA)>0,n=!!(t.ExposureGroup&&t.ExposureGroup.trim()),r=!!t.SampleDate;return e&&n&&r})}apply(){let t=this.edits().map(e=>{let n=ae({},e);if(n.SampleDate)try{let r=new Date(n.SampleDate+"T00:00:00");isNaN(r.getTime())||(n.SampleDate=r.toISOString())}catch{}return n});this.ref.close(t)}close(){this.ref.close(null)}static \u0275fac=function(e){return new(e||i)(tt(Co),tt(ca))};static \u0275cmp=pe({type:i,selectors:[["app-invalid-row-fix-dialog"]],decls:10,vars:3,consts:[["mat-dialog-title",""],[1,"dialog-body"],["class","hint",4,"ngIf"],["class","row-edit",4,"ngFor","ngForOf"],[1,"actions"],["mat-button","",3,"click"],["matButton","filled","color","primary",3,"click","disabled"],[1,"hint"],[1,"row-edit"],[1,"row-head"],["class","errors",4,"ngIf"],[1,"grid"],["type","date",3,"ngModelChange","ngModel"],["type","text",3,"ngModelChange","ngModel"],["type","number","step","0.0001",3,"ngModelChange","ngModel"],[1,"notes"],[1,"errors"]],template:function(e,n){e&1&&(P(0,"h2",0),Y(1,"Fix Invalid Rows"),V(),P(2,"div",1),ke(3,Wee,2,0,"p",2)(4,Gee,25,7,"div",3),V(),P(5,"div",4)(6,"button",5),fe("click",function(){return n.close()}),Y(7,"Cancel"),V(),P(8,"button",6),fe("click",function(){return n.apply()}),Y(9,"Apply"),V()()),e&2&&(B(3),Z("ngIf",n.edits().length===0),B(),Z("ngForOf",n.edits()),B(4),Z("disabled",!n.isValidAll()))},dependencies:[ni,Ys,Ki,Sa,To,Pl,So,Za,li,vn,Ch,_n,Mr],styles:["[_nghost-%COMP%]{display:block;width:100%;max-width:760px}.dialog-body[_ngcontent-%COMP%]{max-height:65vh;overflow:auto;padding:4px 4px 12px}.row-edit[_ngcontent-%COMP%]{border:1px solid #304050;padding:12px 14px;border-radius:10px;margin-bottom:12px;background:#1d2329}.row-head[_ngcontent-%COMP%]{font-weight:600;font-size:13px;margin-bottom:8px;display:flex;gap:8px;align-items:center}.errors[_ngcontent-%COMP%]{background:#5e1e1e;color:#ffc1c1;padding:2px 8px;border-radius:12px;font-size:11px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:12px}label[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:11px;text-transform:uppercase;letter-spacing:.5px;gap:4px;color:#b7c2cc}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%]{background:#253039;border:1px solid #384650;color:#e6edf3;padding:6px 8px;border-radius:6px;font-size:13px}input[_ngcontent-%COMP%]:focus{outline:2px solid #0d89c3;border-color:#0d89c3}.notes[_ngcontent-%COMP%]{grid-column:1/-1}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:8px}"]})};var my=class i{dialog=g(Qa);workbookBuffer=null;worker=null;processFile(t,e){return N(this,null,function*(){let n=this.createProgressOrchestrator(e);n.startSection(0,33,["Preparing reader\u2026","Opening file\u2026","Allocating buffers\u2026","Estimating size\u2026","Starting read\u2026","Reading data\u2026","Reading chunks\u2026","Processing chunk\u2026","Merging chunks\u2026","Buffering\u2026","Tracking progress\u2026","Detecting file type\u2026","Validating file\u2026","Checking extension\u2026","Processing stream\u2026","Awaiting I/O\u2026","Stabilizing stream\u2026","Optimizing throughput\u2026","Handling large file\u2026","Finalizing read\u2026","Flushing buffers\u2026","Closing handle\u2026","Almost there\u2026","Ready to parse\u2026"]);let r=yield this.readFileWithProgress(t,f=>{n.setSectionTargetFraction(Math.min(.95,Math.max(0,(f||0)/100)))});n.completeSection("Querying workbook\u2026"),this.workbookBuffer=r;let a=null;try{a=this.getWorker(),yield this.initWorker(a,r)}catch{a=null}n.startSection(33,66,["Parsing workbook\u2026","Scanning sheets\u2026","Finding correct mappings\u2026","Validating headers\u2026"]);let o=Rp(r,{type:"array",cellDates:!0}),s=["SampleDate","ExposureGroup","TWA"],c=["SampleNumber","Agent","Notes"];n.bumpLabel("Scanning sheets\u2026");let l=o.SheetNames.map(f=>{let m=this.getSheetHeaders(o,f),v=this.computeAutoMapping(m),_=Object.values(v).filter(S=>!!S).length,y=s.filter(S=>!!v[S]).length;return{sheet:f,headers:m,mapping:v,recognized:_,requiredMatches:y,parsed:[]}});n.bumpLabel("Finding correct mappings\u2026"),l.sort((f,m)=>m.requiredMatches!==f.requiredMatches?m.requiredMatches-f.requiredMatches:m.recognized!==f.recognized?m.recognized-f.recognized:f.sheet.localeCompare(m.sheet));let d=l[0];n.bumpLabel("Validating headers\u2026");let h=s.every(f=>!!d?.mapping[f]);if(n.completeSection("Headers validated"),d)if(e){n.startSection(66,100,["Rendering rows\u2026","Converting dates\u2026","Validating rows\u2026","Preparing preview\u2026"]);let f=null;if(a)try{f=yield this.reparseWithWorker(a,d.sheet,d.mapping,(m,v,_)=>{let y=v>0?m/v:1;n.setSectionTargetFraction(y,_?`${_}\u2026 ${m}/${v}`:`Rendering rows\u2026 ${m}/${v}`)})}catch{f=null}f||(f=yield this.parseRowsChunked(o,d.sheet,d.mapping,(m,v,_)=>{let y=v>0?m/v:1;n.setSectionTargetFraction(y,_?`${_}\u2026 ${m}/${v}`:`Reading rows\u2026 ${m}/${v}`)})),d.parsed=f,n.finish("Done")}else d.parsed=this.parseRows(o,d.sheet,d.mapping);return{workbook:o,sheetOptions:l,primary:d,required:s,optional:c,allRequiredMapped:h}})}reparse(t,e,n){return this.parseRows(t,e,n)}reparseBuffered(t,e,n){return N(this,null,function*(){if(!this.workbookBuffer)throw new Error("No workbook buffer available");try{let r=this.getWorker();return yield this.reparseWithWorker(r,t,e,n)}catch{let r=Rp(this.workbookBuffer,{type:"array",cellDates:!0});return yield this.parseRowsChunked(r,t,e,n)}})}fixInvalidRows(t){let e=t.map((r,a)=>kt(ae({},r),{index:a})).filter(r=>r.__invalid);return e.length?this.dialog.open(fy,{data:{rows:e},width:"720px",maxHeight:"80vh"}).afterClosed().toPromise():Promise.resolve(null)}validateExistingRow(t){let e=[];t.ExposureGroup||e.push("ExposureGroup is required"),t.TWA===void 0||t.TWA===null||t.TWA===""?e.push("TWA is required"):typeof t.TWA!="number"||!isFinite(t.TWA)?e.push("TWA must be a number"):t.TWA<=0&&e.push("TWA must be > 0");let n=null;return t.SampleDate&&(n=new Date(t.SampleDate),isNaN(n.getTime())&&(n=null)),n||e.push("SampleDate is required/invalid"),t.SampleDate=n?n.toISOString():"",t.__errors=e,t.__invalid=e.length>0,t}getSheetHeaders(t,e){let n=dy.sheet_to_json(t.Sheets[e],{header:1});return n.length?n[0].map(r=>r==null?"":String(r).trim()):[]}normalizeHeader(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"")}computeAutoMapping(t){Array.isArray(t)||(t=[]);let e={SampleDate:null,ExposureGroup:null,TWA:null,SampleNumber:null,Agent:null,Notes:null},n={SampleDate:["sampledate","date","sampledt","samplingdate"],ExposureGroup:["exposuregroup","group","groupname","expgroup"],TWA:["twa","result","value","measurement"],SampleNumber:["samplenumber","sampleno","sample#","samplenum","sampleid","sample"],Agent:["agent","chemical","substance","analyte"],Notes:["notes","note","comment","comments","remarks","remark"]},r=t.filter(o=>o!=null).map(o=>{try{return{raw:o,norm:this.normalizeHeader(String(o))}}catch{return{raw:String(o??""),norm:""}}}).filter(o=>o&&typeof o.norm=="string"),a={};for(let o of r)o.norm&&a[o.norm]===void 0&&(a[o.norm]=o.raw);for(let o of Object.keys(e)){let s=n[o]||[];for(let c of s)if(a[c]&&!e[o]){e[o]=a[c];break}}if(!e.TWA){let o=t.find(s=>/twa|result|value/i.test(s||""));o&&(e.TWA=o)}if(!e.SampleDate){let o=t.find(s=>/sample\s*date|date/i.test(s||""));o&&(e.SampleDate=o)}return e}parseRows(t,e,n){return dy.sheet_to_json(t.Sheets[e],{defval:""}).map(a=>this.mapAndValidateRow(a,n))}parseRowsChunked(t,e,n,r){return N(this,null,function*(){let a=dy.sheet_to_json(t.Sheets[e],{defval:""}),o=a.length,s=new Array(o),c=500,l=0;r?.(0,o,"Extracting rows");for(let d=0;d<o;d+=c){let h=Math.min(d+c,o);for(let v=d;v<h;v++)s[v]=this.mapAndValidateRow(a[v],n);l=h;let f=o>0?l/o:1,m=f<.33?"Converting dates":f<.85?"Validating rows":"Preparing preview";r?.(l,o,m),yield new Promise(v=>setTimeout(v,0))}return s})}mapAndValidateRow(t,e){let n=[],r=new uy,a=f=>{let m=e[f];if(m)return t[m]},o=this.tryParseNumber(a("SampleNumber"));r.SampleNumber=Number.isFinite(o)?o:void 0;let s=this.normalizeString(a("ExposureGroup"));s||n.push("ExposureGroup is required"),r.ExposureGroup=s;let c=a("TWA"),l=this.tryParseNumber(c);c===void 0||c===""?n.push("TWA is required"):Number.isFinite(l)?l<=0&&n.push("TWA must be > 0"):n.push("TWA must be a number"),r.TWA=Number.isFinite(l)?l:void 0;let d=a("SampleDate"),h=this.parseDate(d);return h||n.push("SampleDate is required/invalid"),r.SampleDate=h?h.toISOString():"",r.Agent=this.normalizeString(a("Agent")),r.Notes=this.normalizeString(a("Notes")),kt(ae({},r),{__invalid:n.length>0,__errors:n})}normalizeString(t){return t==null?"":String(t).trim()}tryParseNumber(t){if(t==null||t==="")return NaN;if(typeof t=="number")return t;let e=String(t).replace(/[^0-9.+-eE]/g,""),n=parseFloat(e);return Number.isFinite(n)?n:NaN}parseDate(t){if(!t&&t!==0)return null;if(t instanceof Date&&!isNaN(t.getTime()))return t;if(typeof t=="number"&&isFinite(t)){let a=new Date(Date.UTC(1899,11,30)),o=new Date(a.getTime()+t*864e5);return isNaN(o.getTime())?null:o}let e=String(t).trim(),n=new Date(e);if(!isNaN(n.getTime()))return n;let r=e.match(/^(\d{1,2})[\/\-.](\d{1,2})[\/\-.](\d{2,4})$/);if(r){let a=r[1].padStart(2,"0"),o=r[2].padStart(2,"0"),c=`${r[3].length===2?`20${r[3]}`:r[3]}-${a}-${o}`,l=new Date(c);return isNaN(l.getTime())?null:l}return null}readFileWithProgress(t,e){return N(this,null,function*(){return new Promise((n,r)=>{let a=new FileReader,o=null,s=Date.now(),c=h=>{let f=Math.max(1,Math.min(95,Math.floor(h)));e?.(f,"Uploading file\u2026")},l=()=>{let h=1;o=setInterval(()=>{h=Math.min(h+2,90),c(h)},350)},d=()=>{o&&(clearInterval(o),o=null)};a.onprogress=h=>{if(h.lengthComputable){let f=Math.min(95,Math.floor(h.loaded/Math.max(1,h.total)*95));c(f)}},a.onloadstart=()=>{l()},a.onerror=()=>{d(),r(a.error||new Error("Failed to read file"))},a.onload=()=>{d(),n(a.result)},a.readAsArrayBuffer(t)})})}createProgressOrchestrator(t){let a=0,o=33,s="",c=[],l=0,d=Date.now(),h=0,f=0,m=0,v=!1,_=o-1,y=null,S=()=>{t?.(Math.min(100,Math.floor(f)),s)},D=()=>{c.length&&(s=c[l%c.length],l++)},T=()=>{y||(y=setInterval(()=>{if(v){clearInterval(y),y=null;return}let K=Date.now(),j=K-d,w=o-a,x=a+Math.min(1,j/1e3)*w,E=Math.min(_,Math.max(m,x));K-h>=300&&f<E?(f=Math.min(E,f+1),h=K,S()):f<E?(f=Math.min(E,f+.5),h=K,S()):(D(),S())},150))},G=K=>a+Math.max(0,Math.min(1,K))*(o-a);return{startSection(K,j,w){a=K,o=j,c=w||[],l=0,d=Date.now(),_=j-1,s=c[0]||s,m=Math.max(m,K),f<K&&(f=K,h=Date.now(),S()),T()},setSectionTargetFraction(K,j){j&&(s=j);let w=G(K);m=Math.max(m,w)},bumpLabel(K){s=K,D(),S()},completeSection(K){s=K||s,_=o,m=Math.max(m,o);let j=1e3-(Date.now()-d);j>0?setTimeout(()=>{f=o,h=Date.now(),S()},j):(f=o,h=Date.now(),S())},finish(K){s=K||s||"Done",_=o,m=Math.max(m,o);let j=1e3-(Date.now()-d);j>0?setTimeout(()=>{f=o,h=Date.now(),S(),v=!0},j):(f=o,h=Date.now(),S(),v=!0)}}}getWorker(){return this.worker?this.worker:(this.worker=new Worker(new URL("worker-DU6AWZ6A.js",import.meta.url),{type:"module"}),this.worker)}initWorker(t,e){return N(this,null,function*(){return new Promise((n,r)=>{let a=o=>{let s=o.data;s?.type==="inited"?(t.removeEventListener("message",a),n(s.headersMap)):s?.type==="error"&&(t.removeEventListener("message",a),r(new Error(s.error||"Worker init failed")))};t.addEventListener("message",a),t.postMessage({type:"init",buffer:e})})})}reparseWithWorker(t,e,n,r){return N(this,null,function*(){return new Promise((a,o)=>{let s=c=>{let l=c.data;l?.type==="progress"?r?.(l.done,l.total,l.stage):l?.type==="reparsed"?(t.removeEventListener("message",s),a(l.rows)):l?.type==="error"&&(t.removeEventListener("message",s),o(new Error(l.error||"Worker reparse failed")))};t.addEventListener("message",s),t.postMessage({type:"reparse",sheet:e,mapping:n})})})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})};var z4=()=>["name","oel"];function qee(i,t){i&1&&(P(0,"th",12),Y(1,"Agent"),V())}function Kee(i,t){if(i&1&&(P(0,"td",13),Y(1),V()),i&2){let e=t.$implicit;B(),_t(e.Name)}}function Xee(i,t){i&1&&(P(0,"th",12),Y(1,"OEL"),V())}function Yee(i,t){if(i&1){let e=mt();P(0,"td",13)(1,"mat-form-field",14)(2,"mat-label"),Y(3,"OEL"),V(),P(4,"input",15),Zn("ngModelChange",function(r){let a=Ae(e).$implicit;return Qn(a.OELNumber,r)||(a.OELNumber=r),Re(r)}),V()()()}if(i&2){let e=t.$implicit;B(4),Yn("ngModel",e.OELNumber)}}function Qee(i,t){i&1&&Ne(0,"tr",16)}function Zee(i,t){i&1&&Ne(0,"tr",17)}var py=class i{ref=g(ca);rows=it([]);constructor(t){let n=Array.from(new Set((t?.agents||[]).filter(r=>!!r).map(r=>r.trim()))).map(r=>({Name:r,OELNumber:t?.existing?.[r]??.05}));this.rows.set(n)}close(){this.ref.close()}save(){this.ref.close(this.rows())}static \u0275fac=function(e){return new(e||i)(tt(Co))};static \u0275cmp=pe({type:i,selectors:[["app-agents-dialog"]],decls:17,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-table","",1,"mat-elevation-z2","agents-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","oel"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-dialog-actions","","align","end"],["mat-button","",3,"click"],["matButton","filled",3,"click"],["mat-header-cell",""],["mat-cell",""],["appearance","outline",1,"oel-field"],["matInput","","type","number","step","0.0001","min","0",3,"ngModelChange","ngModel"],["mat-header-row",""],["mat-row",""]],template:function(e,n){e&1&&(P(0,"h2",0),Y(1,"Agents and OELs"),V(),P(2,"div",1)(3,"table",2),Bt(4,3),ke(5,qee,2,0,"th",4)(6,Kee,2,1,"td",5),Ut(),Bt(7,6),ke(8,Xee,2,0,"th",4)(9,Yee,5,1,"td",5),Ut(),ke(10,Qee,1,0,"tr",7)(11,Zee,1,0,"tr",8),V()(),P(12,"div",9)(13,"button",10),fe("click",function(){return n.close()}),Y(14,"Cancel"),V(),P(15,"button",11),fe("click",function(){return n.save()}),Y(16,"Save"),V()()),e&2&&(B(3),Z("dataSource",n.rows()),B(7),Z("matHeaderRowDef",qi(3,z4)),B(),Z("matRowDefColumns",qi(4,z4)))},dependencies:[ni,hs,am,sm,om,oc,ac,lu,fu,du,cu,mu,uu,hu,pu,gu,li,vn,Sa,To,Pl,So,mm,Za,Ch,hy,ms,Nl,Uo],styles:["[_nghost-%COMP%]{display:block}table.agents-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}.agents-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%], .agents-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{padding:14px 16px}.agents-table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]:not(:last-child)   .mat-mdc-cell[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.12)}.agents-table[_ngcontent-%COMP%]   .mat-column-name[_ngcontent-%COMP%]{width:60%;white-space:normal}.agents-table[_ngcontent-%COMP%]   .mat-column-oel[_ngcontent-%COMP%]{width:40%}.agents-table[_ngcontent-%COMP%]   .oel-field[_ngcontent-%COMP%]{width:200px;max-width:100%;margin:4px 0}@media (max-width: 640px){.agents-table[_ngcontent-%COMP%]   .oel-field[_ngcontent-%COMP%]{width:100%}}"]})};var Th=class i{_tasks=it([]);tasks=this._tasks.asReadonly();startTask(t){let e=`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,n={id:e,label:t.label,detail:t.detail,kind:t.kind||"other",done:t.total?0:void 0,total:t.total,indeterminate:t.indeterminate??t.total===void 0,startedAt:Date.now(),status:"running"};return this._tasks.update(r=>[n,...r]),e}updateTask(t,e){this._tasks.update(n=>{let r=n.findIndex(s=>s.id===t);if(r===-1)return n;let a=ae(ae({},n[r]),e);a.total!==void 0&&a.done!==void 0&&(a.indeterminate=!1);let o=[...n];return o[r]=a,o})}completeTask(t,e){this.updateTask(t,{status:"completed",detail:e}),setTimeout(()=>this.removeTask(t),4e3)}failTask(t,e){this.updateTask(t,{status:"failed",error:e})}removeTask(t){this._tasks.update(e=>e.filter(n=>n.id!==t))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})};var Sh=class Sh{exceedanceFractionservice=g(mc);exposureGroupservice=g(ch);efTracker=g(uh);organizationservice=g(Cn);firestore=g(Ci);auth=g(Xi);functions=g(As);snackBar=g(Nc);agentService=g(Lc);dialog=g(Qa);bg=g(Th);env=g(Oi);calculateExceedanceFraction(t){let e=this.exposureGroupservice.getTWAListFromSampleInfo(t);return this.exceedanceFractionservice.calculateExceedanceProbability(e,.05)}save(t){return N(this,null,function*(){let e=this.organizationservice.orgStore.currentOrg();if(!e){this.snackBar.open("Please select an organization before uploading.","Dismiss",{duration:5e3,verticalPosition:"top"});return}if(!this.auth.currentUser?.uid){this.snackBar.open("Please sign in to save data.","Dismiss",{duration:4e3,verticalPosition:"top"});return}let r=t.validRows,a=Array.from(new Set(r.map(m=>(m.Agent||"").trim()).filter(m=>!!m)));if(a.length){let m=e.Uid,v={};try{let y=this.agentService.list(m),S=yield fk(y);v=Object.fromEntries((S||[]).map(D=>[D.Name,D.OELNumber]))}catch{}let _=a.filter(y=>v[y]===void 0);if(_.length)try{let S=yield this.dialog.open(py,{data:{agents:_,existing:v},width:"520px"}).afterClosed().toPromise();if(!S){this.snackBar.open("Agent entry canceled.","Dismiss",{duration:3e3,verticalPosition:"top"});return}for(let D of S)if(D?.Name)try{yield this.agentService.upsert(m,{Name:D.Name,OELNumber:Number(D.OELNumber)})}catch{}}catch{}}let o=this.exposureGroupservice.separateSampleInfoByExposureGroup(r),s=new Date().toISOString(),l=Object.keys(o).map(m=>this.slugify(m)).length,d=this.bg.startTask({label:"Uploading results",detail:`${l} exposure group(s)`,kind:"upload",total:l,indeterminate:!0}),h=null,f=new Ji({done:0,total:l});try{let m=ap(this.functions,"bulkImportResults"),v=Object.entries(o).map(([K,j])=>({groupName:K,samples:j})),y=((K,j=3500,w=150)=>{let x=[],E=[],A=0;for(let R of K){let k=R.samples?.length||0;E.length&&(A+k>j||E.length>=w)&&(x.push(E),E=[],A=0),E.push(R),A+=k}return E.length&&x.push(E),x})(v),S=y.length,D=[],T={},G=()=>{let K=Object.values(T).reduce((x,E)=>x+(E.rows||0),0),j=Object.values(T).reduce((x,E)=>x+(E.totalRows||0),0),w=Object.values(T).filter(x=>x.status==="completed"||x.status==="completed-with-errors"||x.status==="failed").length;this.bg.updateTask(d,{done:K,total:j,detail:`${K}/${j} rows \u2022 ${w}/${S} batches`,indeterminate:!j})};for(let K=0;K<y.length;K++){let j=y[K];this.bg.updateTask(d,{done:K,total:1,detail:`Submitting batch ${K+1}/${S}\u2026`});let x=(yield m({orgId:e.Uid,organizationName:e.Name,groups:j,trackJob:S>1}))?.data?.jobId}if(setTimeout(()=>{D.forEach(K=>K())},600*1e3),this.bg.completeTask(d,`Upload successful \u2022 ${S} batch(es)`),l===0){this.snackBar.open("Nothing to recompute.","OK",{duration:2e3,verticalPosition:"top"});return}}catch(m){try{h?.dismiss()}catch{}let v=String(m?.code||""),_=v.includes("PARTIAL_UPLOAD_FAILED")||String(m?.message||"").includes("Some groups failed to upload");this.bg.failTask(d,_?"Partial upload failed":"Upload failed");let y=(()=>{let S=String(m?.message||m||"");return S.includes("AUTH_REQUIRED")?"Please sign in to save data.":S.includes("Missing or insufficient permissions")||S.includes("PERMISSION_DENIED")?"You do not have permission to save to this organization.":v==="internal"?"Server import failed. The upload was too large or timed out. We now split into smaller batches automatically; please try again.":_?S:"Save failed. Please try again."})();this.snackBar.open(y,"Dismiss",{duration:6e3,verticalPosition:"top"});return}})}slugify(t){return(t||"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/-+/g,"-").slice(0,120)}static \u0275fac=function(e){return new(e||Sh)};static \u0275prov=le({token:Sh,factory:Sh.\u0275fac,providedIn:"root"})};il([od()],Sh.prototype,"save",1);var gy=Sh;var Jee=["determinateSpinner"];function ete(i,t){if(i&1&&(Fn(),P(0,"svg",11),Ne(1,"circle",12),V()),i&2){let e=ee();Ge("viewBox",e._viewBox()),B(),fn("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),Ge("r",e._circleRadius())}}var tte=new se("mat-progress-spinner-default-options",{providedIn:"root",factory:ite});function ite(){return{diameter:j4}}var j4=100,nte=10,Gc=(()=>{class i{_elementRef=g(Ce);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=g(tte),n=Wf(),r=this._elementRef.nativeElement;this._noopAnimations=n==="di-disabled"&&!!e&&!e._forceAnimations,this.mode=r.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",!this._noopAnimations&&n==="reduced-motion"&&r.classList.add("mat-progress-spinner-reduced-motion"),e&&(e.color&&(this.color=this._defaultColor=e.color),e.diameter&&(this.diameter=e.diameter),e.strokeWidth&&(this.strokeWidth=e.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=j4;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-nte)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,r){if(n&1&&lt(Jee,5),n&2){let a;ve(a=ye())&&(r._determinateCircle=a.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(n,r){n&2&&(Ge("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",r.mode==="determinate"?r.value:null)("mode",r.mode),sn("mat-"+r.color),fn("width",r.diameter,"px")("height",r.diameter,"px")("--mat-progress-spinner-size",r.diameter+"px")("--mat-progress-spinner-active-indicator-width",r.diameter+"px"),xe("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate",r.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",oi],diameter:[2,"diameter","diameter",oi],strokeWidth:[2,"strokeWidth","strokeWidth",oi]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,r){if(n&1&&(ke(0,ete,2,8,"ng-template",null,0,en),P(2,"div",2,1),Fn(),P(4,"svg",3),Ne(5,"circle",4),V()(),Kh(),P(6,"div",5)(7,"div",6)(8,"div",7),Gi(9,8),V(),P(10,"div",9),Gi(11,8),V(),P(12,"div",10),Gi(13,8),V()()()),n&2){let a=wi(1);B(4),Ge("viewBox",r._viewBox()),B(),fn("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),Ge("r",r._circleRadius()),B(4),Z("ngTemplateOutlet",a),B(2),Z("ngTemplateOutlet",a),B(2),Z("ngTemplateOutlet",a)}},dependencies:[ul],styles:[`.mat-mdc-progress-spinner{--mat-progress-spinner-animation-multiplier: 1;display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mat-progress-spinner-reduced-motion{--mat-progress-spinner-animation-multiplier: 1.25}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate calc(1568.2352941176ms*var(--mat-progress-spinner-animation-multiplier)) linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate calc(5332ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return i})();var qc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[ot]})}return i})();function rte(i,t){i&1&&Xn(0,"div",2)}var ate=new se("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var vy=(()=>{class i{_elementRef=g(Ce);_ngZone=g(Me);_changeDetectorRef=g(bt);_renderer=g(Jt);_cleanupTransitionEnd;constructor(){let e=Wf(),n=g(ate,{optional:!0});this._isNoopAnimation=e==="di-disabled",e==="reduced-motion"&&this._elementRef.nativeElement.classList.add("mat-progress-bar-reduced-motion"),n&&(n.color&&(this.color=this._defaultColor=n.color),this.mode=n.mode||this.mode)}_isNoopAnimation;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=H4(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=H4(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new Je;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(n,r){n&2&&(Ge("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),sn("mat-"+r.color),xe("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",oi],bufferValue:[2,"bufferValue","bufferValue",oi],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(n,r){n&1&&(on(0,"div",0),Xn(1,"div",1),rt(2,rte,1,0,"div",2),un(),on(3,"div",3),Xn(4,"span",4),un(),on(5,"div",5),Xn(6,"span",4),un()),n&2&&(B(),fn("flex-basis",r._getBufferBarFlexBasis()),B(),at(r.mode==="buffer"?2:-1),B(),fn("transform",r._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{--mat-progress-bar-animation-multiplier: 1;display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mat-progress-bar-reduced-motion{--mat-progress-bar-animation-multiplier: 2}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mat-progress-bar-track-height, 4px),var(--mat-progress-bar-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mat-progress-bar-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mat-progress-bar-track-height, 4px);border-radius:var(--mat-progress-bar-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear;background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mat-progress-bar-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}
`],encapsulation:2,changeDetection:0})}return i})();function H4(i,t=0,e=100){return Math.max(t,Math.min(e,i))}var yy=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[ot]})}return i})();var ote=()=>[];function ste(i,t){if(i&1){let e=mt();P(0,"button",18),fe("click",function(){Ae(e);let r=ee();return Re(r.openFixInvalidRows())}),P(1,"mat-icon"),Y(2,"build"),V(),P(3,"span"),Y(4,"Fix Invalid"),V()()}}function cte(i,t){if(i&1&&(P(0,"mat-chip",23),Y(1),V()),i&2){let e=ee(2);Z("matTooltip",e.errorTooltip()),B(),jt("",e.invalidCount()," rows invalid")}}function lte(i,t){if(i&1&&(P(0,"div",19)(1,"mat-chip-set")(2,"mat-chip",20),Y(3),V(),P(4,"mat-chip",21),Y(5),V(),ke(6,cte,2,2,"mat-chip",22),V()()),i&2){let e=ee();B(2),Z("disabled",!0),B(),_t(e.fileName()||"File"),B(),Z("disabled",!0),B(),Pd("",e.validCount(),"/",e.totalCount()," rows"),B(),Z("ngIf",e.hasInvalidRows())}}function dte(i,t){if(i&1&&(P(0,"div",24)(1,"span",25),Y(2,"Overall EF:"),V(),P(3,"span",26),Y(4),Kt(5,"number"),V()()),i&2){let e=t.ngIf;B(4),_t(zi(5,1,e,"1.2-4"))}}function ute(i,t){if(i&1&&(P(0,"th",27),Y(1),V()),i&2){let e=ee().$implicit,n=ee();B(),_t(n.headerLabels[e]||e)}}function hte(i,t){if(i&1&&(Y(0),Kt(1,"date")),i&2){let e=ee().$implicit,n=ee().$implicit;jt(" ",zi(1,1,e[n],"dd-MMM-yyyy")," ")}}function fte(i,t){if(i&1&&(Y(0),Kt(1,"number")),i&2){let e=ee().$implicit,n=ee().$implicit;jt(" ",e[n]===void 0?"":zi(1,1,e[n],"1.2-3")," ")}}function mte(i,t){if(i&1&&Y(0),i&2){let e=ee().$implicit,n=ee().$implicit;jt(" ",e[n]," ")}}function pte(i,t){if(i&1&&(P(0,"td",28),rt(1,hte,2,4)(2,fte,2,4)(3,mte,1,1),V()),i&2){let e,n=ee().$implicit;B(),at((e=n)==="SampleDate"?1:e==="TWA"?2:3)}}function gte(i,t){if(i&1&&(Bt(0,11),ke(1,ute,2,1,"th",13)(2,pte,4,1,"td",14),Ut()),i&2){let e=t.$implicit;Z("matColumnDef",e)}}function _te(i,t){i&1&&(P(0,"th",27),Y(1,"Errors"),V())}function vte(i,t){if(i&1&&(P(0,"span"),Y(1),V()),i&2){let e=ee().$implicit;B(),jt(" ",(e.__errors||qi(1,ote)).join("; ")," ")}}function yte(i,t){if(i&1&&(P(0,"td",28),ke(1,vte,2,2,"span",29),V()),i&2){let e=t.$implicit;B(),Z("ngIf",e.__invalid)}}function bte(i,t){i&1&&Ne(0,"tr",30)}function wte(i,t){if(i&1&&Ne(0,"tr",31),i&2){let e=t.$implicit;xe("invalid-row",e.__invalid)("recent-fixed",!e.__invalid&&e.__recentFixed)}}function xte(i,t){i&1&&Ne(0,"mat-progress-spinner",37)}function Ete(i,t){if(i&1&&Ne(0,"mat-progress-bar",38),i&2){let e=ee(2);Z("value",e.parsePercent()||0)}}function Cte(i,t){if(i&1&&(P(0,"div",32)(1,"div",33),ke(2,xte,1,0,"mat-progress-spinner",34)(3,Ete,1,1,"mat-progress-bar",35),P(4,"div",36),Y(5),V()()()),i&2){let e=ee();B(2),Z("ngIf",e.parsePercent()===null),B(),Z("ngIf",e.parsePercent()!==null),B(2),_t(e.parseLabel()||"Processing\u2026")}}var by=class i{exceedanceFractionservice=g(mc);exposureGroupservice=g(ch);organizationservice=g(Cn);efTracker=g(uh);snackBar=g(Nc);firestore=g(Ci);auth=g(Xi);dialog=g(Qa);agentService=g(Lc);upload=g(my);dataService=g(gy);fileName=it("");isParsing=it(!1);parsePercent=it(null);parseLabel=it("");lastWorkbook=null;lastSheetOptions=[];lastRequired=[];lastOptional=[];lastSelectedSheet=null;lastFinalMapping=null;excelData=it([]);exceedanceFraction;columnsToDisplay=["SampleNumber","SampleDate","ExposureGroup","TWA","Agent"];columnsToDisplayWithExpand=[...this.columnsToDisplay,"Errors"];expandedElement;invalidCount=Lt(()=>this.excelData().filter(t=>t.__invalid).length);hasInvalidRows=Lt(()=>this.invalidCount()>0);totalCount=Lt(()=>this.excelData().length);validCount=Lt(()=>this.excelData().filter(t=>!t.__invalid).length);invalidCellCount=Lt(()=>this.excelData().reduce((t,e)=>t+(e.__errors||[]).length,0));displayData=Lt(()=>this.excelData().map((e,n)=>({r:e,i:n})).sort((e,n)=>{let r=s=>s.r.__invalid?0:s.r.__recentFixed?1:2,a=r(e),o=r(n);return a!==o?a-o:e.i-n.i}).map(e=>e.r));errorCounts=Lt(()=>{let t={ExposureGroup:0,TWA:0,SampleDate:0};for(let e of this.excelData())for(let n of e.__errors||[])n.includes("ExposureGroup")?t.ExposureGroup++:n.includes("TWA")?t.TWA++:n.includes("SampleDate")&&t.SampleDate++;return t});errorTooltip=Lt(()=>{let t=this.errorCounts();return`ExposureGroup: ${t.ExposureGroup}, TWA: ${t.TWA}, SampleDate: ${t.SampleDate}`});headerLabels={SampleNumber:"Sample #",SampleDate:"Sample Date",ExposureGroup:"Exposure Group",TWA:"TWA"};isExpanded(t){return this.expandedElement===t}toggle(t){this.expandedElement=this.isExpanded(t)?null:t}onFileChange(t){return N(this,null,function*(){let e=t.target.files[0];if(!e)return;e.name&&this.fileName.set(e.name),this.isParsing.set(!0),this.parsePercent.set(0),this.parseLabel.set("Reading file\u2026");let n=yield this.upload.processFile(e,(a,o)=>{this.parsePercent.set(a),o&&this.parseLabel.set(o)}).finally(()=>{this.isParsing.set(!1)});if(this.lastWorkbook=n.workbook,this.lastSheetOptions=n.sheetOptions,this.lastRequired=n.required,this.lastOptional=n.optional,this.lastSelectedSheet=n.primary?.sheet||null,this.lastFinalMapping=n.primary?.mapping||null,!n.primary||n.primary.parsed.length===0){this.excelData.set([]),this.snackBar.open("No sheets contained recognizable data. Please check your file.","Dismiss",{duration:6e3,verticalPosition:"top"});return}if(n.allRequiredMapped){this.excelData.set(n.primary.parsed),this.calculateExceedanceFraction();return}this.dialog.open(lp,{data:{sheetOptions:n.sheetOptions.map(a=>({name:a.sheet,headers:a.headers,mapping:a.mapping,requiredMatches:a.requiredMatches,recognized:a.recognized})),selected:n.primary.sheet,required:n.required,optional:n.optional},width:"60vw",maxWidth:"60vw",maxHeight:"75vh",panelClass:"mapping-dialog-panel"}).afterClosed().subscribe(a=>N(this,null,function*(){if(!a){this.snackBar.open("Import canceled.","Dismiss",{duration:3e3,verticalPosition:"top"});return}let o=a.sheet||n.primary.sheet,s=n.sheetOptions.find(h=>h.sheet===o)||n.primary,c=a.mapping||s.mapping,l=this.upload.reparseBuffered?yield this.upload.reparseBuffered(s.sheet,c):this.upload.reparse(n.workbook,s.sheet,c),d=n.required.filter(h=>!c[h]);if(d.length){this.snackBar.open("Missing required columns: "+d.join(", "),"Dismiss",{duration:6e3,verticalPosition:"top"});return}this.excelData.set(l),this.lastSelectedSheet=s.sheet,this.lastFinalMapping=c,this.calculateExceedanceFraction()}))})}openMappingDialog(){if(!this.lastWorkbook||!this.lastSheetOptions.length)return;let t=this.lastWorkbook,e=this.lastRequired,n=this.lastOptional,r=this.lastSheetOptions,a=r.find(s=>s.sheet===(this.lastSelectedSheet||r[0].sheet))||r[0];this.dialog.open(lp,{data:{sheetOptions:r.map(s=>({name:s.sheet,headers:s.headers,mapping:s.mapping,requiredMatches:s.requiredMatches,recognized:s.recognized})),selected:a.sheet,required:e,optional:n},width:"60vw",height:"75vh",maxWidth:"60vw",maxHeight:"75vh",panelClass:"mapping-dialog-panel"}).afterClosed().subscribe(s=>N(this,null,function*(){if(!s)return;let c=s.sheet||a.sheet,l=r.find(m=>m.sheet===c)||a,d=s.mapping||l.mapping,h=this.upload.reparseBuffered?yield this.upload.reparseBuffered(l.sheet,d):this.upload.reparse(t,l.sheet,d),f=e.filter(m=>!d[m]);if(f.length){this.snackBar.open("Missing required columns: "+f.join(", "),"Dismiss",{duration:6e3,verticalPosition:"top"});return}this.excelData.set(h),this.lastSelectedSheet=l.sheet,this.lastFinalMapping=d,this.calculateExceedanceFraction()}))}calculateExceedanceFraction(){let t=this.exposureGroupservice.separateSampleInfoByExposureGroup(this.excelData());for(let n in t){let r=t[n];if(r.length===1)continue;let a=this.exposureGroupservice.getTWAListFromSampleInfo(r),o=this.exceedanceFractionservice.calculateExceedanceProbability(a,.05)}let e=this.exposureGroupservice.getTWAListFromSampleInfo(this.excelData());this.exceedanceFraction=this.exceedanceFractionservice.calculateExceedanceProbability(e,.05)}openFixInvalidRows(){let t=this.excelData();t.map((n,r)=>kt(ae({},n),{index:r})).filter(n=>n.__invalid).length&&this.upload.fixInvalidRows(t).then(n=>{if(!n)return;let r=[...this.excelData()].map(a=>kt(ae({},a),{__recentFixed:!1}));for(let a of n){let o=a.index;if(o<0||o>=r.length)continue;let s=ae({},r[o]);s.SampleDate=a.SampleDate?new Date(a.SampleDate).toISOString():"",s.ExposureGroup=(a.ExposureGroup||"").trim(),s.TWA=a.TWA!==void 0&&a.TWA!==null&&a.TWA!==""?Number(a.TWA):void 0,s.Agent=a.Agent||s.Agent,s.Notes=a.Notes||s.Notes;let c=this.upload.validateExistingRow(s);c.__recentFixed=!c.__invalid,r[o]=c}this.excelData.set(r),this.calculateExceedanceFraction()})}saveSampleInfo(){return N(this,null,function*(){let t=(this.excelData()||[]).filter(e=>!e.__invalid);yield this.dataService.save({validRows:t})})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=pe({type:i,selectors:[["app-data"]],decls:31,vars:10,consts:[["fileUpload",""],["type","file",1,"file-input",3,"change"],[1,"toolbar"],[1,"actions"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","matTooltip","Review or adjust column mapping",3,"click","disabled"],["matButton","filled",3,"click","disabled"],["matButton","tonal","matTooltip","Edit only invalid rows inline",3,"click",4,"ngIf"],["class","status",4,"ngIf"],["class","ef",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef"],["matColumnDef","Errors"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","example-element-row",3,"invalid-row","recent-fixed",4,"matRowDef","matRowDefColumns"],["class","overlay",4,"ngIf"],["matButton","tonal","matTooltip","Edit only invalid rows inline",3,"click"],[1,"status"],["matTooltip","Selected file name",3,"disabled"],["matTooltip","Valid / Total rows",3,"disabled"],["color","warn",3,"matTooltip",4,"ngIf"],["color","warn",3,"matTooltip"],[1,"ef"],[1,"ef-label"],[1,"ef-value"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["mat-header-row",""],["mat-row","",1,"example-element-row"],[1,"overlay"],[1,"overlay-card"],["mode","indeterminate","diameter","42",4,"ngIf"],["mode","determinate",3,"value",4,"ngIf"],[1,"overlay-label"],["mode","indeterminate","diameter","42"],["mode","determinate",3,"value"]],template:function(e,n){if(e&1){let r=mt();P(0,"input",1,0),fe("change",function(o){return Ae(r),Re(n.onFileChange(o))}),V(),P(2,"div",2)(3,"div",3)(4,"button",4),fe("click",function(){Ae(r);let o=wi(1);return Re(o.click())}),P(5,"mat-icon"),Y(6,"attach_file"),V(),P(7,"span"),Y(8,"Upload"),V()(),P(9,"button",5),fe("click",function(){return Ae(r),Re(n.openMappingDialog())}),P(10,"mat-icon"),Y(11,"view_column"),V(),P(12,"span"),Y(13,"Mapping"),V()(),P(14,"button",6),fe("click",function(){return Ae(r),Re(n.saveSampleInfo())}),P(15,"mat-icon"),Y(16,"save"),V(),P(17,"span"),Y(18,"Save"),V()(),ke(19,ste,5,0,"button",7),V(),ke(20,lte,7,6,"div",8)(21,dte,6,4,"div",9),V(),P(22,"table",10),ya(23,gte,3,1,"ng-container",11,qs),Bt(25,12),ke(26,_te,2,0,"th",13)(27,yte,2,1,"td",14),Ut(),ke(28,bte,1,0,"tr",15)(29,wte,1,4,"tr",16),V(),ke(30,Cte,6,3,"div",17)}e&2&&(B(9),Z("disabled",n.totalCount()===0),B(5),Z("disabled",n.validCount()===0||n.hasInvalidRows()),B(5),Z("ngIf",n.hasInvalidRows()),B(),Z("ngIf",n.totalCount()>0),B(),Z("ngIf",n.exceedanceFraction),B(),Z("dataSource",n.displayData()),B(),ba(n.columnsToDisplay),B(5),Z("matHeaderRowDef",n.columnsToDisplayWithExpand)("matHeaderRowDefSticky",!0),B(),Z("matRowDefColumns",n.columnsToDisplayWithExpand),B(),Z("ngIf",n.isParsing()))},dependencies:[ni,Ki,_n,lr,li,vn,oc,ac,lu,fu,du,cu,mu,uu,hu,pu,gu,nR,c2,dx,s2,Mr,Ja,hs,qc,Gc,yy,vy,fl,hl],styles:[".file-input[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}.overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000059;display:flex;align-items:center;justify-content:center;z-index:1000}.overlay-card[_ngcontent-%COMP%]{background:var(--mat-sys-surface);color:var(--mat-sys-on-surface);padding:20px 24px;border-radius:8px;min-width:280px;box-shadow:0 10px 30px #0000004d;display:grid;gap:12px;justify-items:center}.overlay-label[_ngcontent-%COMP%]{font-size:14px;opacity:.85}.toolbar[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto auto;gap:12px;align-items:center;margin-bottom:12px}.toolbar[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:inline-flex;gap:8px;align-items:center}.toolbar[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{justify-self:end}.toolbar[_ngcontent-%COMP%]   .ef[_ngcontent-%COMP%]{justify-self:end;font-size:.9rem}th.mat-header-cell[_ngcontent-%COMP%]{white-space:nowrap}.example-element-row.invalid-row[_ngcontent-%COMP%]{background:var(--mat-sys-error-container)}.example-element-row.invalid-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--mat-sys-error)}.example-element-row.recent-fixed[_ngcontent-%COMP%]{background:var(--mat-sys-on-primary)}.example-element-row.recent-fixed[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#e0d4ff}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-row[_ngcontent-%COMP%]:hover{background:var(--mat-sys-surface-bright)}"]})};var Tte=["mat-menu-item",""],Ste=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],kte=["mat-icon, [matMenuItemIcon]","*"];function Ite(i,t){i&1&&(Fn(),P(0,"svg",2),Ne(1,"polygon",3),V())}var Dte=["*"];function Ate(i,t){if(i&1){let e=mt();on(0,"div",0),Wk("click",function(){Ae(e);let r=ee();return Re(r.closed.emit("click"))})("animationstart",function(r){Ae(e);let a=ee();return Re(a._onAnimationStart(r.animationName))})("animationend",function(r){Ae(e);let a=ee();return Re(a._onAnimationDone(r.animationName))})("animationcancel",function(r){Ae(e);let a=ee();return Re(a._onAnimationDone(r.animationName))}),on(1,"div",1),Qe(2),un()()}if(i&2){let e=ee();sn(e._classList),xe("mat-menu-panel-animations-disabled",e._animationsDisabled)("mat-menu-panel-exit-animation",e._panelAnimationState==="void")("mat-menu-panel-animating",e._isAnimating),Sr("id",e.panelId),Ge("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var TS=new se("MAT_MENU_PANEL"),Vp=(()=>{class i{_elementRef=g(Ce);_document=g(et);_focusMonitor=g(Ln);_parentMenu=g(TS,{optional:!0});_changeDetectorRef=g(bt);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new ge;_focused=new ge;_highlighted=!1;_triggersSubmenu=!1;constructor(){g(ui).load(Jn),this._parentMenu?.addItem?.(this)}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),n=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<n.length;r++)n[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(n,r){n&1&&fe("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),n&2&&(Ge("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),xe("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",Fe],disableRipple:[2,"disableRipple","disableRipple",Fe]},exportAs:["matMenuItem"],attrs:Tte,ngContentSelectors:kte,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,r){n&1&&(Ot(Ste),Qe(0),P(1,"span",0),Qe(2,1),V(),Ne(3,"div",1),rt(4,Ite,2,0,":svg:svg",2)),n&2&&(B(3),Z("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),B(),at(r._triggersSubmenu?4:-1))},dependencies:[ds],encapsulation:2,changeDetection:0})}return i})();var Rte=new se("MatMenuContent");var Mte=new se("mat-menu-default-options",{providedIn:"root",factory:Ote});function Ote(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var CS="_mat-menu-enter",wy="_mat-menu-exit",Ih=(()=>{class i{_elementRef=g(Ce);_changeDetectorRef=g(bt);_injector=g($e);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled=Wt();_allItems;_directDescendantItems=new Zo;_classList={};_panelAnimationState="void";_animationDone=new ge;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){let n=this._previousPanelClass,r=ae({},this._classList);n&&n.length&&n.split(" ").forEach(a=>{r[a]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(a=>{r[a]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new Je;close=this.closed;panelId=g(xi).getId("mat-menu-panel-");constructor(){let e=g(Mte);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Cl(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Si(this._directDescendantItems),ii(e=>Vi(...e.map(n=>n._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let n=this._keyManager;if(this._panelAnimationState==="enter"&&n.activeItem?._hasFocus()){let r=e.toArray(),a=Math.max(0,Math.min(r.length-1,n.activeItemIndex||0));r[a]&&!r[a].disabled?n.setActiveItem(a):n.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(Si(this._directDescendantItems),ii(n=>Vi(...n.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let n=e.keyCode,r=this._keyManager;switch(n){case 27:gn(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(n===38||n===40)&&r.setFocusOrigin("keyboard"),r.onKeydown(e);return}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=bi(()=>{let n=this._resolvePanel();if(!n||!n.contains(document.activeElement)){let r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&n&&n.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,n=this.yPosition){this._classList=kt(ae({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":n==="above","mat-menu-below":n==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(e){let n=e===wy;(n||e===CS)&&(n&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(n?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(e){(e===CS||e===wy)&&(this._isAnimating=!0)}_setIsOpen(e){if(this._panelAnimationState=e?"enter":"void",e){if(this._keyManager.activeItemIndex===0){let n=this._resolvePanel();n&&(n.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(wy),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?CS:wy)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(Si(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let e=null;return this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),e}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-menu"]],contentQueries:function(n,r,a){if(n&1&&(ft(a,Rte,5),ft(a,Vp,5),ft(a,Vp,4)),n&2){let o;ve(o=ye())&&(r.lazyContent=o.first),ve(o=ye())&&(r._allItems=o),ve(o=ye())&&(r.items=o)}},viewQuery:function(n,r){if(n&1&&lt(yi,5),n&2){let a;ve(a=ye())&&(r.templateRef=a.first)}},hostVars:3,hostBindings:function(n,r){n&2&&Ge("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",Fe],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:Fe(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[Tt([{provide:TS,useExisting:i}])],ngContentSelectors:Dte,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(n,r){n&1&&(Ot(),Nk(0,Ate,3,12,"ng-template"))},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0})}return i})(),$4=new se("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let i=g($e);return()=>oa(i)}});function Fte(i){let t=g($e);return()=>oa(t)}var Pte={provide:$4,deps:[],useFactory:Fte};var kh=new WeakMap,Nte=(()=>{class i{_canHaveBackdrop;_element=g(Ce);_viewContainerRef=g($i);_menuItemInstance=g(Vp,{optional:!0,self:!0});_dir=g(Fi,{optional:!0});_focusMonitor=g(Ln);_ngZone=g(Me);_injector=g($e);_scrollStrategy=g($4);_changeDetectorRef=g(bt);_animationsDisabled=Wt();_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=Zi.EMPTY;_menuCloseSubscription=Zi.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _menu(){return this._menuInternal}set _menu(e){e!==this._menuInternal&&(this._menuInternal=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(n=>{this._destroyMenu(n),(n==="click"||n==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})),this._menuItemInstance?._setTriggersSubmenu(this._triggersSubmenu()))}_menuInternal;constructor(e){this._canHaveBackdrop=e;let n=g(TS,{optional:!0});this._parentMaterialMenu=n instanceof Ih?n:void 0}ngOnDestroy(){this._menu&&this._ownsMenu(this._menu)&&kh.delete(this._menu),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this._menu)}_closeMenu(){this._menu?.close.emit()}_openMenu(e){let n=this._menu;if(this._menuOpen||!n)return;this._pendingRemoval?.unsubscribe();let r=kh.get(n);kh.set(n,this),r&&r!==this&&r._closeMenu();let a=this._createOverlay(n),o=a.getConfig(),s=o.positionStrategy;this._setPosition(n,s),this._canHaveBackdrop?o.hasBackdrop=n.hasBackdrop==null?!this._triggersSubmenu():n.hasBackdrop:o.hasBackdrop=!1,a.hasAttached()||(a.attach(this._getPortal(n)),n.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this._closeMenu()),n.parentMenu=this._triggersSubmenu()?this._parentMaterialMenu:void 0,n.direction=this.dir,e&&n.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),n instanceof Ih&&(n._setIsOpen(!0),n._directDescendantItems.changes.pipe(pt(n.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}_destroyMenu(e){let n=this._overlayRef,r=this._menu;!n||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),r instanceof Ih&&this._ownsMenu(r)?(this._pendingRemoval=r._animationDone.pipe(fi(1)).subscribe(()=>{n.detach(),kh.has(r)||r.lazyContent?.detach()}),r._setIsOpen(!1)):(n.detach(),r?.lazyContent?.detach()),r&&this._ownsMenu(r)&&kh.delete(r),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this._triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this._triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let n=this._getOverlayConfig(e);this._subscribeToPositions(e,n.positionStrategy),this._overlayRef=Ya(this._injector,n),this._overlayRef.keydownEvents().subscribe(r=>{this._menu instanceof Ih&&this._menu._handleKeydown(r)})}return this._overlayRef}_getOverlayConfig(e){return new Ka({positionStrategy:Rl(this._injector,this._getOverlayOrigin()).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr",disableAnimations:this._animationsDisabled})}_subscribeToPositions(e,n){e.setPositionClasses&&n.positionChanges.subscribe(r=>{this._ngZone.run(()=>{let a=r.connectionPair.overlayX==="start"?"after":"before",o=r.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(a,o)})})}_setPosition(e,n){let[r,a]=e.xPosition==="before"?["end","start"]:["start","end"],[o,s]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[c,l]=[o,s],[d,h]=[r,a],f=0;if(this._triggersSubmenu()){if(h=r=e.xPosition==="before"?"start":"end",a=d=r==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let m=this._parentMaterialMenu.items.first;this._parentInnerPadding=m?m._getHostElement().offsetTop:0}f=o==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(c=o==="top"?"bottom":"top",l=s==="top"?"bottom":"top");n.withPositions([{originX:r,originY:c,overlayX:d,overlayY:o,offsetY:f},{originX:a,originY:c,overlayX:h,overlayY:o,offsetY:f},{originX:r,originY:l,overlayX:d,overlayY:s,offsetY:-f},{originX:a,originY:l,overlayX:h,overlayY:s,offsetY:-f}])}_menuClosingActions(){let e=this._getOutsideClickStream(this._overlayRef),n=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:He(),a=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Dt(o=>this._menuOpen&&o!==this._menuItemInstance)):He();return Vi(e,r,a,n)}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new qa(e.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(e){return kh.get(e)===this}static \u0275fac=function(n){Zh()};static \u0275dir=me({type:i})}return i})(),G4=(()=>{class i extends Nte{_cleanupTouchstart;_hoverSubscription=Zi.EMPTY;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){this._menu=e}menuData;restoreFocus=!0;menuOpened=new Je;onMenuOpen=this.menuOpened;menuClosed=new Je;onMenuClose=this.menuClosed;constructor(){super(!0);let e=g(Jt);this._cleanupTouchstart=e.listen(this._element.nativeElement,"touchstart",n=>{wl(n)||(this._openedBy="touch")},{passive:!0})}triggersSubmenu(){return super._triggersSubmenu()}toggleMenu(){return this.menuOpen?this.closeMenu():this.openMenu()}openMenu(){this._openMenu(!0)}closeMenu(){this._closeMenu()}updatePosition(){this._overlayRef?.updatePosition()}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTouchstart(),this._hoverSubscription.unsubscribe()}_getOverlayOrigin(){return this._element}_getOutsideClickStream(e){return e.backdropClick()}_handleMousedown(e){bl(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let n=e.keyCode;(n===13||n===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(n===39&&this.dir==="ltr"||n===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(e=>{e===this._menuItemInstance&&!e.disabled&&(this._openedBy="mouse",this._openMenu(!1))}))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(n,r){n&1&&fe("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),n&2&&Ge("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu==null?null:r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],features:[dt]})}return i})();var Dh=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({providers:[Pte],imports:[Ca,ot,sa,Ta,ot]})}return i})(),q4={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},$Ce=q4.fadeInItems,GCe=q4.transformMenu;var Ah=class i{org=mn(null);orgClicked=tI();static \u0275fac=function(e){return new(e||i)};static \u0275cmp=pe({type:i,selectors:[["organization-circle"]],inputs:{org:[1,"org"]},outputs:{orgClicked:"orgClicked"},decls:4,vars:11,consts:[["type","button",1,"org-circle",3,"click","disabled","matTooltip"]],template:function(e,n){if(e&1&&(P(0,"button",0),fe("click",function(){return n.orgClicked.emit(n.org())}),Y(1),Kt(2,"slice"),Kt(3,"uppercase"),V()),e&2){let r,a,o;Z("matTooltip",qk(((r=n.org())==null?null:r.Name)||"Select organization"))("disabled",!n.org()),Ge("aria-label",((a=n.org())==null?null:a.Name)||"Select organization"),B(),jt(" ",Va(3,9,Qk(2,5,((o=n.org())==null?null:o.Name)||"?",0,1)),`
`)}},dependencies:[ni,li,Mr,Ja,Cb,Sb],styles:[".org-circle[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:#607d8b;color:#fff;border:none;display:inline-flex;align-items:center;justify-content:center;font-weight:600;font-size:14px;line-height:32px;cursor:pointer;margin:0 8px 0 0}.org-circle[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:default}"]})};var Vte=(i,t)=>t.Uid;function Bte(i,t){if(i&1){let e=mt();P(0,"div",12),fe("click",function(){let r=Ae(e).$implicit,a=ee();return Re(a.setOrganization(r))})("keydown.enter",function(){let r=Ae(e).$implicit,a=ee();return Re(a.setOrganization(r))})("keydown.space",function(){let r=Ae(e).$implicit,a=ee();return Re(a.setOrganization(r))}),Ne(1,"organization-circle",13),P(2,"span",14),Y(3),V(),P(4,"button",15),fe("click",function(r){return Ae(e),Re(r.stopPropagation())})("keydown",function(r){return Ae(e),Re(r.stopPropagation())}),P(5,"mat-icon"),Y(6,"more_vert"),V()(),P(7,"mat-menu",null,1)(9,"button",16),fe("click",function(){let r=Ae(e).$implicit,a=ee();return Re(a.confirmDelete(r))}),P(10,"mat-icon"),Y(11,"delete"),V(),P(12,"span"),Y(13,"Delete"),V()()()()}if(i&2){let e,n=t.$implicit,r=wi(8),a=ee();xe("active",((e=a.currentOrg())==null?null:e.Uid)===n.Uid),B(),Z("org",n),B(2),_t(n.Name),B(),Z("matMenuTriggerFor",r)}}function Ute(i,t){i&1&&(Bt(0),Y(1,"Save"),Ut())}function zte(i,t){i&1&&(P(0,"span",17)(1,"mat-icon",18),Y(2,"hourglass_top"),V(),Y(3," Saving\u2026 "),V())}var xy=class i{firestore=g(Ci);organizationService=g(Cn);organizationName="";organizationList=this.organizationService.organizationList;saving=!1;currentOrg=this.organizationService.orgStore.currentOrg;saveOrganization(){return N(this,null,function*(){console.log("saving org",this.organizationName);try{this.saving=!0,yield this.organizationService.saveOrganization(this.organizationName),this.organizationName="";return}catch(t){console.log("there was a problem saving orgs",t)}finally{this.saving=!1}return null})}setOrganization(t){return N(this,null,function*(){console.log("setting org in component",t),this.organizationService.setCurrentOrg(t)})}confirmDelete(t){return N(this,null,function*(){if(confirm(`Delete organization "${t.Name}"? This cannot be undone.`))try{this.saving=!0,yield this.organizationService.deleteOrganization(t.Uid)}catch(n){console.error("Failed to delete org",n)}finally{this.saving=!1}})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=pe({type:i,selectors:[["app-organization-selector"]],decls:19,vars:5,consts:[["savingTpl",""],["menu","matMenu"],[1,"org-page"],[1,"org-list"],[1,"org-grid"],["role","button","tabindex","0","matTooltip","Use this organization",1,"org-chip",3,"active"],[1,"org-create"],[1,"create-row",3,"ngSubmit"],["appearance","fill",1,"name-field"],["matInput","","name","newOrg","placeholder","Organization","required","",3,"ngModelChange","ngModel","disabled"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],[4,"ngIf","ngIfElse"],["role","button","tabindex","0","matTooltip","Use this organization",1,"org-chip",3,"click","keydown.enter","keydown.space"],[3,"org"],[1,"label"],["mat-icon-button","","type","button","aria-label","More actions",1,"icon-btn",3,"click","keydown","matMenuTriggerFor"],["mat-menu-item","",3,"click"],[2,"display","inline-flex","align-items","center","gap","6px"],["inline",""]],template:function(e,n){if(e&1){let r=mt();P(0,"div",2)(1,"div",3)(2,"h2"),Y(3,"Select Your Organization"),V(),P(4,"div",4),ya(5,Bte,14,5,"div",5,Vte),V()(),P(7,"div",6)(8,"h3"),Y(9,"My organization isn\u2019t listed"),V(),P(10,"form",7),fe("ngSubmit",function(){return Ae(r),Re(n.saveOrganization())}),P(11,"mat-form-field",8)(12,"mat-label"),Y(13,"Organization name"),V(),P(14,"input",9),Zn("ngModelChange",function(o){return Ae(r),Qn(n.organizationName,o)||(n.organizationName=o),Re(o)}),V()(),P(15,"button",10),ke(16,Ute,2,0,"ng-container",11),V(),ke(17,zte,4,0,"ng-template",null,0,en),V()()()}if(e&2){let r=wi(18);B(5),ba(n.organizationList()),B(9),Yn("ngModel",n.organizationName),Z("disabled",n.saving),B(),Z("disabled",n.saving||!n.organizationName.trim()),B(),Z("ngIf",!n.saving)("ngIfElse",r)}},dependencies:[li,vn,ra,Sa,zR,To,So,FR,sx,Za,Fl,Uo,ms,Nl,Ch,hy,_n,lr,Dh,Ih,Vp,G4,ni,Ki,Ah],styles:[".org-page[_ngcontent-%COMP%]{display:grid;grid-template-columns:320px 1fr;gap:32px;align-items:start}.org-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .org-create[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px}.org-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px}.org-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:6px;border-radius:999px;background:#ffffff0f;color:inherit;border:1px solid rgba(255,255,255,.08)}.org-chip.active[_ngcontent-%COMP%]{background:#6366f12e;border-color:#6366f173;box-shadow:0 0 0 1px #6366f159 inset}.org-chip[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding:0 2px}.icon-btn[_ngcontent-%COMP%]{border:none;background:transparent;color:inherit;display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:50%;cursor:pointer;margin-left:4px}.icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff14}.org-chip[_ngcontent-%COMP%]:focus{outline:2px solid rgba(255,255,255,.3);outline-offset:2px}.org-create[_ngcontent-%COMP%]   .create-row[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.name-field[_ngcontent-%COMP%]{min-width:260px}form.create-row[disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{opacity:.7;cursor:not-allowed}"]})};var jte=["knob"],Hte=["valueIndicatorContainer"];function Wte(i,t){if(i&1&&(P(0,"div",2,1)(2,"div",5)(3,"span",6),Y(4),V()()()),i&2){let e=ee();B(4),_t(e.valueIndicatorText)}}var $te=["trackActive"],Gte=["*"];function qte(i,t){if(i&1&&Ne(0,"div"),i&2){let e=t.$implicit,n=t.$index,r=ee(3);sn(e===0?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),fn("transform",r._calcTickMarkTransform(n))}}function Kte(i,t){if(i&1&&ya(0,qte,1,4,"div",8,Hk),i&2){let e=ee(2);ba(e._tickMarks)}}function Xte(i,t){if(i&1&&(P(0,"div",6,1),rt(2,Kte,2,0),V()),i&2){let e=ee();B(2),at(e._cachedWidth?2:-1)}}function Yte(i,t){if(i&1&&Ne(0,"mat-slider-visual-thumb",7),i&2){let e=ee();Z("discrete",e.discrete)("thumbPosition",1)("valueIndicatorText",e.startValueIndicatorText)}}var St=(function(i){return i[i.START=1]="START",i[i.END=2]="END",i})(St||{}),Rh=(function(i){return i[i.ACTIVE=0]="ACTIVE",i[i.INACTIVE=1]="INACTIVE",i})(Rh||{}),SS=new se("_MatSlider"),K4=new se("_MatSliderThumb"),Qte=new se("_MatSliderRangeThumb"),X4=new se("_MatSliderVisualThumb");var Zte=(()=>{class i{_cdr=g(bt);_ngZone=g(Me);_slider=g(SS);_renderer=g(Jt);_listenerCleanups;discrete;thumbPosition;valueIndicatorText;_ripple;_knob;_valueIndicatorContainer;_sliderInput;_sliderInputEl;_hoverRippleRef;_focusRippleRef;_activeRippleRef;_isHovered=!1;_isActive=!1;_isValueIndicatorVisible=!1;_hostElement=g(Ce).nativeElement;_platform=g(vt);constructor(){}ngAfterViewInit(){let e=this._slider._getInput(this.thumbPosition);e&&(this._ripple.radius=24,this._sliderInput=e,this._sliderInputEl=this._sliderInput._hostElement,this._ngZone.runOutsideAngular(()=>{let n=this._sliderInputEl,r=this._renderer;this._listenerCleanups=[r.listen(n,"pointermove",this._onPointerMove),r.listen(n,"pointerdown",this._onDragStart),r.listen(n,"pointerup",this._onDragEnd),r.listen(n,"pointerleave",this._onMouseLeave),r.listen(n,"focus",this._onFocus),r.listen(n,"blur",this._onBlur)]}))}ngOnDestroy(){this._listenerCleanups?.forEach(e=>e())}_onPointerMove=e=>{if(this._sliderInput._isFocused)return;let n=this._hostElement.getBoundingClientRect(),r=this._slider._isCursorOnSliderThumb(e,n);this._isHovered=r,r?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)};_onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)};_onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")};_onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")};_onDragStart=e=>{e.button===0&&(this._isActive=!0,this._showActiveRipple())};_onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()};_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(e){return e?.state===Rr.FADING_IN||e?.state===Rr.VISIBLE}_showRipple(e,n){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===St.START?St.END:St.START)._showValueIndicator(),!(this._slider._globalRippleOptions?.disabled&&!n)))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:e,centered:!0,persistent:!0})}_hideRipple(e){if(e?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();let n=this._getSibling();n._isShowingAnyRipple()||(this._hideValueIndicator(),n._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===St.START?St.END:St.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(n,r){if(n&1&&(lt(ds,5),lt(jte,5),lt(Hte,5)),n&2){let a;ve(a=ye())&&(r._ripple=a.first),ve(a=ye())&&(r._knob=a.first),ve(a=ye())&&(r._valueIndicatorContainer=a.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[Tt([{provide:X4,useExisting:i}])],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(n,r){n&1&&(rt(0,Wte,5,1,"div",2),Ne(1,"div",3,0)(3,"div",4)),n&2&&(at(r.discrete?0:-1),B(3),Z("matRippleDisabled",!0))},dependencies:[ds],styles:[`.mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}
`],encapsulation:2,changeDetection:0})}return i})(),Y4=(()=>{class i{_ngZone=g(Me);_cdr=g(bt);_elementRef=g(Ce);_dir=g(Fi,{optional:!0});_globalRippleOptions=g(ls,{optional:!0});_trackActive;_thumbs;_input;_inputs;get disabled(){return this._disabled}set disabled(e){this._disabled=e;let n=this._getInput(St.END),r=this._getInput(St.START);n&&(n.disabled=this._disabled),r&&(r.disabled=this._disabled)}_disabled=!1;get discrete(){return this._discrete}set discrete(e){this._discrete=e,this._updateValueIndicatorUIs()}_discrete=!1;get showTickMarks(){return this._showTickMarks}set showTickMarks(e){this._showTickMarks=e,this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI())}_showTickMarks=!1;get min(){return this._min}set min(e){let n=e==null||isNaN(e)?this._min:e;this._min!==n&&this._updateMin(n)}_min=0;color;disableRipple=!1;_updateMin(e){let n=this._min;this._min=e,this._isRange?this._updateMinRange({old:n,new:e}):this._updateMinNonRange(e),this._onMinMaxOrStepChange()}_updateMinRange(e){let n=this._getInput(St.END),r=this._getInput(St.START),a=n.value,o=r.value;r.min=e.new,n.min=Math.max(e.new,r.value),r.max=Math.min(n.max,n.value),r._updateWidthInactive(),n._updateWidthInactive(),e.new<e.old?this._onTranslateXChangeBySideEffect(n,r):this._onTranslateXChangeBySideEffect(r,n),a!==n.value&&this._onValueChange(n),o!==r.value&&this._onValueChange(r)}_updateMinNonRange(e){let n=this._getInput(St.END);if(n){let r=n.value;n.min=e,n._updateThumbUIByValue(),this._updateTrackUI(n),r!==n.value&&this._onValueChange(n)}}get max(){return this._max}set max(e){let n=e==null||isNaN(e)?this._max:e;this._max!==n&&this._updateMax(n)}_max=100;_updateMax(e){let n=this._max;this._max=e,this._isRange?this._updateMaxRange({old:n,new:e}):this._updateMaxNonRange(e),this._onMinMaxOrStepChange()}_updateMaxRange(e){let n=this._getInput(St.END),r=this._getInput(St.START),a=n.value,o=r.value;n.max=e.new,r.max=Math.min(e.new,n.value),n.min=r.value,n._updateWidthInactive(),r._updateWidthInactive(),e.new>e.old?this._onTranslateXChangeBySideEffect(r,n):this._onTranslateXChangeBySideEffect(n,r),a!==n.value&&this._onValueChange(n),o!==r.value&&this._onValueChange(r)}_updateMaxNonRange(e){let n=this._getInput(St.END);if(n){let r=n.value;n.max=e,n._updateThumbUIByValue(),this._updateTrackUI(n),r!==n.value&&this._onValueChange(n)}}get step(){return this._step}set step(e){let n=isNaN(e)?this._step:e;this._step!==n&&this._updateStep(n)}_step=1;_updateStep(e){this._step=e,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){let e=this._getInput(St.END),n=this._getInput(St.START),r=e.value,a=n.value,o=n.value;e.min=this._min,n.max=this._max,e.step=this._step,n.step=this._step,this._platform.SAFARI&&(e.value=e.value,n.value=n.value),e.min=Math.max(this._min,n.value),n.max=Math.min(this._max,e.value),n._updateWidthInactive(),e._updateWidthInactive(),e.value<o?this._onTranslateXChangeBySideEffect(n,e):this._onTranslateXChangeBySideEffect(e,n),r!==e.value&&this._onValueChange(e),a!==n.value&&this._onValueChange(n)}_updateStepNonRange(){let e=this._getInput(St.END);if(e){let n=e.value;e.step=this._step,this._platform.SAFARI&&(e.value=e.value),e._updateThumbUIByValue(),n!==e.value&&this._onValueChange(e)}}displayWith=e=>`${e}`;_tickMarks;_noopAnimations=Wt();_dirChangeSubscription;_resizeObserver;_cachedWidth;_cachedLeft;_rippleRadius=24;startValueIndicatorText="";endValueIndicatorText="";_endThumbTransform;_startThumbTransform;_isRange=!1;_isRtl=!1;_hasViewInitialized=!1;_tickMarkTrackWidth=0;_hasAnimation=!1;_resizeTimer=null;_platform=g(vt);constructor(){g(ui).load(Jn),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl=this._dir.value==="rtl")}_knobRadius=8;_inputPadding;ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();let e=this._getInput(St.END),n=this._getInput(St.START);this._isRange=!!e&&!!n,this._cdr.detectChanges();let r=this._getThumb(St.END);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(e,n):this._initUINonRange(e),this._updateTrackUI(e),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(e){e.initProps(),e.initUI(),this._updateValueIndicatorUI(e),this._hasViewInitialized=!0,e._updateThumbUIByValue()}_initUIRange(e,n){e.initProps(),e.initUI(),n.initProps(),n.initUI(),e._updateMinMax(),n._updateMinMax(),e._updateStaticStyles(),n._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,e._updateThumbUIByValue(),n._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl=this._dir?.value==="rtl",this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){let e=this._getInput(St.END),n=this._getInput(St.START);e._setIsLeftThumb(),n._setIsLeftThumb(),e.translateX=e._calcTranslateXByValue(),n.translateX=n._calcTranslateXByValue(),e._updateStaticStyles(),n._updateStaticStyles(),e._updateWidthInactive(),n._updateWidthInactive(),e._updateThumbUIByValue(),n._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(St.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(St.START)._isActive||this._getThumb(St.END)._isActive}_getValue(e=St.END){let n=this._getInput(e);return n?n.value:this.min}_skipUpdate(){return!!(this._getInput(St.START)?._skipUIUpdate||this._getInput(St.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(e){let n=this._trackActive.nativeElement.style;n.left=e.left,n.right=e.right,n.transformOrigin=e.transformOrigin,n.transform=e.transform}_calcTickMarkTransform(e){let n=e*(this._tickMarkTrackWidth/(this._tickMarks.length-1));return`translateX(${this._isRtl?this._cachedWidth-6-n:n}px`}_onTranslateXChange(e){this._hasViewInitialized&&(this._updateThumbUI(e),this._updateTrackUI(e),this._updateOverlappingThumbUI(e))}_onTranslateXChangeBySideEffect(e,n){this._hasViewInitialized&&(e._updateThumbUIByValue(),n._updateThumbUIByValue())}_onValueChange(e){this._hasViewInitialized&&(this._updateValueIndicatorUI(e),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){let e=this._getInput(St.END),n=this._getInput(St.START);e._updateThumbUIByValue(),n._updateThumbUIByValue(),e._updateStaticStyles(),n._updateStaticStyles(),e._updateMinMax(),n._updateMinMax(),e._updateWidthInactive(),n._updateWidthInactive()}else{let e=this._getInput(St.END);e&&e._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_thumbsOverlap=!1;_areThumbsOverlapping(){let e=this._getInput(St.START),n=this._getInput(St.END);return!e||!n?!1:n.translateX-e.translateX<20}_updateOverlappingThumbClassNames(e){let n=e.getSibling(),r=this._getThumb(e.thumbPosition);this._getThumb(n.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(e){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(e))}_updateThumbUI(e){if(this._skipUpdate())return;let n=this._getThumb(e.thumbPosition===St.END?St.END:St.START);n._hostElement.style.transform=`translateX(${e.translateX}px)`}_updateValueIndicatorUI(e){if(this._skipUpdate())return;let n=this.displayWith(e.value);if(this._hasViewInitialized?e._valuetext.set(n):e._hostElement.setAttribute("aria-valuetext",n),this.discrete){e.thumbPosition===St.START?this.startValueIndicatorText=n:this.endValueIndicatorText=n;let r=this._getThumb(e.thumbPosition);n.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){let e=this._getInput(St.END),n=this._getInput(St.START);e&&this._updateValueIndicatorUI(e),n&&this._updateValueIndicatorUI(n)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;let e=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/e)*e-this.min)/(this.max-this.min);this._tickMarkTrackWidth=(this._cachedWidth-6)*r}_updateTrackUI(e){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(e):this._updateTrackUINonRange(e))}_updateTrackUIRange(e){let n=e.getSibling();if(!n||!this._cachedWidth)return;let r=Math.abs(n.translateX-e.translateX)/this._cachedWidth;e._isLeftThumb&&this._cachedWidth?this._setTrackActiveStyles({left:"auto",right:`${this._cachedWidth-n.translateX}px`,transformOrigin:"right",transform:`scaleX(${r})`}):this._setTrackActiveStyles({left:`${n.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(e){this._isRtl?this._setTrackActiveStyles({left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-e.fillPercentage})`}):this._setTrackActiveStyles({left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${e.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||this.step===void 0||this.min===void 0||this.max===void 0)return;let e=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(e):this._updateTickMarkUINonRange(e)}_updateTickMarkUINonRange(e){let n=this._getValue(),r=Math.max(Math.round((n-this.min)/e),0)+1,a=Math.max(Math.round((this.max-n)/e),0)-1;this._isRtl?r++:a++,this._tickMarks=Array(r).fill(Rh.ACTIVE).concat(Array(a).fill(Rh.INACTIVE))}_updateTickMarkUIRange(e){let n=this._getValue(),r=this._getValue(St.START),a=Math.max(Math.round((r-this.min)/e),0),o=Math.max(Math.round((n-r)/e)+1,0),s=Math.max(Math.round((this.max-n)/e),0);this._tickMarks=Array(a).fill(Rh.INACTIVE).concat(Array(o).fill(Rh.ACTIVE),Array(s).fill(Rh.INACTIVE))}_getInput(e){if(e===St.END&&this._input)return this._input;if(this._inputs?.length)return e===St.START?this._inputs.first:this._inputs.last}_getThumb(e){return e===St.END?this._thumbs?.last:this._thumbs?.first}_setTransition(e){this._hasAnimation=!this._platform.IOS&&e&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(e,n){let r=n.width/2,a=n.x+r,o=n.y+r,s=e.clientX-a,c=e.clientY-o;return Math.pow(s,2)+Math.pow(c,2)<Math.pow(r,2)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-slider"]],contentQueries:function(n,r,a){if(n&1&&(ft(a,K4,5),ft(a,Qte,4)),n&2){let o;ve(o=ye())&&(r._input=o.first),ve(o=ye())&&(r._inputs=o)}},viewQuery:function(n,r){if(n&1&&(lt($te,5),lt(X4,5)),n&2){let a;ve(a=ye())&&(r._trackActive=a.first),ve(a=ye())&&(r._thumbs=a)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(n,r){n&2&&(sn("mat-"+(r.color||"primary")),xe("mdc-slider--range",r._isRange)("mdc-slider--disabled",r.disabled)("mdc-slider--discrete",r.discrete)("mdc-slider--tick-marks",r.showTickMarks)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",Fe],discrete:[2,"discrete","discrete",Fe],showTickMarks:[2,"showTickMarks","showTickMarks",Fe],min:[2,"min","min",oi],color:"color",disableRipple:[2,"disableRipple","disableRipple",Fe],max:[2,"max","max",oi],step:[2,"step","step",oi],displayWith:"displayWith"},exportAs:["matSlider"],features:[Tt([{provide:SS,useExisting:i}])],ngContentSelectors:Gte,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(n,r){n&1&&(Ot(),Qe(0),P(1,"div",2),Ne(2,"div",3),P(3,"div",4),Ne(4,"div",5,0),V(),rt(6,Xte,3,1,"div",6),V(),rt(7,Yte,1,3,"mat-slider-visual-thumb",7),Ne(8,"mat-slider-visual-thumb",7)),n&2&&(B(6),at(r.showTickMarks?6:-1),B(),at(r._isRange?7:-1),B(),Z("discrete",r.discrete)("thumbPosition",2)("valueIndicatorText",r.endValueIndicatorText))},dependencies:[Zte],styles:[`.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mat-slider-inactive-track-height, 4px)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mat-slider-active-track-shape, var(--mat-sys-corner-full));height:var(--mat-slider-active-track-height, 4px);top:calc((var(--mat-slider-inactive-track-height, 4px) - var(--mat-slider-active-track-height, 4px))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mat-slider-active-track-color, var(--mat-sys-primary));border-top-width:var(--mat-slider-active-track-height, 4px)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mat-slider-disabled-active-track-color, var(--mat-sys-on-surface))}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mat-slider-inactive-track-color, var(--mat-sys-surface-variant));height:var(--mat-slider-inactive-track-height, 4px);border-radius:var(--mat-slider-inactive-track-shape, var(--mat-sys-corner-full))}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mat-slider-disabled-inactive-track-color, var(--mat-sys-on-surface));opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media(forced-colors: active){.mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:var(--mat-slider-value-indicator-container-transform, translateX(-50%) rotate(-45deg))}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;transform:scale(0);transform-origin:bottom;transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mat-slider-label-container-color, var(--mat-sys-primary));color:var(--mat-slider-label-label-text-color, var(--mat-sys-on-primary));width:var(--mat-slider-value-indicator-width, 28px);height:var(--mat-slider-value-indicator-height, 28px);padding:var(--mat-slider-value-indicator-padding, 0);opacity:var(--mat-slider-value-indicator-opacity, 1);border-radius:var(--mat-slider-value-indicator-border-radius, 50% 50% 50% 0)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display, none);border-top-color:var(--mat-slider-label-container-color, var(--mat-sys-primary))}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media(forced-colors: active){.mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width, 28px);transform:var(--mat-slider-value-indicator-text-transform, rotate(45deg));font-family:var(--mat-slider-label-label-text-font, var(--mat-sys-label-medium-font));font-size:var(--mat-slider-label-label-text-size, var(--mat-sys-label-medium-size));font-weight:var(--mat-slider-label-label-text-weight, var(--mat-sys-label-medium-weight));line-height:var(--mat-slider-label-label-text-line-height, var(--mat-sys-label-medium-line-height));letter-spacing:var(--mat-slider-label-label-text-tracking, var(--mat-sys-label-medium-tracking))}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mat-slider-handle-width, 20px);height:var(--mat-slider-handle-height, 20px);border-width:calc(var(--mat-slider-handle-height, 20px)/2) calc(var(--mat-slider-handle-width, 20px)/2);box-shadow:var(--mat-slider-handle-elevation, var(--mat-sys-level1));background-color:var(--mat-slider-handle-color, var(--mat-sys-primary));border-color:var(--mat-slider-handle-color, var(--mat-sys-primary));border-radius:var(--mat-slider-handle-shape, var(--mat-sys-corner-full))}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mat-slider-hover-handle-color, var(--mat-sys-primary));border-color:var(--mat-slider-hover-handle-color, var(--mat-sys-primary))}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mat-slider-focus-handle-color, var(--mat-sys-primary));border-color:var(--mat-slider-focus-handle-color, var(--mat-sys-primary))}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mat-slider-disabled-handle-color, var(--mat-sys-on-surface));border-color:var(--mat-slider-disabled-handle-color, var(--mat-sys-on-surface))}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mat-slider-with-overlap-handle-outline-color, var(--mat-sys-on-primary));border-width:var(--mat-slider-with-overlap-handle-outline-width, 1px)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mat-slider-with-tick-marks-container-size, 2px);height:var(--mat-slider-with-tick-marks-container-size, 2px);border-radius:var(--mat-slider-with-tick-marks-container-shape, var(--mat-sys-corner-full))}.mdc-slider__tick-mark--inactive{opacity:var(--mat-slider-with-tick-marks-inactive-container-opacity, 0.38);background-color:var(--mat-slider-with-tick-marks-inactive-container-color, var(--mat-sys-on-surface-variant))}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mat-slider-with-tick-marks-inactive-container-opacity, 0.38);background-color:var(--mat-slider-with-tick-marks-disabled-container-color, var(--mat-sys-on-surface))}.mdc-slider__tick-mark--active{opacity:var(--mat-slider-with-tick-marks-active-container-opacity, 0.38);background-color:var(--mat-slider-with-tick-marks-active-container-color, var(--mat-sys-on-primary))}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__input{cursor:auto}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color, var(--mat-sys-primary))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-primary) 5%, transparent))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-primary) 20%, transparent))}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return i})();var Jte={provide:Ml,useExisting:Tr(()=>kS),multi:!0};var kS=(()=>{class i{_ngZone=g(Me);_elementRef=g(Ce);_cdr=g(bt);_slider=g(SS);_platform=g(vt);_listenerCleanups;get value(){return oi(this._hostElement.value,0)}set value(e){e===null&&(e=this._getDefaultValue()),e=isNaN(e)?0:e;let n=e+"";if(!this._hasSetInitialValue){this._initialValue=n;return}this._isActive||this._setValue(n)}_setValue(e){this._hostElement.value=e,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}valueChange=new Je;dragStart=new Je;dragEnd=new Je;get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(this._translateX===void 0&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(e){this._translateX=e}_translateX;thumbPosition=St.END;get min(){return oi(this._hostElement.min,0)}set min(e){this._hostElement.min=e+"",this._cdr.detectChanges()}get max(){return oi(this._hostElement.max,0)}set max(e){this._hostElement.max=e+"",this._cdr.detectChanges()}get step(){return oi(this._hostElement.step,0)}set step(e){this._hostElement.step=e+"",this._cdr.detectChanges()}get disabled(){return Fe(this._hostElement.disabled)}set disabled(e){this._hostElement.disabled=e,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?this._translateX===0?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_hostElement=this._elementRef.nativeElement;_valuetext=it("");_knobRadius=8;_tickMarkOffset=3;_isActive=!1;_isFocused=!1;_setIsFocused(e){this._isFocused=e}_hasSetInitialValue=!1;_initialValue;_formControl;_destroyed=new ge;_skipUIUpdate=!1;_onChangeFn;_onTouchedFn=()=>{};_isControlInitialized=!1;constructor(){let e=g(Jt);this._ngZone.runOutsideAngular(()=>{this._listenerCleanups=[e.listen(this._hostElement,"pointerdown",this._onPointerDown.bind(this)),e.listen(this._hostElement,"pointermove",this._onPointerMove.bind(this)),e.listen(this._hostElement,"pointerup",this._onPointerUp.bind(this))]})}ngOnDestroy(){this._listenerCleanups.forEach(e=>e()),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,this._initialValue===void 0?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(e){if(!(this.disabled||e.button!==0)){if(this._platform.IOS){let n=this._slider._isCursorOnSliderThumb(e,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());this._isActive=n,this._updateWidthActive(),this._slider._updateDimensions();return}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(e,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(e),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(e){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(e)},0)}_fixValue(e){let n=e.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,a=this._slider.step===0?1:this._slider.step,o=Math.floor((this._slider.max-this._slider.min)/a),s=this._slider._isRtl?1-n/r:n/r,l=Math.round(s*o)/o*(this._slider.max-this._slider.min)+this._slider.min,d=Math.round(l/a)*a,h=this.value;if(d===h){this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation});return}this.value=d,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation})}_onPointerMove(e){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(e)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(e){let n=this._tickMarkOffset,r=this._slider._cachedWidth-this._tickMarkOffset;return Math.max(Math.min(e,r),n)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset}_calcTranslateXByPointerEvent(e){return e.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-this._tickMarkOffset*2}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(e){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(e)}_updateThumbUIByPointerEvent(e,n){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(e)),this._updateThumbUI(n)}_updateThumbUI(e){this._slider._setTransition(!!e?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(e){(this._isControlInitialized||e!==null)&&(this.value=e)}registerOnChange(e){this._onChangeFn=e,this._isControlInitialized=!0}registerOnTouched(e){this._onTouchedFn=e}setDisabledState(e){this.disabled=e}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(n,r){n&1&&fe("change",function(){return r._onChange()})("input",function(){return r._onInput()})("blur",function(){return r._onBlur()})("focus",function(){return r._onFocus()}),n&2&&Ge("aria-valuetext",r._valuetext())},inputs:{value:[2,"value","value",oi]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[Tt([Jte,{provide:K4,useExisting:i}])]})}return i})();var Q4=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[ot,Ca]})}return i})();var tie=["mat-internal-form-field",""],iie=["*"],Z4=(()=>{class i{labelPosition;static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(n,r){n&2&&xe("mdc-form-field--align-end",r.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:tie,ngContentSelectors:iie,decls:1,vars:0,template:function(n,r){n&1&&(Ot(),Qe(0))},styles:[`.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}
`],encapsulation:2,changeDetection:0})}return i})();var nie=["switch"],rie=["*"];function aie(i,t){i&1&&(P(0,"span",11),Fn(),P(1,"svg",13),Ne(2,"path",14),V(),P(3,"svg",15),Ne(4,"path",16),V()())}var oie=new se("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),Ey=class{source;checked;constructor(t,e){this.source=t,this.checked=e}},IS=(()=>{class i{_elementRef=g(Ce);_focusMonitor=g(Ln);_changeDetectorRef=g(bt);defaults=g(oie);_onChange=e=>{};_onTouched=()=>{};_validatorOnChange=()=>{};_uniqueId;_checked=!1;_createChangeEvent(e){return new Ey(this,e)}_labelId;get buttonId(){return`${this.id||this._uniqueId}-button`}_switchElement;focus(){this._switchElement.nativeElement.focus()}_noopAnimations=Wt();_focused;name=null;id;labelPosition="after";ariaLabel=null;ariaLabelledby=null;ariaDescribedby;required;color;disabled=!1;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}hideIcon;disabledInteractive;change=new Je;toggleChange=new Je;get inputId(){return`${this.id||this._uniqueId}-input`}constructor(){g(ui).load(Jn);let e=g(new vo("tabindex"),{optional:!0}),n=this.defaults;this.tabIndex=e==null?0:parseInt(e)||0,this.color=n.color||"accent",this.id=this._uniqueId=g(xi).getId("mat-mdc-slide-toggle-"),this.hideIcon=n.hideIcon??!1,this.disabledInteractive=n.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Ey(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(n,r){if(n&1&&lt(nie,5),n&2){let a;ve(a=ye())&&(r._switchElement=a.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(n,r){n&2&&(Sr("id",r.id),Ge("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),sn(r.color?"mat-"+r.color:""),xe("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",Fe],color:"color",disabled:[2,"disabled","disabled",Fe],disableRipple:[2,"disableRipple","disableRipple",Fe],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:oi(e)],checked:[2,"checked","checked",Fe],hideIcon:[2,"hideIcon","hideIcon",Fe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Fe]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[Tt([{provide:Ml,useExisting:Tr(()=>i),multi:!0},{provide:Ol,useExisting:i,multi:!0}]),ci],ngContentSelectors:rie,decls:14,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mat-mdc-slide-toggle-touch-target"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(n,r){if(n&1){let a=mt();Ot(),P(0,"div",1)(1,"button",2,0),fe("click",function(){return Ae(a),Re(r._handleClick())}),Ne(3,"div",3)(4,"span",4),P(5,"span",5)(6,"span",6)(7,"span",7),Ne(8,"span",8),V(),P(9,"span",9),Ne(10,"span",10),V(),rt(11,aie,5,0,"span",11),V()()(),P(12,"label",12),fe("click",function(s){return Ae(a),Re(s.stopPropagation())}),Qe(13),V()()}if(n&2){let a=wi(2);Z("labelPosition",r.labelPosition),B(),xe("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled)("mat-mdc-slide-toggle-disabled-interactive",r.disabledInteractive),Z("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("disabled",r.disabled&&!r.disabledInteractive),Ge("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),B(9),Z("matRippleTrigger",a)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),B(),at(r.hideIcon?-1:11),B(),Z("for",r.buttonId),Ge("id",r._labelId)}},dependencies:[ds,Z4],styles:[`.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mat-slide-toggle-track-width, 52px)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mat-slide-toggle-track-height, 32px);border-radius:var(--mat-slide-toggle-track-shape, var(--mat-sys-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mat-slide-toggle-disabled-track-opacity, 0.12)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-slide-toggle-track-outline-width, 2px);border-color:var(--mat-slide-toggle-track-outline-color, var(--mat-sys-outline))}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-slide-toggle-selected-track-outline-width, 2px);border-color:var(--mat-slide-toggle-selected-track-outline-color, transparent)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-slide-toggle-disabled-unselected-track-outline-width, 2px);border-color:var(--mat-slide-toggle-disabled-unselected-track-outline-color, var(--mat-sys-on-surface))}@media(forced-colors: active){.mdc-switch__track{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mat-slide-toggle-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-slide-toggle-hidden-track-opacity, 0);transition:var(--mat-slide-toggle-hidden-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-slide-toggle-visible-track-opacity, 1);transition:var(--mat-slide-toggle-visible-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mat-slide-toggle-unselected-hover-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mat-slide-toggle-unselected-focus-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mat-slide-toggle-unselected-pressed-track-color, var(--mat-sys-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mat-slide-toggle-disabled-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mat-slide-toggle-selected-track-color, var(--mat-sys-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-slide-toggle-visible-track-opacity, 1);transition:var(--mat-slide-toggle-visible-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-slide-toggle-hidden-track-opacity, 0);transition:var(--mat-slide-toggle-hidden-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mat-slide-toggle-selected-hover-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mat-slide-toggle-selected-focus-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mat-slide-toggle-selected-pressed-track-color, var(--mat-sys-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mat-slide-toggle-disabled-selected-track-color, var(--mat-sys-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mat-slide-toggle-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mat-slide-toggle-handle-width);height:var(--mat-slide-toggle-handle-height);border-radius:var(--mat-slide-toggle-handle-shape, var(--mat-sys-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-slide-toggle-unselected-handle-size, 16px);height:var(--mat-slide-toggle-unselected-handle-size, 16px);margin:var(--mat-slide-toggle-unselected-handle-horizontal-margin, 0 8px)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-slide-toggle-unselected-with-icon-handle-horizontal-margin, 0 4px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-slide-toggle-selected-handle-size, 24px);height:var(--mat-slide-toggle-selected-handle-size, 24px);margin:var(--mat-slide-toggle-selected-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-slide-toggle-selected-with-icon-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-slide-toggle-with-icon-handle-size, 24px);height:var(--mat-slide-toggle-with-icon-handle-size, 24px)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-slide-toggle-pressed-handle-size, 28px);height:var(--mat-slide-toggle-pressed-handle-size, 28px)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-slide-toggle-selected-pressed-handle-horizontal-margin, 0 22px)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-slide-toggle-unselected-pressed-handle-horizontal-margin, 0 2px)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-slide-toggle-disabled-selected-handle-opacity, 1)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-slide-toggle-disabled-unselected-handle-opacity, 0.38)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media(forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-handle-color, var(--mat-sys-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-hover-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-focus-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-pressed-handle-color, var(--mat-sys-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-disabled-selected-handle-color, var(--mat-sys-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-handle-color, var(--mat-sys-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-hover-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-focus-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-pressed-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-disabled-unselected-handle-color, var(--mat-sys-on-surface))}.mdc-switch__handle::before{background:var(--mat-slide-toggle-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mat-slide-toggle-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mat-slide-toggle-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mat-slide-toggle-state-layer-size, 40px);height:var(--mat-slide-toggle-state-layer-size, 40px)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mat-slide-toggle-unselected-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-slide-toggle-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mat-slide-toggle-unselected-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-slide-toggle-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mat-slide-toggle-unselected-pressed-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-slide-toggle-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mat-slide-toggle-selected-hover-state-layer-color, var(--mat-sys-primary));opacity:var(--mat-slide-toggle-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mat-slide-toggle-selected-focus-state-layer-color, var(--mat-sys-primary));opacity:var(--mat-slide-toggle-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mat-slide-toggle-selected-pressed-state-layer-color, var(--mat-sys-primary));opacity:var(--mat-slide-toggle-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1;transform:translateZ(0)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mat-slide-toggle-disabled-unselected-icon-opacity, 0.38)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mat-slide-toggle-disabled-selected-icon-opacity, 0.38)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mat-slide-toggle-unselected-icon-size, 16px);height:var(--mat-slide-toggle-unselected-icon-size, 16px);fill:var(--mat-slide-toggle-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mat-slide-toggle-disabled-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mat-slide-toggle-selected-icon-size, 16px);height:var(--mat-slide-toggle-selected-icon-size, 16px);fill:var(--mat-slide-toggle-selected-icon-color, var(--mat-sys-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mat-slide-toggle-disabled-selected-icon-color, var(--mat-sys-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-slide-toggle-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-slide-toggle-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-slide-toggle-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-slide-toggle-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-slide-toggle-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-slide-toggle-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mat-slide-toggle-disabled-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-slide-toggle-touch-target{position:absolute;top:50%;left:50%;height:var(--mat-slide-toggle-touch-target-size, 48px);width:100%;transform:translate(-50%, -50%);display:var(--mat-slide-toggle-touch-target-display, block)}[dir=rtl] .mat-mdc-slide-toggle-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}
`],encapsulation:2,changeDetection:0})}return i})(),J4=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[IS,ot,ot]})}return i})();function cie(i,t){if(i&1&&(P(0,"mat-option",17),Y(1),V()),i&2){let e=t.$implicit;Z("value",e),B(),jt(" ",e," ")}}function lie(i,t){if(i&1){let e=mt();P(0,"mat-form-field",14)(1,"mat-select",16,0),fe("selectionChange",function(r){Ae(e);let a=ee(2);return Re(a._changePageSize(r.value))}),ya(3,cie,2,2,"mat-option",17,qs),V(),P(5,"div",18),fe("click",function(){Ae(e);let r=wi(2);return Re(r.open())}),V()()}if(i&2){let e=ee(2);Z("appearance",e._formFieldAppearance)("color",e.color),B(),Z("value",e.pageSize)("disabled",e.disabled),Uk("aria-labelledby",e._pageSizeLabelId),Z("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),B(2),ba(e._displayedPageSizeOptions)}}function die(i,t){if(i&1&&(P(0,"div",15),Y(1),V()),i&2){let e=ee(2);B(),_t(e.pageSize)}}function uie(i,t){if(i&1&&(P(0,"div",3)(1,"div",13),Y(2),V(),rt(3,lie,6,7,"mat-form-field",14),rt(4,die,2,1,"div",15),V()),i&2){let e=ee();B(),Ge("id",e._pageSizeLabelId),B(),jt(" ",e._intl.itemsPerPageLabel," "),B(),at(e._displayedPageSizeOptions.length>1?3:-1),B(),at(e._displayedPageSizeOptions.length<=1?4:-1)}}function hie(i,t){if(i&1){let e=mt();P(0,"button",19),fe("click",function(){Ae(e);let r=ee();return Re(r._buttonClicked(0,r._previousButtonsDisabled()))}),Fn(),P(1,"svg",8),Ne(2,"path",20),V()()}if(i&2){let e=ee();Z("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("disabled",e._previousButtonsDisabled())("tabindex",e._previousButtonsDisabled()?-1:null),Ge("aria-label",e._intl.firstPageLabel)}}function fie(i,t){if(i&1){let e=mt();P(0,"button",21),fe("click",function(){Ae(e);let r=ee();return Re(r._buttonClicked(r.getNumberOfPages()-1,r._nextButtonsDisabled()))}),Fn(),P(1,"svg",8),Ne(2,"path",22),V()()}if(i&2){let e=ee();Z("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("disabled",e._nextButtonsDisabled())("tabindex",e._nextButtonsDisabled()?-1:null),Ge("aria-label",e._intl.lastPageLabel)}}var Cy=(()=>{class i{changes=new ge;itemsPerPageLabel="Items per page:";nextPageLabel="Next page";previousPageLabel="Previous page";firstPageLabel="First page";lastPageLabel="Last page";getRangeLabel=(e,n,r)=>{if(r==0||n==0)return`0 of ${r}`;r=Math.max(r,0);let a=e*n,o=a<r?Math.min(a+n,r):a+n;return`${a+1} \u2013 ${o} of ${r}`};static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function mie(i){return i||new Cy}var pie={provide:Cy,deps:[[new Ui,new Yh,Cy]],useFactory:mie},gie=50;var _ie=new se("MAT_PAGINATOR_DEFAULT_OPTIONS"),Bp=(()=>{class i{_intl=g(Cy);_changeDetectorRef=g(bt);_formFieldAppearance;_pageSizeLabelId=g(xi).getId("mat-paginator-page-size-label-");_intlChanges;_isInitialized=!1;_initializedStream=new Id(1);color;get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}_pageIndex=0;get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}_length=0;get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}_pageSize;get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(n=>oi(n,0)),this._updateDisplayedPageSizeOptions()}_pageSizeOptions=[];hidePageSize=!1;showFirstLastButtons=!1;selectConfig={};disabled=!1;page=new Je;_displayedPageSizeOptions;initialized=this._initializedStream;constructor(){let e=this._intl,n=g(_ie,{optional:!0});if(this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){let{pageSize:r,pageSizeOptions:a,hidePageSize:o,showFirstLastButtons:s}=n;r!=null&&(this._pageSize=r),a!=null&&(this._pageSizeOptions=a),o!=null&&(this.hidePageSize=o),s!=null&&(this.showFirstLastButtons=s)}this._formFieldAppearance=n?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&this._navigate(this.pageIndex+1)}previousPage(){this.hasPreviousPage()&&this._navigate(this.pageIndex-1)}firstPage(){this.hasPreviousPage()&&this._navigate(0)}lastPage(){this.hasNextPage()&&this._navigate(this.getNumberOfPages()-1)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let n=this.pageIndex*this.pageSize,r=this.pageIndex;this.pageIndex=Math.floor(n/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:gie),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,n)=>e-n),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}_navigate(e){let n=this.pageIndex;e!==n&&(this.pageIndex=e,this._emitPageEvent(n))}_buttonClicked(e,n){n||this._navigate(e)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",oi],length:[2,"length","length",oi],pageSize:[2,"pageSize","pageSize",oi],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",Fe],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",Fe],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",Fe]},outputs:{page:"page"},exportAs:["matPaginator"],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(n,r){n&1&&(P(0,"div",1)(1,"div",2),rt(2,uie,5,4,"div",3),P(3,"div",4)(4,"div",5),Y(5),V(),rt(6,hie,3,5,"button",6),P(7,"button",7),fe("click",function(){return r._buttonClicked(r.pageIndex-1,r._previousButtonsDisabled())}),Fn(),P(8,"svg",8),Ne(9,"path",9),V()(),Kh(),P(10,"button",10),fe("click",function(){return r._buttonClicked(r.pageIndex+1,r._nextButtonsDisabled())}),Fn(),P(11,"svg",8),Ne(12,"path",11),V()(),rt(13,fie,3,5,"button",12),V()()()),n&2&&(B(2),at(r.hidePageSize?-1:2),B(3),jt(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),B(),at(r.showFirstLastButtons?6:-1),B(),Z("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("disabled",r._previousButtonsDisabled())("tabindex",r._previousButtonsDisabled()?-1:null),Ge("aria-label",r._intl.previousPageLabel),B(3),Z("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("disabled",r._nextButtonsDisabled())("tabindex",r._nextButtonsDisabled()?-1:null),Ge("aria-label",r._intl.nextPageLabel),B(3),at(r.showFirstLastButtons?13:-1))},dependencies:[ms,sp,Rs,ra,Ja],styles:[`.mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height: var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding: var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:var(--mat-paginator-page-size-select-width, 84px)}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-range-actions .mat-mdc-icon-button[aria-disabled]{color:GrayText}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:var(--mat-paginator-page-size-select-width, 84px);height:var(--mat-paginator-page-size-select-touch-target-height, 48px);background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}
`],encapsulation:2,changeDetection:0})}return i})(),e3=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({providers:[pie],imports:[li,cp,Mr,Bp]})}return i})();var yie=["mat-sort-header",""],bie=["*"];function wie(i,t){i&1&&(on(0,"div",2),Fn(),on(1,"svg",3),Xn(2,"path",4),un()())}var t3=new se("MAT_SORT_DEFAULT_OPTIONS"),Up=(()=>{class i{_defaultOptions;_initializedStream=new Id(1);sortables=new Map;_stateChanges=new ge;active;start="asc";get direction(){return this._direction}set direction(e){this._direction=e}_direction="";disableClear;disabled=!1;sortChange=new Je;initialized=this._initializedStream;constructor(e){this._defaultOptions=e}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let n=e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,r=xie(e.start||this.start,n),a=r.indexOf(this.direction)+1;return a>=r.length&&(a=0),r[a]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(n){return new(n||i)(tt(t3,8))};static \u0275dir=me({type:i,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",Fe],disabled:[2,"matSortDisabled","disabled",Fe]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[ci]})}return i})();function xie(i,t){let e=["asc","desc"];return i=="desc"&&e.reverse(),t||e.push(""),e}var Ty=(()=>{class i{changes=new ge;static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Eie(i){return i||new Ty}var Cie={provide:Ty,deps:[[new Ui,new Yh,Ty]],useFactory:Eie},i3=(()=>{class i{_intl=g(Ty);_sort=g(Up,{optional:!0});_columnDef=g("MAT_SORT_HEADER_COLUMN_DEF",{optional:!0});_changeDetectorRef=g(bt);_focusMonitor=g(Ln);_elementRef=g(Ce);_ariaDescriber=g(v0,{optional:!0});_renderChanges;_animationsDisabled=Wt();_recentlyCleared=it(null);_sortButton;id;arrowPosition="after";start;disabled=!1;get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}_sortActionDescription="Sort";disableClear;constructor(){g(ui).load(Jn);let e=g(t3,{optional:!0});this._sort,e?.arrowPosition&&(this.arrowPosition=e?.arrowPosition)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._sort.register(this),this._renderChanges=Vi(this._sort._stateChanges,this._sort.sortChange).subscribe(()=>this._changeDetectorRef.markForCheck()),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(()=>{Promise.resolve().then(()=>this._recentlyCleared.set(null))})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._renderChanges?.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_toggleOnInteraction(){if(!this._isDisabled()){let e=this._isSorted(),n=this._sort.direction;this._sort.sort(this),this._recentlyCleared.set(e&&!this._isSorted()?n:null)}}_handleKeydown(e){(e.keyCode===32||e.keyCode===13)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(n,r){n&1&&fe("click",function(){return r._toggleOnInteraction()})("keydown",function(o){return r._handleKeydown(o)})("mouseleave",function(){return r._recentlyCleared.set(null)}),n&2&&(Ge("aria-sort",r._getAriaSortAttribute()),xe("mat-sort-header-disabled",r._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",Fe],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",Fe]},exportAs:["matSortHeader"],attrs:yie,ngContentSelectors:bie,decls:4,vars:17,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],["viewBox","0 -960 960 960","focusable","false","aria-hidden","true"],["d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"]],template:function(n,r){n&1&&(Ot(),on(0,"div",0)(1,"div",1),Qe(2),un(),rt(3,wie,3,0,"div",2),un()),n&2&&(xe("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before",r.arrowPosition==="before")("mat-sort-header-descending",r._sort.direction==="desc")("mat-sort-header-ascending",r._sort.direction==="asc")("mat-sort-header-recently-cleared-ascending",r._recentlyCleared()==="asc")("mat-sort-header-recently-cleared-descending",r._recentlyCleared()==="desc")("mat-sort-header-animations-disabled",r._animationsDisabled),Ge("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),B(3),at(r._renderArrow()?3:-1))},styles:[`.mat-sort-header{cursor:pointer}.mat-sort-header-disabled{cursor:default}.mat-sort-header-container{display:flex;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}@keyframes _mat-sort-header-recently-cleared-ascending{from{transform:translateY(0);opacity:1}to{transform:translateY(-25%);opacity:0}}@keyframes _mat-sort-header-recently-cleared-descending{from{transform:translateY(0) rotate(180deg);opacity:1}to{transform:translateY(25%) rotate(180deg);opacity:0}}.mat-sort-header-arrow{height:12px;width:12px;position:relative;transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1),opacity 225ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;overflow:visible;color:var(--mat-sort-arrow-color, var(--mat-sys-on-surface))}.mat-sort-header.cdk-keyboard-focused .mat-sort-header-arrow,.mat-sort-header.cdk-program-focused .mat-sort-header-arrow,.mat-sort-header:hover .mat-sort-header-arrow{opacity:.54}.mat-sort-header .mat-sort-header-sorted .mat-sort-header-arrow{opacity:1}.mat-sort-header-descending .mat-sort-header-arrow{transform:rotate(180deg)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transform:translateY(-25%)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-ascending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-recently-cleared-descending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-descending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-animations-disabled .mat-sort-header-arrow{transition-duration:0ms;animation-duration:0ms}.mat-sort-header-arrow svg{width:24px;height:24px;fill:currentColor;position:absolute;top:50%;left:50%;margin:-12px 0 0 -12px;transform:translateZ(0)}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}
`],encapsulation:2,changeDetection:0})}return i})(),n3=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({providers:[Cie],imports:[ot]})}return i})();var Sy=class{SampleDate="";ExposureGroup="";TWA=0;Notes="";SampleNumber=0;constructor(t){Object.assign(this,t)}};var xr=class{Name="";DisplayName="";DataType="string";Format;Sortable=!0;constructor(t){Object.assign(this,t)}};var Sie=["cell"],kie=["detail"],Iie=["viewport"],Die=()=>["expandedDetail"],r3=(i,t,e,n)=>({$implicit:i,column:t,id:e,section:"summary",value:n}),a3=(i,t,e,n)=>({$implicit:i,column:t,id:e,section:"detail",value:n});function Aie(i,t){i&1&&(P(0,"th",16),Y(1,"\xA0"),V())}function Rie(i,t){if(i&1){let e=mt();P(0,"td",17)(1,"button",18),fe("click",function(r){let a=Ae(e).$implicit;return ee(3).toggle(a),Re(r.stopPropagation())}),P(2,"mat-icon"),Y(3),V()()()}if(i&2){let e=t.$implicit,n=ee(3);B(),xe("expanded",n.isExpanded(e)),B(2),_t(n.isExpanded(e)?"keyboard_arrow_down":"keyboard_arrow_right")}}function Mie(i,t){i&1&&(Bt(0,8),ke(1,Aie,2,0,"th",15)(2,Rie,4,3,"td",11),Ut())}function Oie(i,t){if(i&1&&(P(0,"th",20),Y(1),V()),i&2){let e=ee().$implicit,n=ee(2);Z("mat-sort-header",n.columnId(e))("disabled",!n.isSortable(e)),B(),_t(n.columnHeader(e))}}function Fie(i,t){if(i&1&&Gi(0,22),i&2){let e=ee().$implicit,n=ee().$implicit,r=ee(2);Z("ngTemplateOutlet",r.cellTpl)("ngTemplateOutletContext",cl(2,r3,e,n,r.columnId(n),r.valueFor(e,n,"summary")))}}function Pie(i,t){if(i&1&&Y(0),i&2){let e=ee().$implicit,n=ee().$implicit,r=ee(2);jt(" ",r.valueFor(e,n,"summary")," ")}}function Nie(i,t){if(i&1&&(P(0,"td",17),ke(1,Fie,1,7,"ng-container",21)(2,Pie,1,1,"ng-template",null,1,en),V()),i&2){let e=wi(3),n=ee(3);B(),Z("ngIf",n.cellTpl)("ngIfElse",e)}}function Lie(i,t){if(i&1&&(Bt(0,9),ke(1,Oie,2,3,"th",19)(2,Nie,4,2,"td",11),Ut()),i&2){let e=t.$implicit,n=ee(2);Z("matColumnDef",n.columnId(e))}}function Vie(i,t){if(i&1&&(P(0,"th",28),Y(1),V()),i&2){let e=ee().$implicit,n=ee(3);B(),_t(n.columnHeader(e))}}function Bie(i,t){if(i&1&&Gi(0,22),i&2){let e=ee().$implicit,n=ee().$implicit,r=ee(3);Z("ngTemplateOutlet",r.detailTpl)("ngTemplateOutletContext",cl(2,a3,e,n,r.columnId(n),r.valueFor(e,n,"detail")))}}function Uie(i,t){if(i&1&&Gi(0,22),i&2){let e=ee(2).$implicit,n=ee().$implicit,r=ee(3);Z("ngTemplateOutlet",r.cellTpl)("ngTemplateOutletContext",cl(2,a3,e,n,r.columnId(n),r.valueFor(e,n,"detail")))}}function zie(i,t){if(i&1&&ke(0,Uie,1,7,"ng-container",21),i&2){ee();let e=wi(5),n=ee(4);Z("ngIf",n.cellTpl)("ngIfElse",e)}}function jie(i,t){if(i&1&&Y(0),i&2){let e=ee().$implicit,n=ee().$implicit,r=ee(3);jt(" ",r.valueFor(e,n,"detail")," ")}}function Hie(i,t){if(i&1&&(P(0,"td",17),ke(1,Bie,1,7,"ng-container",21)(2,zie,1,2,"ng-template",null,2,en)(4,jie,1,1,"ng-template",null,3,en),V()),i&2){let e=wi(3),n=ee(4);B(),Z("ngIf",n.detailTpl)("ngIfElse",e)}}function Wie(i,t){if(i&1&&(Bt(0,9),ke(1,Vie,2,1,"th",27)(2,Hie,6,2,"td",11),Ut()),i&2){let e=t.$implicit,n=ee(3);Z("matColumnDef",n.columnId(e))}}function $ie(i,t){i&1&&Ne(0,"tr",29)}function Gie(i,t){i&1&&Ne(0,"tr",30)}function qie(i,t){if(i&1&&(P(0,"td",17)(1,"div",23)(2,"table",24),ya(3,Wie,3,1,"ng-container",9,qs),ke(5,$ie,1,0,"tr",25)(6,Gie,1,0,"tr",26),V()()()),i&2){let e=t.$implicit,n=ee(2);Ge("colspan",n.groupColumns.length),B(),xe("detail-expanded",n.isExpanded(e)),B(),Z("dataSource",n.detailsForItem(e)),B(),ba(n.detailColumns().length?n.detailColumns():n.displayedColumns()),B(2),Z("matHeaderRowDef",n.detailColumnIds()),B(),Z("matRowDefColumns",n.detailColumnIds())}}function Kie(i,t){i&1&&Ne(0,"tr",29)}function Xie(i,t){if(i&1){let e=mt();P(0,"tr",31),fe("click",function(){let r=Ae(e).$implicit,a=ee(2);return Re(a.hasDetail()&&a.toggle(r))}),V()}}function Yie(i,t){i&1&&Ne(0,"tr",32)}function Qie(i,t){if(i&1){let e=mt();P(0,"div",5,0)(2,"table",7),fe("matSortChange",function(r){Ae(e);let a=ee();return Re(a.announceSortChange(r))}),rt(3,Mie,3,0,"ng-container",8),ya(4,Lie,3,1,"ng-container",9,qs),Bt(6,10),ke(7,qie,7,6,"td",11),Ut(),ke(8,Kie,1,0,"tr",12)(9,Xie,1,0,"tr",13)(10,Yie,1,0,"tr",14),V()()}if(i&2){let e=ee();B(2),Z("matSortActive",e.defaultSortActive()||"")("matSortDirection",e.defaultSortDirection())("matSortDisableClear",!0)("dataSource",e.groupTableSource()),B(),at(e.groupColumns.includes("expand")?3:-1),B(),ba(e.summaryColumns().length?e.summaryColumns():e.defaultSummaryColumns()),B(4),Z("matHeaderRowDef",e.groupColumns)("matHeaderRowDefSticky",!0),B(),Z("matRowDefColumns",e.groupColumns),B(),Z("matRowDefColumns",qi(10,Die))("matRowDefWhen",e.rowIsExpanded)}}function Zie(i,t){if(i&1&&(P(0,"th",28),Y(1),V()),i&2){let e=ee().$implicit,n=ee(2);B(),_t(n.columnHeader(e))}}function Jie(i,t){if(i&1&&Gi(0,22),i&2){let e=ee().$implicit,n=ee().$implicit,r=ee(2);Z("ngTemplateOutlet",r.cellTpl)("ngTemplateOutletContext",cl(2,r3,e,n,r.columnId(n),r.valueFor(e,n,"summary")))}}function ene(i,t){if(i&1&&Y(0),i&2){let e=ee().$implicit,n=ee().$implicit,r=ee(2);jt(" ",e[r.columnId(n)]," ")}}function tne(i,t){if(i&1&&(P(0,"td",17),ke(1,Jie,1,7,"ng-container",21)(2,ene,1,1,"ng-template",null,4,en),V()),i&2){let e=wi(3),n=ee(3);B(),Z("ngIf",n.cellTpl)("ngIfElse",e)}}function ine(i,t){if(i&1&&(Bt(0,9),ke(1,Zie,2,1,"th",27)(2,tne,4,2,"td",11),Ut()),i&2){let e=t.$implicit,n=ee(2);Z("matColumnDef",n.columnId(e))}}function nne(i,t){i&1&&Ne(0,"tr",29)}function rne(i,t){i&1&&Ne(0,"tr",30)}function ane(i,t){if(i&1&&(P(0,"div",5,0)(2,"table",33),ya(3,ine,3,1,"ng-container",9,qs),ke(5,nne,1,0,"tr",12)(6,rne,1,0,"tr",26),V()()),i&2){let e=ee();B(2),Z("dataSource",e.dataTableSource()),B(),ba(e.displayedColumns()),B(2),Z("matHeaderRowDef",e.columnIds())("matHeaderRowDefSticky",!0),B(),Z("matRowDefColumns",e.columnIds())}}var Kc=class i{liveAnnouncer=g(El);summaryColumns=mn([]);detailColumns=mn([]);items=mn([]);detailFor=mn();keyFor=mn();filterText=mn("");filterKey=mn("ExposureGroup");defaultSortActive=mn(null);defaultSortDirection=mn("asc");pageSize=mn(1e3);pageSizeOptions=mn([5,10,25,50,1e3]);displayedColumns=mn(["SampleDate","ExposureGroup","TWA","Notes","SampleNumber"]);data=mn([]);dataResults=mn([]);detailSource=mn(null);defaultSortApplied=!1;paginatorSignal=it(null);sortSignal=it(null);table;_viewportEl;set viewportEl(t){this._viewportEl=t,this.resizeViewport()}set paginator(t){t&&(this.paginatorSignal.set(t),t.pageSize=this.pageSize())}set sort(t){t&&(this.sortSignal.set(t),this.applyDefaultSortIfNeeded())}groupDataSource=new Qf([]);flatDataSource=new Qf([]);columnIds=Lt(()=>(this.displayedColumns()??[]).map(t=>typeof t=="string"?t:t.Name));summaryColumnIds=Lt(()=>(this.summaryColumns()?.length?this.summaryColumns():this.defaultSummaryColumns()).map(t=>typeof t=="string"?t:t.Name));detailColumnIds=Lt(()=>(this.detailColumns()?.length?this.detailColumns():this.displayedColumns()).map(t=>typeof t=="string"?t:t.Name));dataTableSource=Lt(()=>{let t=[];return this.data().length?t=this.mapExposureGroupsToTableItems(this.data()):t=this.mapResultsToTableItems(this.dataResults()??[]),this.flatDataSource.data=t,this.paginatorSignal()&&(this.flatDataSource.paginator=this.paginatorSignal()),this.groupDataSource.paginator=null,this.sortSignal()&&(this.flatDataSource.sort=this.sortSignal(),this.flatDataSource.sortingDataAccessor=(e,n)=>this.sortAccessor(e,n)),this.groupDataSource.sort=null,this.flatDataSource});groupTableSource=Lt(()=>{let t=(this.filterText()||"").trim().toLowerCase(),e=this.filterKey(),n=this.items()?.length?this.items():this.data()??[];if(this.groupDataSource.data=n,this.paginatorSignal()&&(this.groupDataSource.paginator=this.paginatorSignal()),this.flatDataSource.paginator=null,this.sortSignal()&&(this.groupDataSource.sort=this.sortSignal(),this.groupDataSource.sortingDataAccessor=(r,a)=>this.sortAccessor(r,a)),this.flatDataSource.sort=null,this.groupDataSource.filterPredicate=(r,a)=>{if(!a)return!0;let o=e==="ExposureGroup"?r?.ExposureGroup??r?.Group??"":r?.[e]??"";return String(o).toLowerCase().includes(a)},this.groupDataSource.filter=t,this.groupDataSource.paginator)try{this.groupDataSource.paginator.firstPage()}catch{}return this.groupDataSource});hasDetail(){if(this.detailFor())return!0;let t=this.detailColumns();return t&&t.length>0?!0:this.detailSource()!=null}get groupColumns(){return[...this.hasDetail()?["expand"]:[],...this.summaryColumnIds()]}announceSortChange(t){t.direction?this.liveAnnouncer.announce(`Sorted by ${t.active} ${t.direction}`):this.liveAnnouncer.announce("Sorting cleared")}expandedKey=null;ngAfterViewInit(){this.resizeViewport()}applyDefaultSortIfNeeded(){if(this.defaultSortApplied)return;let t=this.sortSignal(),e=this.defaultSortActive();!t||!e||(this.defaultSortApplied=!0,setTimeout(()=>{try{let n=t.sortables?.get(e);n&&typeof t.sort=="function"?(t.sort(n),t.direction=this.defaultSortDirection(),t.sortChange.emit({active:t.active,direction:t.direction})):(t.active=e,t.direction=this.defaultSortDirection(),t.sortChange.emit({active:e,direction:this.defaultSortDirection()}))}catch{}}))}resizeViewport(){let t=this._viewportEl?.nativeElement;if(t)try{let e=t.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,r=Math.max(0,n-e.top-16),a=Math.round(n*.7),o=Math.min(r,a),s=Math.max(300,o);t.style.maxHeight=s+"px",t.style.overflow="auto"}catch{}}mapExposureGroupsToTableItems(t){return t.map(n=>{let r=n.Results;return this.mapResultsToTableItems(r)}).flat()}mapResultsToTableItems(t){return t.map(e=>new Sy({SampleDate:e.SampleDate,ExposureGroup:"",TWA:e.TWA,Notes:e.Notes,SampleNumber:e.SampleNumber}))}groupKey(t){let e=this.keyFor();if(typeof e=="function")try{let n=e(t);if(n!=null&&n!=="")return String(n)}catch{}return t?.Uid?String(t.Uid):(t?.ExposureGroup??t?.Group??"").toString()}isExpanded(t){return t?this.expandedKey===this.groupKey(t):!1}toggle(t){let e=this.groupKey(t);this.expandedKey=this.expandedKey===e?null:e;try{this.table?.renderRows()}catch{}}rowIsExpanded=(t,e)=>this.expandedKey===this.groupKey(e);columnId(t){return typeof t=="string"?t:t.Name}columnHeader(t){return typeof t=="string"?t:t.DisplayName||t.Name}isSortable(t){return typeof t=="string"?!0:t.Sortable!==!1}isPercentBadge(t){return typeof t!="string"&&t?.Format==="percent-badge"}isTrend(t){return typeof t!="string"&&t?.Format==="trend"}valueFor(t,e,n){let r=this.columnId(e);if(r==="ExposureGroup")return t?.ExposureGroup??t?.Group??"";if(r==="Samples"){if(this.detailSource()==="ef")return t?.LatestExceedanceFraction?.ResultsUsed?.length??0;let a=t?.ResultsTotalCount;if(typeof a=="number")return a;let o=t?.ResultsPreview?.length;return typeof o=="number"?o:t?.Results?.length??0}if(r==="ResultsTotalCount"){let a=t?.ResultsTotalCount;if(typeof a=="number")return a;let o=t?.Results?.length;return typeof o=="number"?o:t?.LatestResultsUsed?.length??t?.LatestExceedanceFraction?.ResultsUsed?.length??0}return r==="LatestEF"?t?.LatestExceedanceFraction?.ExceedanceFraction??t?.LatestEF??0:r==="ExceedanceFractionDate"?t?.LatestExceedanceFraction?.DateCalculated??t?.ExceedanceFractionDate??"":r==="Latest"?"Yes":t?.[r]}sortAccessor(t,e){let n=r=>{let o=new Date(r).getTime();return isNaN(o)?0:o};if(e==="Trend"){let r=(t?.[e]??"").toString().toLowerCase();return r==="up"?-1:r==="flat"?0:r==="down"?1:0}if(e==="ExposureGroup")return(t?.ExposureGroup??t?.Group??"").toString().toLowerCase();if(e==="Samples"||e==="SamplesUsed")return Number(t?.[e]??t?.Results?.length??0);if(e==="LatestEF"){let r=t?.LatestExceedanceFraction?.ExceedanceFraction;return Number(r??t?.LatestEF??0)}if(e==="ExceedanceFraction"||e==="TWA")return Number(t?.[e]??0);if(e==="DateCalculated"||e==="ExceedanceFractionDate"||e==="SampleDate"){let r=t?.[e]??t?.LatestExceedanceFraction?.DateCalculated;return n(r)}return t?.[e]}detailsForItem(t){let e=this.detailFor();if(e)try{return e(t)??[]}catch{return[]}return this.detailSource()==="ef"?t?.LatestExceedanceFraction?.ResultsUsed??[]:t?.ResultsPreview??t?.Results??[]}defaultSummaryColumns(){return this.data()?.length&&this.detailSource()==="ef"?[new xr({Name:"ExposureGroup",DisplayName:"Exposure Group"}),new xr({Name:"Samples",DisplayName:"Samples Used"}),new xr({Name:"LatestEF",DisplayName:"Latest EF",Format:"percent"})]:this.data()?.length?[new xr({Name:"ExposureGroup",DisplayName:"Exposure Group"}),new xr({Name:"Samples",DisplayName:"Samples"})]:[]}cellTpl;detailTpl;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=pe({type:i,selectors:[["ez-table"]],contentQueries:function(e,n,r){if(e&1&&(ft(r,Sie,5,yi),ft(r,kie,5,yi)),e&2){let a;ve(a=ye())&&(n.cellTpl=a.first),ve(a=ye())&&(n.detailTpl=a.first)}},viewQuery:function(e,n){if(e&1&&(lt(ac,5),lt(Iie,5),lt(Bp,5),lt(Up,5)),e&2){let r;ve(r=ye())&&(n.table=r.first),ve(r=ye())&&(n.viewportEl=r.first),ve(r=ye())&&(n.paginator=r.first),ve(r=ye())&&(n.sort=r.first)}},hostBindings:function(e,n){e&1&&fe("resize",function(){return n.resizeViewport()},Ok)},inputs:{summaryColumns:[1,"summaryColumns"],detailColumns:[1,"detailColumns"],items:[1,"items"],detailFor:[1,"detailFor"],keyFor:[1,"keyFor"],filterText:[1,"filterText"],filterKey:[1,"filterKey"],defaultSortActive:[1,"defaultSortActive"],defaultSortDirection:[1,"defaultSortDirection"],pageSize:[1,"pageSize"],pageSizeOptions:[1,"pageSizeOptions"],displayedColumns:[1,"displayedColumns"],data:[1,"data"],dataResults:[1,"dataResults"],detailSource:[1,"detailSource"]},decls:3,vars:3,consts:[["viewport",""],["defaultCell",""],["detailCellTplFallback",""],["defaultDetailCell",""],["flatDefaultCell",""],[1,"ez-table-viewport"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions"],["mat-table","","matSort","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"matSortChange","matSortActive","matSortDirection","matSortDisableClear","dataSource"],["matColumnDef","expand"],[3,"matColumnDef"],["matColumnDef","expandedDetail"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","group-row",3,"click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","detail-row",4,"matRowDef","matRowDefColumns","matRowDefWhen"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-header-cell","","aria-label","row actions"],["mat-cell",""],["mat-icon-button","","aria-label","expand row",3,"click"],["mat-header-cell","",3,"mat-sort-header","disabled",4,"matHeaderCellDef"],["mat-header-cell","",3,"mat-sort-header","disabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"detail-wrapper"],["mat-table","",1,"nested-table",3,"dataSource"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],["mat-header-row",""],["mat-row",""],["mat-row","",1,"group-row",3,"click"],["mat-row","",1,"detail-row"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"]],template:function(e,n){e&1&&(rt(0,Qie,11,11,"div",5)(1,ane,7,4,"div",5),Ne(2,"mat-paginator",6)),e&2&&(at(n.items().length>0||n.data().length>0?0:1),B(2),Z("pageSize",n.pageSize())("pageSizeOptions",n.pageSizeOptions()))},dependencies:[ni,Ki,ul,oc,ac,lu,fu,du,cu,mu,uu,hu,pu,gu,e3,Bp,n3,Up,i3,_n,lr,Mr,li,ra],styles:[".group-row[_ngcontent-%COMP%]{cursor:pointer}.ez-table-viewport[_ngcontent-%COMP%]{min-height:300px;overflow:auto;margin-bottom:8px}.detail-row[_ngcontent-%COMP%]   .mdc-data-table__header-cell[_ngcontent-%COMP%]{padding:0 30px!important}.detail-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 30px!important;border-bottom:none!important}.detail-wrapper[_ngcontent-%COMP%]{overflow:hidden;background:#fafafa}.nested-table[_ngcontent-%COMP%]{width:100%}tr.detail-row[_ngcontent-%COMP%]{height:0}.detail-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-rows:0fr;grid-template-columns:100%;transition:grid-template-rows 225ms cubic-bezier(.4,0,.2,1)}.detail-wrapper.detail-expanded[_ngcontent-%COMP%]{grid-template-rows:1fr}.ef-badge[_ngcontent-%COMP%]{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px;line-height:18px;font-weight:600;color:#0f172a}.ef-good[_ngcontent-%COMP%]{background:#bbf7d0;color:#065f46}.ef-warn[_ngcontent-%COMP%]{background:#fde68a;color:#92400e}.ef-bad[_ngcontent-%COMP%]{background:#fecaca;color:#7f1d1d}.trend[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px;vertical-align:middle}.trend-up[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#dc2626}.trend-down[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#16a34a}.trend-flat[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.trend-delta[_ngcontent-%COMP%]{margin-left:4px;font-size:12px;color:#374151}tr[_ngcontent-%COMP%]:not(.detail-row):not(.mat-mdc-header-row):hover{background:#e1e1e10d}"]})};function s3(i){let t=typeof i=="number"?i:0;return t<.05?"good":t<.2?"warn":"bad"}function one(i){if(!i||!i.length)return"0";let t=i.length,e=i[t-1];return`${t}:${e?.DateCalculated??"no-date"}`}var o3=new WeakMap;function c3(i){let t=(i.ExceedanceFractionHistory||[]).slice(),e=one(t),n=o3.get(i);if(n&&n.signature===e)return n;let r=t.sort((s,c)=>new Date(s?.DateCalculated||0).getTime()-new Date(c?.DateCalculated||0).getTime()),a=r.slice().reverse(),o={asc:r,desc:a,signature:e};return o3.set(i,o),o}function l3(i){return Array.isArray(i)?i.find(e=>!!e?.Agent)?.Agent??"":""}function d3(i){if(!i||!i.length)return[];let t=[];for(let e of i){let n=e?.ExposureGroup??e?.Group??"";if(!n)continue;let{asc:r}=c3(e);r.forEach((a,o)=>{let s=o>0?r[o-1]:void 0,c=s?.ExceedanceFraction??null,l=a?.ExceedanceFraction??0,d="flat";c!=null&&(l>c?d="up":l<c&&(d="down"));let h=c!=null?l-c:0,f=a?.ResultsUsed??[];t.push({Uid:`${n}__${a?.DateCalculated||"no-date"}__${o}`,ExposureGroup:n,Agent:l3(f),OELNumber:a?.OELNumber??e?.LatestExceedanceFraction?.OELNumber??null,ExceedanceFraction:l,EfBucket:s3(l),DateCalculated:a?.DateCalculated??"",SamplesUsed:f.length||0,ResultsUsed:f,PrevExceedanceFraction:c,PrevDateCalculated:s?.DateCalculated??"",Trend:d,Delta:h})})}return t.sort((e,n)=>new Date(n.DateCalculated||0).getTime()-new Date(e.DateCalculated||0).getTime())}function u3(i){if(!i||!i.length)return[];let t=[];for(let e of i){let n=e?.ExposureGroup??e?.Group??"";if(!n)continue;let{desc:r}=c3(e),a=r[0]||e.LatestExceedanceFraction;if(!a)continue;let o="flat",s=0;if(r.length>=2){let d=a?.ExceedanceFraction??null,h=r[1]?.ExceedanceFraction??null;d!=null&&h!=null&&(d>h?o="up":d<h&&(o="down"),s=d-h)}let c=a?.ResultsUsed??[],l=r.length>=2?r[1]:void 0;t.push({Uid:`${n}__latest__${a?.DateCalculated||"no-date"}`,ExposureGroup:n,Agent:l3(c),OELNumber:a?.OELNumber??e?.LatestExceedanceFraction?.OELNumber??null,ExceedanceFraction:a?.ExceedanceFraction??0,EfBucket:s3(a?.ExceedanceFraction??0),DateCalculated:a?.DateCalculated??"",SamplesUsed:c.length||0,ResultsUsed:c,Trend:o,Delta:s,PrevExceedanceFraction:l?.ExceedanceFraction??null,PrevDateCalculated:l?.DateCalculated??""})}return t.sort((e,n)=>new Date(n.DateCalculated||0).getTime()-new Date(e.DateCalculated||0).getTime())}var sne=["customThresholdWrapper"],cne=()=>[];function lne(i,t){if(i&1){let e=mt();P(0,"span",15)(1,"div",22)(2,"label",23)(3,"span",24),Y(4,"Threshold"),V(),P(5,"input",25),Kt(6,"number"),fe("input",function(r){Ae(e);let a=ee();return Re(a.updateCustomFromInput(r.target.value))}),V(),P(7,"span",13),Y(8,"%"),V()(),P(9,"div",26)(10,"mat-slider",27)(11,"input",28),fe("input",function(r){Ae(e);let a=ee();return Re(a.updateCustomFromSlider(r.target.value))}),V()(),P(12,"span",29),Y(13),Kt(14,"number"),V()(),P(15,"div",30)(16,"button",31),fe("click",function(){Ae(e);let r=ee();return Re(r.editingCustom.set(!1))}),Y(17,"Close"),V()()()()}if(i&2){let e=ee();B(5),Z("value",zi(6,3,e.customThreshold()*100,"1.0-1")),B(6),Z("value",e.customThreshold()*100),B(2),jt("",zi(14,6,e.customThreshold()*100,"1.0-1"),"%")}}function dne(i,t){i&1&&(P(0,"div",32),Ne(1,"mat-progress-spinner",33),V())}function une(i,t){if(i&1&&(Bt(0),P(1,"span",37),Y(2),Kt(3,"percent"),V(),Ut()),i&2){let e=ee().value;B(),xe("ef-good",(e??0)<.05)("ef-warn",(e??0)>=.05&&(e??0)<.2)("ef-bad",(e??0)>=.2),B(),jt(" ",zi(3,7,e??0,"1.1-1")," ")}}function hne(i,t){if(i&1&&(Bt(0),P(1,"span",38)(2,"mat-icon",39),Kt(3,"percent"),Kt(4,"date"),Kt(5,"percent"),Kt(6,"percent"),Kt(7,"percent"),Kt(8,"date"),Kt(9,"percent"),Kt(10,"percent"),Y(11),V(),P(12,"span",40),Y(13),Kt(14,"percent"),V()(),Ut()),i&2){let e=ee().$implicit;B(),xe("trend-up",(e==null?null:e.Trend)==="up")("trend-down",(e==null?null:e.Trend)==="down")("trend-flat",(e==null?null:e.Trend)!=="up"&&(e==null?null:e.Trend)!=="down"),B(),Z("matTooltip",(e==null?null:e.PrevExceedanceFraction)!=null&&(e==null?null:e.ExceedanceFraction)!=null?"From "+zi(3,11,e==null?null:e.PrevExceedanceFraction,"1.1-1")+" on "+zi(4,14,e==null?null:e.PrevDateCalculated,"mediumDate")+" to "+zi(5,17,e==null?null:e.ExceedanceFraction,"1.1-1")+" ("+(((e==null?null:e.Delta)??0)>0?"+":((e==null?null:e.Delta)??0)<0?"\u2212":"")+zi(6,20,((e==null?null:e.Delta)??0)<0?-((e==null?null:e.Delta)??0):(e==null?null:e.Delta)??0,"1.1-1")+")":"No previous value"),Ge("aria-label",(e==null?null:e.PrevExceedanceFraction)!=null&&(e==null?null:e.ExceedanceFraction)!=null?"From "+zi(7,23,e==null?null:e.PrevExceedanceFraction,"1.1-1")+" on "+zi(8,26,e==null?null:e.PrevDateCalculated,"mediumDate")+" to "+zi(9,29,e==null?null:e.ExceedanceFraction,"1.1-1")+" ("+(((e==null?null:e.Delta)??0)>0?"+":((e==null?null:e.Delta)??0)<0?"\u2212":"")+zi(10,32,((e==null?null:e.Delta)??0)<0?-((e==null?null:e.Delta)??0):(e==null?null:e.Delta)??0,"1.1-1")+")":"No previous value"),B(9),jt(" ",(e==null?null:e.Trend)==="up"?"arrow_upward":(e==null?null:e.Trend)==="down"?"arrow_downward":"horizontal_rule"," "),B(2),Pd(" ",((e==null?null:e.Delta)??0)>0?"+":((e==null?null:e.Delta)??0)<0?"\u2212":"","\xA0",zi(14,35,((e==null?null:e.Delta)??0)<0?-((e==null?null:e.Delta)??0):(e==null?null:e.Delta)??0,"1.1-1")," ")}}function fne(i,t){if(i&1&&(Bt(0),Y(1),Kt(2,"date"),Ut()),i&2){let e=ee().value;B(),_t(zi(2,1,e,"mediumDate"))}}function mne(i,t){if(i&1&&(Bt(0),Y(1),Kt(2,"date"),Ut()),i&2){let e=ee().value;B(),_t(zi(2,1,e,"mediumDate"))}}function pne(i,t){if(i&1&&(Bt(0),Y(1),Kt(2,"number"),Ut()),i&2){let e=ee().value;B(),_t(zi(2,1,e,"1.3-3"))}}function gne(i,t){if(i&1&&(Bt(0),Y(1),Ut()),i&2){let e=ee().value;B(),_t(e)}}function _ne(i,t){if(i&1&&(Bt(0,34),ke(1,une,4,10,"ng-container",35)(2,hne,15,38,"ng-container",35)(3,fne,3,4,"ng-container",35)(4,mne,3,4,"ng-container",35)(5,pne,3,4,"ng-container",35)(6,gne,2,1,"ng-container",36),Ut()),i&2){let e=t.id;Z("ngSwitch",e),B(),Z("ngSwitchCase","ExceedanceFraction"),B(),Z("ngSwitchCase","Trend"),B(),Z("ngSwitchCase","DateCalculated"),B(),Z("ngSwitchCase","SampleDate"),B(),Z("ngSwitchCase","TWA")}}var ky=class i{firestore=g(Ci);orgService=g(Cn);exposureGroups$;resultsData=[];efItems$;latestEfItems$;filteredEfItems$;filteredLatestEfItems$;showLatest=it(!0);filter=it("");bucket=it("");customThreshold=it(.25);editingCustom=it(!1);customWrapperRef;bucketFor(t){let e=typeof t=="number"?t:0;return e<.05?"good":e<.2?"warn":"bad"}efSummaryColumns=[new xr({Name:"ExposureGroup",DisplayName:"Exposure Group"}),new xr({Name:"ExceedanceFraction",DisplayName:"Exceedance Fraction",Format:"percent-badge"}),new xr({Name:"Trend",DisplayName:"Trend",Format:"trend"}),new xr({Name:"Agent",DisplayName:"Agent"}),new xr({Name:"OELNumber",DisplayName:"OEL"}),new xr({Name:"DateCalculated",DisplayName:"Calculation Date",Format:"date"}),new xr({Name:"SamplesUsed",DisplayName:"Samples Used"})];efDetailColumns=["SampleDate","ExposureGroup","TWA","Notes","SampleNumber"];efDetailForItem=t=>t?.ResultsUsed??[];constructor(){let t=this.orgService.orgStore.currentOrg()?.Uid,e=t?tr(this.firestore,`organizations/${t}/exposureGroups`):tr(this.firestore,"organizations/unknown/exposureGroups");this.exposureGroups$=Aa(e,{idField:"Uid"}).pipe(De(r=>r)),this.efItems$=this.exposureGroups$.pipe(De(r=>d3(r))),this.latestEfItems$=this.exposureGroups$.pipe(De(r=>u3(r)));let n=ov(this.bucket);this.filteredEfItems$=Br([this.efItems$,n,ov(this.customThreshold)]).pipe(De(([r,a,o])=>a?a==="custom"?r.filter(s=>(s?.ExceedanceFraction??0)>=o):r.filter(s=>s?.EfBucket===a):r)),this.filteredLatestEfItems$=Br([this.latestEfItems$,n,ov(this.customThreshold)]).pipe(De(([r,a,o])=>a?a==="custom"?r.filter(s=>(s?.ExceedanceFraction??0)>=o):r.filter(s=>s?.EfBucket===a):r))}beginEditCustom(t){if(t.stopPropagation(),this.editingCustom()){this.editingCustom.set(!1);return}this.editingCustom.set(!0),this.bucket.set("custom")}toggleEditCustom(t){this.beginEditCustom(t)}parseAndSetCustom(t){isNaN(t)||(t>1&&(t=t/100),t=Math.min(Math.max(t,0),1),this.customThreshold.set(t),this.bucket()!=="custom"&&this.bucket.set("custom"))}commitCustomThreshold(t){let e=parseFloat(String(t).trim());this.parseAndSetCustom(e),this.editingCustom.set(!1)}updateCustomFromSlider(t){this.parseAndSetCustom(t/100)}updateCustomFromInput(t){let e=parseFloat(String(t).trim());this.parseAndSetCustom(e)}toggleCustomBucket(){this.bucket.set(this.bucket()==="custom"?"":"custom")}onDocumentClick(t){if(!this.editingCustom())return;let e=t.target;e&&(this.customWrapperRef?.nativeElement.contains(e)||this.editingCustom.set(!1))}onEscape(){this.editingCustom()&&this.editingCustom.set(!1)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=pe({type:i,selectors:[["app-exceedance-fraction"]],viewQuery:function(e,n){if(e&1&&lt(sne,5),e&2){let r;ve(r=ye())&&(n.customWrapperRef=r.first)}},hostBindings:function(e,n){e&1&&fe("click",function(a){return n.onDocumentClick(a)},ob)("keydown.escape",function(){return n.onEscape()},ob)},decls:44,vars:35,consts:[["customThresholdWrapper",""],["cell",""],[1,"ef-toolbar",2,"display","flex","align-items","center","gap","12px","margin-bottom","8px"],[3,"change","checked"],["type","text","placeholder","Filter by Exposure Group",2,"flex","1","max-width","320px","padding","6px 10px","border","1px solid #ccc","border-radius","4px",3,"input","value"],[1,"ef-legend",2,"display","flex","align-items","center","gap","12px","margin","4px 0 8px 0","font-size","12px"],["type","button",1,"ef-badge","ef-good",3,"click"],["type","button",1,"ef-badge","ef-warn",3,"click"],["type","button",1,"ef-badge","ef-bad",3,"click"],[1,"custom-threshold-wrapper",2,"display","inline-flex","align-items","center","gap","4px"],["type","button",1,"ef-badge","ef-custom",3,"click"],[1,"symbol"],[1,"value"],[1,"suffix"],["type","button","aria-label","Edit custom threshold",1,"edit-custom-btn",3,"click"],[1,"custom-edit-pop"],[2,"opacity","0.7"],["inline","",2,"vertical-align","middle","color","#dc2626"],["inline","",2,"vertical-align","middle","color","#16a34a"],[1,"table-wrapper",2,"position","relative"],["class","spinner-overlay","style","position:absolute; inset:0; display:flex; align-items:center; justify-content:center; z-index: 2;",4,"ngIf"],["filterKey","ExposureGroup","defaultSortActive","ExposureGroup","defaultSortDirection","asc",3,"items","summaryColumns","detailColumns","detailFor","filterText"],[1,"custom-editor"],[1,"custom-row"],[1,"label"],["type","number","min","0","max","100","step","0.1","inputmode","decimal",1,"threshold-input",3,"input","value"],[1,"slider-row"],["min","0","max","100","step","0.5",1,"threshold-slider"],["matSliderThumb","",3,"input","value"],[1,"current-val"],[1,"actions"],["type","button",1,"edit-custom-btn","close-btn",3,"click"],[1,"spinner-overlay",2,"position","absolute","inset","0","display","flex","align-items","center","justify-content","center","z-index","2"],["mode","indeterminate","diameter","48"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"ef-badge"],[1,"trend"],["inline","",3,"matTooltip"],[1,"trend-delta"]],template:function(e,n){if(e&1){let r=mt();P(0,"div",2)(1,"mat-slide-toggle",3),fe("change",function(o){return Ae(r),Re(n.showLatest.set(o.checked))}),Y(2," Show Latest "),V(),P(3,"input",4),fe("input",function(o){return Ae(r),Re(n.filter.set(o.target.value||""))}),V()(),P(4,"div",5)(5,"span"),Y(6,"Legend:"),V(),P(7,"button",6),fe("click",function(){return Ae(r),Re(n.bucket.set(n.bucket()==="good"?"":"good"))}),Y(8," < 5% "),V(),P(9,"button",7),fe("click",function(){return Ae(r),Re(n.bucket.set(n.bucket()==="warn"?"":"warn"))}),Y(10," 5% \u2013 20% "),V(),P(11,"button",8),fe("click",function(){return Ae(r),Re(n.bucket.set(n.bucket()==="bad"?"":"bad"))}),Y(12," \u2265 20% "),V(),P(13,"div",9,0)(15,"button",10),fe("click",function(){return Ae(r),Re(n.toggleCustomBucket())}),P(16,"span",11),Y(17,"\u2265"),V(),P(18,"span",12),Y(19),Kt(20,"number"),V(),P(21,"span",13),Y(22,"%"),V()(),P(23,"button",14),fe("click",function(o){return Ae(r),Re(n.toggleEditCustom(o))}),Y(24),V(),rt(25,lne,18,9,"span",15),V(),P(26,"span",16),Y(27,"(lower is better)"),V(),P(28,"span",16),Y(29,"Trend: "),P(30,"mat-icon",17),Y(31,"arrow_upward"),V(),Y(32," bad, "),P(33,"mat-icon",18),Y(34,"arrow_downward"),V(),Y(35," good"),V()(),Nd(36),Kt(37,"async"),Kt(38,"async"),P(39,"div",19),ke(40,dne,2,0,"div",20),P(41,"ez-table",21),ke(42,_ne,7,6,"ng-template",null,1,en),V()()}if(e&2){B(),Z("checked",n.showLatest()),B(2),Z("value",n.filter()),B(4),fn("opacity",n.bucket()&&n.bucket()!=="good"?.35:1),xe("active",n.bucket()==="good"),B(2),fn("opacity",n.bucket()&&n.bucket()!=="warn"?.35:1),xe("active",n.bucket()==="warn"),B(2),fn("opacity",n.bucket()&&n.bucket()!=="bad"?.35:1),xe("active",n.bucket()==="bad"),B(4),fn("opacity",n.bucket()&&n.bucket()!=="custom"?.35:1),xe("active",n.bucket()==="custom"),B(4),_t(zi(20,27,n.customThreshold()*100,"1.1-1")),B(5),_t(n.editingCustom()?"\u2715":"\u270E"),B(),at(n.editingCustom()?25:-1);let r=n.showLatest()?Va(37,30,n.filteredLatestEfItems$):Va(38,32,n.filteredEfItems$);B(15),Z("ngIf",!r),B(),Z("items",r??qi(34,cne))("summaryColumns",n.efSummaryColumns)("detailColumns",n.efDetailColumns)("detailFor",n.efDetailForItem)("filterText",n.filter())}},dependencies:[ni,Ki,is,ll,dl,Sa,oc,_n,lr,li,J4,IS,Mr,Ja,Q4,Y4,kS,qc,Gc,Kc,ns,fl,Tb,hl],styles:['.ef-badge[_ngcontent-%COMP%]{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px;line-height:18px;font-weight:600;color:#0f172a;border:none;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease,opacity .12s ease}.ef-good[_ngcontent-%COMP%]{background:#bbf7d0;color:#065f46}.ef-warn[_ngcontent-%COMP%]{background:#fde68a;color:#92400e}.ef-bad[_ngcontent-%COMP%]{background:#fecaca;color:#7f1d1d}.ef-custom[_ngcontent-%COMP%]{background:#e9d5ff;color:#5b21b6;cursor:pointer}.edit-custom-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(255,255,255,.25);color:#e5e7eb;padding:2px 6px;border-radius:4px;font-size:11px;line-height:1;cursor:pointer;transition:background .12s ease,border-color .12s ease}.edit-custom-btn[_ngcontent-%COMP%]:hover{background:#ffffff14}.edit-custom-btn[_ngcontent-%COMP%]:focus-visible{outline:2px solid #6366f1;outline-offset:2px}.custom-edit-pop[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:2px;background:#1f2937;padding:4px 6px;border-radius:6px;box-shadow:0 4px 12px #0006}.custom-edit-pop[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#111827;border:1px solid #374151;color:#f9fafb;border-radius:4px}.custom-edit-pop[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:1px solid #6366f1}.ef-badge[_ngcontent-%COMP%]:focus-visible{outline:2px solid rgba(59,130,246,.6);outline-offset:2px}.ef-badge.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff9 inset}.ef-badge[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.trend[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;white-space:nowrap}.trend[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px;line-height:20px;vertical-align:middle;font-variation-settings:"wght" 600}.trend-up[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#dc2626}.trend-down[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#16a34a}.trend-flat[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.trend-delta[_ngcontent-%COMP%]{margin-left:0;font-size:12px;color:#9ca3af;white-space:nowrap}.custom-editor[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;min-width:240px;padding:6px 8px 8px;background:#1e293b;border:1px solid #334155;border-radius:8px;box-shadow:0 6px 18px -2px #0000008c,0 2px 4px #0006}.custom-threshold-wrapper[_ngcontent-%COMP%]{position:relative}.custom-threshold-wrapper[_ngcontent-%COMP%]   .custom-edit-pop[_ngcontent-%COMP%]{position:absolute;top:110%;left:0;z-index:30}.ef-badge.ef-custom[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;gap:4px;font-variant-numeric:tabular-nums}.ef-badge.ef-custom[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:inline-block;min-width:34px;text-align:right}.ef-badge.ef-custom[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{margin-left:1px}.custom-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:12px}.custom-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500;opacity:.85;letter-spacing:.25px}.threshold-input[_ngcontent-%COMP%]{background:#0f172a;border:1px solid #334155;color:#f1f5f9;border-radius:4px;padding:4px 6px;width:70px;font-size:12px;line-height:1.2;transition:border-color .12s ease,background .12s ease}.threshold-input[_ngcontent-%COMP%]:focus{outline:1px solid #6366f1;border-color:#6366f1}.threshold-input[_ngcontent-%COMP%]::-webkit-outer-spin-button, .threshold-input[_ngcontent-%COMP%]::-webkit-inner-spin-button{margin:0}.suffix[_ngcontent-%COMP%]{font-size:11px;opacity:.65}.slider-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding-top:2px}.threshold-slider[_ngcontent-%COMP%]{flex:1;--mdc-slider-handle-color: #6366f1;--mdc-slider-focus-handle-color: #818cf8;--mdc-slider-active-track-color: #6366f1;--mdc-slider-inactive-track-color: #334155;--mdc-slider-with-tick-marks-inactive-container-color: #334155}.current-val[_ngcontent-%COMP%]{font-size:11px;opacity:.7;width:44px;text-align:right}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:4px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#ffffff0f;border:1px solid rgba(255,255,255,.14);color:#e2e8f0;font-size:11px;padding:4px 8px;border-radius:4px;cursor:pointer;line-height:1.1;transition:background .12s ease,border-color .12s ease}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ffffff1f}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{outline:2px solid #6366f1;outline-offset:2px}.close-btn[_ngcontent-%COMP%]{background:#ffffff0a}.close-btn[_ngcontent-%COMP%]:hover{background:#ffffff1f}.custom-editor[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_popIn .16s cubic-bezier(.4,0,.2,1)}@keyframes _ngcontent-%COMP%_popIn{0%{transform:translateY(4px) scale(.98);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}']})};var vne=()=>({Name:"ExposureGroup",DisplayName:"Exposure Group"}),yne=()=>({Name:"ResultsTotalCount",DisplayName:"Samples"}),bne=(i,t)=>[i,t],wne=()=>["SampleDate","ExposureGroup","TWA","Notes","SampleNumber"];function xne(i,t){i&1&&(P(0,"div",3),Ne(1,"mat-progress-spinner",4),V())}function Ene(i,t){if(i&1&&(Bt(0),Y(1),Kt(2,"date"),Ut()),i&2){let e=ee().value;B(),_t(zi(2,1,e,"mediumDate"))}}function Cne(i,t){if(i&1&&(Bt(0),Y(1),Kt(2,"number"),Ut()),i&2){let e=ee().value;B(),_t(zi(2,1,e,"1.3-3"))}}function Tne(i,t){if(i&1&&(Bt(0),Y(1),Ut()),i&2){let e=ee().value;B(),_t(e)}}function Sne(i,t){if(i&1&&(Bt(0,6),ke(1,Ene,3,4,"ng-container",7)(2,Cne,3,4,"ng-container",7)(3,Tne,2,1,"ng-container",8),Ut()),i&2){let e=t.id;Z("ngSwitch",e),B(),Z("ngSwitchCase","SampleDate"),B(),Z("ngSwitchCase","TWA")}}function kne(i,t){if(i&1&&(P(0,"ez-table",5),ke(1,Sne,4,3,"ng-template",null,0,en),V()),i&2){let e=ee(),n=fg(0);Z("items",n)("summaryColumns",Yk(6,bne,qi(4,vne),qi(5,yne)))("detailColumns",qi(9,wne))("detailFor",e.detailForFn)}}var Iy=class i{firestore=g(Ci);orgService=g(Cn);exposureGroups$;detailForFn=t=>t?.Results??[];constructor(){let t=this.orgService.orgStore.currentOrg()?.Uid||"unknown",e=tr(this.firestore,`organizations/${t}/exposureGroups`);this.exposureGroups$=Aa(e,{idField:"Uid"}).pipe(De(n=>n))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=pe({type:i,selectors:[["app-exposure-groups"]],decls:4,vars:5,consts:[["cell",""],["class","page-loading","style","display:flex; align-items:center; justify-content:center; height: 40vh;",4,"ngIf"],[3,"items","summaryColumns","detailColumns","detailFor",4,"ngIf"],[1,"page-loading",2,"display","flex","align-items","center","justify-content","center","height","40vh"],["mode","indeterminate","diameter","48"],[3,"items","summaryColumns","detailColumns","detailFor"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(e,n){if(e&1&&(Nd(0),Kt(1,"async"),ke(2,xne,2,0,"div",1)(3,kne,3,10,"ez-table",2)),e&2){let r=hg(Va(1,2,n.exposureGroups$));B(2),Z("ngIf",!r||r.length===0),B(),Z("ngIf",r&&r.length>0)}},dependencies:[ni,Ki,is,ll,dl,qc,Gc,Kc,ns,fl,hl],encapsulation:2})};var zp=class i{constructor(t){this.data=t;t?.agent&&(this.model={Name:t.agent.Name,OELNumber:t.agent.OELNumber})}ref=g(ca);model={Name:"",OELNumber:.05};close(){this.ref.close(null)}save(){this.model.Name.trim()&&this.ref.close({Name:this.model.Name.trim(),OELNumber:Number(this.model.OELNumber)})}static \u0275fac=function(e){return new(e||i)(tt(Co))};static \u0275cmp=pe({type:i,selectors:[["app-new-agent-dialog"]],decls:15,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[2,"display","grid","grid-template-columns","120px 1fr","gap","8px","align-items","center"],["placeholder","Agent name",3,"ngModelChange","ngModel"],["type","number","step","0.0001","min","0",3,"ngModelChange","ngModel"],["mat-dialog-actions","","align","end"],["mat-button","",3,"click"],["matButton","filled",3,"click"]],template:function(e,n){e&1&&(P(0,"h2",0),Y(1),V(),P(2,"div",1)(3,"div",2)(4,"label"),Y(5,"Name"),V(),P(6,"input",3),Zn("ngModelChange",function(a){return Qn(n.model.Name,a)||(n.model.Name=a),a}),V(),P(7,"label"),Y(8,"OEL"),V(),P(9,"input",4),Zn("ngModelChange",function(a){return Qn(n.model.OELNumber,a)||(n.model.OELNumber=a),a}),V()()(),P(10,"div",5)(11,"button",6),fe("click",function(){return n.close()}),Y(12,"Cancel"),V(),P(13,"button",7),fe("click",function(){return n.save()}),Y(14,"Save"),V()()),e&2&&(B(),_t((n.data==null?null:n.data.mode)==="edit"?"Edit Agent":"New Agent"),B(5),Yn("ngModel",n.model.Name),B(3),Yn("ngModel",n.model.OELNumber))},dependencies:[ni,hs,am,sm,om,Sa,To,Pl,So,mm,Za,li,vn],encapsulation:2})};var Ine=()=>({Name:"Name",DisplayName:"Name"}),Dne=()=>({Name:"OELNumber",DisplayName:"OEL"}),Ane=()=>({Name:"UsageCount",DisplayName:"Usage"}),Rne=()=>({Name:"Actions",DisplayName:"",Sortable:!1}),Mne=(i,t,e,n)=>[i,t,e,n],One=()=>({Name:"ExposureGroup",DisplayName:"Exposure Group"}),Fne=i=>[i];function Pne(i,t){i&1&&(P(0,"div",6),Ne(1,"mat-progress-spinner",7),V())}function Nne(i,t){if(i&1){let e=mt();Bt(0),P(1,"div",12)(2,"button",13),fe("click",function(){Ae(e);let r=ee().$implicit,a=ee(2);return Re(a.editAgent(r))}),Y(3,"Edit"),V(),P(4,"button",14),fe("click",function(){Ae(e);let r=ee().$implicit,a=ee(2);return Re(a.deleteAgent(r))}),Y(5,"Delete"),V()(),Ut()}}function Lne(i,t){if(i&1&&(Bt(0),Y(1),Ut()),i&2){let e=ee(),n=e.$implicit,r=e.column;B(),jt(" ",r!=null&&r.Name?n[r.Name]:n[r]," ")}}function Vne(i,t){if(i&1&&(Bt(0,9),ke(1,Nne,6,0,"ng-container",10)(2,Lne,2,1,"ng-container",11),Ut()),i&2){let e=t.column;Z("ngSwitch",e&&(e.Name||e)),B(),Z("ngSwitchCase","Actions")}}function Bne(i,t){if(i&1&&(P(0,"ez-table",8),ke(1,Vne,3,2,"ng-template",null,0,en),V()),i&2){let e=ee(),n=fg(7);Z("items",n)("keyFor",e.keyForAgent)("summaryColumns",cl(9,Mne,qi(5,Ine),qi(6,Dne),qi(7,Ane),qi(8,Rne)))("detailColumns",Xk(15,Fne,qi(14,One)))("detailFor",e.detailForAgent)}}var Dy=class i{agentService=g(Lc);orgService=g(Cn);dialog=g(Qa);snack=g(Nc);firestore=g(Ci);agents$;constructor(){let t=this.orgService.orgStore.currentOrg()?.Uid||"unknown",e=this.agentService.list(t),n=Aa(tr(this.firestore,`organizations/${t}/exposureGroups`),{idField:"Uid"});this.agents$=Br([e,n]).pipe(De(([r,a])=>(r||[]).map(s=>{let c=(a||[]).filter(l=>Array.isArray(l?.Results)&&l.Results.some(d=>(d?.Agent||"").trim()===s.Name)).map(l=>l?.ExposureGroup||l?.Group||"");return{Name:s.Name,OELNumber:s.OELNumber,UsageCount:c.length,Groups:c}}).sort((s,c)=>s.Name.localeCompare(c.Name))))}detailForAgent=t=>(t?.Groups||[]).map(e=>({ExposureGroup:e}));keyForAgent=t=>(t?.Name||"").toLowerCase();addAgent(){return N(this,null,function*(){let e=yield this.dialog.open(zp,{width:"420px",data:{mode:"create"}}).afterClosed().toPromise();if(e)try{let n=this.orgService.orgStore.currentOrg()?.Uid;if(!n)throw new Error("No org");yield this.agentService.upsert(n,{Name:e.Name,OELNumber:Number(e.OELNumber)}),this.snack.open("Agent saved.","OK",{duration:2e3})}catch{this.snack.open("Failed to save agent.","Dismiss",{duration:3e3})}})}editAgent(t){return N(this,null,function*(){let n=yield this.dialog.open(zp,{width:"420px",data:{mode:"edit",agent:t}}).afterClosed().toPromise();if(n)try{let r=this.orgService.orgStore.currentOrg()?.Uid;if(!r)throw new Error("No org");yield this.agentService.upsert(r,{Name:n.Name,OELNumber:Number(n.EOLNumber??n.OELNumber)}),this.snack.open("Agent updated.","OK",{duration:2e3})}catch{this.snack.open("Failed to update agent.","Dismiss",{duration:3e3})}})}deleteAgent(t){return N(this,null,function*(){if(confirm(`Delete agent "${t.Name}"?`))try{let e=this.orgService.orgStore.currentOrg()?.Uid;if(!e)throw new Error("No org");yield this.agentService.remove(e,t.Name),this.snack.open("Agent deleted.","OK",{duration:2e3})}catch{this.snack.open("Failed to delete agent.","Dismiss",{duration:3e3})}})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=pe({type:i,selectors:[["app-agents"]],decls:11,vars:5,consts:[["cell",""],[2,"display","flex","align-items","center","justify-content","space-between","margin-bottom","8px","gap","12px"],[2,"margin","0"],["mat-raised-button","","color","primary",3,"click"],["class","page-loading","style","display:flex; align-items:center; justify-content:center; height: 40vh;",4,"ngIf"],["defaultSortActive","Name","defaultSortDirection","asc",3,"items","keyFor","summaryColumns","detailColumns","detailFor",4,"ngIf"],[1,"page-loading",2,"display","flex","align-items","center","justify-content","center","height","40vh"],["mode","indeterminate","diameter","48"],["defaultSortActive","Name","defaultSortDirection","asc",3,"items","keyFor","summaryColumns","detailColumns","detailFor"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[2,"text-align","right","width","100%"],["mat-button","",3,"click"],["mat-button","","color","warn",3,"click"]],template:function(e,n){if(e&1){let r=mt();P(0,"div",1)(1,"h2",2),Y(2,"Agents"),V(),P(3,"button",3),fe("click",function(){return Ae(r),Re(n.addAgent())}),P(4,"mat-icon"),Y(5,"add"),V(),Y(6," New Agent "),V()(),Nd(7),Kt(8,"async"),ke(9,Pne,2,0,"div",4)(10,Bne,3,17,"ez-table",5)}if(e&2){B(7);let r=hg(Va(8,2,n.agents$));B(2),Z("ngIf",!r||r.length===0),B(),Z("ngIf",r&&r.length>0)}},dependencies:[ni,Ki,is,ll,dl,li,vn,_n,lr,hs,qc,Gc,Kc,ns],styles:["table[_ngcontent-%COMP%]{width:100%}.detail-row[_ngcontent-%COMP%]{background:#ffffff08}"]})};var h3=[{path:"home",title:"home",component:a0},{path:"org",title:"Org Selector",component:xy},{path:"data",title:"Data",component:by},{path:"exceedance-fraction",title:"Exceedance Fraction",component:ky},{path:"exposure-groups",title:"Exposure Groups",component:Iy},{path:"agents",title:"Agents",component:Dy}];var Une="@",zne=(()=>{class i{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=g($e);loadingSchedulerFn=g(jne,{optional:!0});_engine;constructor(e,n,r,a,o){this.doc=e,this.delegate=n,this.zone=r,this.animationType=a,this.moduleImpl=o}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-CV7PR5LX.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(r=>{throw new st(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:a})=>{this._engine=r(this.animationType,this.doc);let o=new a(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let a=new DS(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(o=>{let s=o.createRenderer(e,n);a.use(s),this.scheduler??=this.injector.get(wk,null,{optional:!0}),this.scheduler?.notify(10)}).catch(o=>{a.use(r)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(n){Zh()};static \u0275prov=le({token:i,factory:i.\u0275fac})}return i})(),DS=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,r){this.delegate.insertBefore(t,e,n,r)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,r){return this.shouldReplay(e)&&this.replay.push(a=>a.listen(t,e,n,r)),this.delegate.listen(t,e,n,r)}shouldReplay(t){return this.replay!==null&&t.startsWith(Une)}},jne=new se("");function f3(i="animations"){return sb("NgAsyncAnimations"),sr([{provide:Kn,useFactory:(t,e,n)=>new zne(t,e,n,i),deps:[et,hf,Me]},{provide:Ad,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Ay={production:!1,firebase:{apiKey:"AIzaSyCDnTeNilYXpVP7l1yoY9bX0L9q1WiNhBY",authDomain:"leadzilla-ce7ab.firebaseapp.com",databaseURL:"https://leadzilla-ce7ab.firebaseio.com",projectId:"leadzilla-ce7ab",storageBucket:"leadzilla-ce7ab.firebasestorage.app",messagingSenderId:"142168986439",appId:"1:142168986439:web:ee8d6c9592035ecfe43262",measurementId:"G-6H2LWP9XVP"},useEmulators:!1};var AS="Service workers are disabled or not supported by this browser",Mh=class{serviceWorker;worker;registration;events;constructor(t,e){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=new Li(n=>n.error(new st(5601,!1)));else{let n=null,r=new ge;this.worker=new Li(l=>(n!==null&&l.next(n),r.subscribe(d=>l.next(d))));let a=()=>{let{controller:l}=t;l!==null&&(n=l,r.next(n))};t.addEventListener("controllerchange",a),a(),this.registration=this.worker.pipe(ii(()=>t.getRegistration().then(l=>{if(!l)throw new st(5601,!1);return l})));let o=new ge;this.events=o.asObservable();let s=l=>{let{data:d}=l;d?.type&&o.next(d)};t.addEventListener("message",s),e?.get(Jr,null,{optional:!0})?.onDestroy(()=>{t.removeEventListener("controllerchange",a),t.removeEventListener("message",s)})}}postMessage(t,e){return new Promise(n=>{this.worker.pipe(fi(1)).subscribe(r=>{r.postMessage(ae({action:t},e)),n()})})}postMessageWithOperation(t,e,n){let r=this.waitForOperationCompleted(n),a=this.postMessage(t,e);return Promise.all([a,r]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let e;return typeof t=="string"?e=n=>n.type===t:e=n=>t.includes(n.type),this.events.pipe(Dt(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(fi(1))}waitForOperationCompleted(t){return new Promise((e,n)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(Dt(r=>r.nonce===t),fi(1),De(r=>{if(r.result!==void 0)return r.result;throw new Error(r.error)})).subscribe({next:e,error:n})})}get isEnabled(){return!!this.serviceWorker}},Hne=(()=>{class i{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new ge;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=Hs,this.notificationClicks=Hs,this.notificationCloses=Hs,this.pushSubscriptionChanges=Hs,this.subscription=Hs;return}this.messages=this.sw.eventsOfType("PUSH").pipe(De(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(De(r=>r.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(De(r=>r.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(De(r=>r.data)),this.pushManager=this.sw.registration.pipe(De(r=>r.pushManager));let n=this.pushManager.pipe(ii(r=>r.getSubscription()));this.subscription=new Li(r=>{let a=n.subscribe(r),o=this.subscriptionChanges.subscribe(r);return()=>{a.unsubscribe(),o.unsubscribe()}})}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(AS));let n={userVisibleOnly:!0},r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(r.length));for(let o=0;o<r.length;o++)a[o]=r.charCodeAt(o);return n.applicationServerKey=a,new Promise((o,s)=>{this.pushManager.pipe(ii(c=>c.subscribe(n)),fi(1)).subscribe({next:c=>{this.subscriptionChanges.next(c),o(c)},error:s})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(AS));let e=n=>{if(n===null)throw new st(5602,!1);return n.unsubscribe().then(r=>{if(!r)throw new st(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((n,r)=>{this.subscription.pipe(fi(1),ii(e)).subscribe({next:n,error:r})})}decodeBase64(e){return atob(e)}static \u0275fac=function(n){return new(n||i)(Et(Mh))};static \u0275prov=le({token:i,factory:i.\u0275fac})}return i})(),Wne=(()=>{class i{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=Hs,this.unrecoverable=Hs;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED","VERSION_FAILED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(AS));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let e=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new st(5601,!1));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(n){return new(n||i)(Et(Mh))};static \u0275prov=le({token:i,factory:i.\u0275fac})}return i})();var p3=new se("");function $ne(){let i=g(jp);if(!("serviceWorker"in navigator&&i.enabled!==!1))return;let t=g(p3),e=g(Me),n=g(Jr);e.runOutsideAngular(()=>{let r=navigator.serviceWorker,a=()=>r.controller?.postMessage({action:"INITIALIZE"});r.addEventListener("controllerchange",a),n.onDestroy(()=>{r.removeEventListener("controllerchange",a)})}),e.runOutsideAngular(()=>{let r,{registrationStrategy:a}=i;if(typeof a=="function")r=new Promise(o=>a().subscribe(()=>o()));else{let[o,...s]=(a||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":r=Promise.resolve();break;case"registerWithDelay":r=m3(+s[0]||0);break;case"registerWhenStable":r=Promise.race([n.whenStable(),m3(+s[0])]);break;default:throw new st(5600,!1)}}r.then(()=>{n.destroyed||navigator.serviceWorker.register(t,{scope:i.scope,updateViaCache:i.updateViaCache,type:i.type}).catch(o=>console.error(qh(5604,!1)))})})}function m3(i){return new Promise(t=>setTimeout(t,i))}function Gne(i,t){return new Mh(i.enabled!==!1?navigator.serviceWorker:void 0,t)}var jp=class{enabled;updateViaCache;type;scope;registrationStrategy};function g3(i,t={}){return sr([Hne,Wne,{provide:p3,useValue:i},{provide:jp,useValue:t},{provide:Mh,useFactory:Gne,deps:[jp,$e]},db($ne)])}var _3={providers:[Jk({eventCoalescing:!0}),pw(h3),f3(),_F(()=>{let i=vF(Ay.firebase);return Ay.useEmulators&&(EP(nT(i),"http://localhost:9099"),PP(lT(i),"127.0.0.1",8080),qP(vT(i),"127.0.0.1",5001)),i}),xP(()=>nT()),MP(()=>lT()),GP(()=>vT()),g3("ngsw-worker.js",{enabled:Ay.production,registrationStrategy:"registerWhenStable:3000"})]};var v3=["*"],qne=["content"],Kne=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Xne=["mat-drawer","mat-drawer-content","*"];function Yne(i,t){if(i&1){let e=mt();P(0,"div",1),fe("click",function(){Ae(e);let r=ee();return Re(r._onBackdropClicked())}),V()}if(i&2){let e=ee();xe("mat-drawer-shown",e._isShowingBackdrop())}}function Qne(i,t){i&1&&(P(0,"mat-drawer-content"),Qe(1,2),V())}var Zne=new se("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:Jne}),y3=new se("MAT_DRAWER_CONTAINER");function Jne(){return!1}var Hp=(()=>{class i extends Il{_platform=g(vt);_changeDetectorRef=g(bt);_container=g(MS);constructor(){let e=g(Ce),n=g(Eo),r=g(Me);super(e,n,r)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:e,end:n}=this._container;return e!=null&&e.mode!=="over"&&e.opened||n!=null&&n.mode!=="over"&&n.opened}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(n,r){n&2&&(fn("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px"),xe("mat-drawer-content-hidden",r._shouldBeHidden()))},features:[Tt([{provide:Il,useExisting:i}]),dt],ngContentSelectors:v3,decls:1,vars:0,template:function(n,r){n&1&&(Ot(),Qe(0))},encapsulation:2,changeDetection:0})}return i})(),RS=(()=>{class i{_elementRef=g(Ce);_focusTrapFactory=g(Lf);_focusMonitor=g(Ln);_platform=g(vt);_ngZone=g(Me);_renderer=g(Jt);_interactivityChecker=g(iu);_doc=g(et);_container=g(y3,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=ln(e)}_disableClose=!1;get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=ln(e)),this._autoFocus=e}_autoFocus;get opened(){return this._opened()}set opened(e){this.toggle(ln(e))}_opened=it(!1);_openedVia;_animationStarted=new ge;_animationEnd=new ge;openedChange=new Je(!0);_openedStream=this.openedChange.pipe(Dt(e=>e),De(()=>{}));openedStart=this._animationStarted.pipe(Dt(()=>this.opened),eb(void 0));_closedStream=this.openedChange.pipe(Dt(e=>!e),De(()=>{}));closedStart=this._animationStarted.pipe(Dt(()=>!this.opened),eb(void 0));_destroyed=new ge;onPositionChanged=new Je;_content;_modeChanged=new ge;_injector=g($e);_changeDetectorRef=g(bt);constructor(){this.openedChange.pipe(pt(this._destroyed)).subscribe(e=>{e?(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement,this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement;mk(e,"keydown").pipe(Dt(n=>n.keyCode===27&&!this.disableClose&&!gn(n)),pt(this._destroyed)).subscribe(n=>this._ngZone.run(()=>{this.close(),n.stopPropagation(),n.preventDefault()})),this._eventCleanups=[this._renderer.listen(e,"transitionrun",this._handleTransitionEvent),this._renderer.listen(e,"transitionend",this._handleTransitionEvent),this._renderer.listen(e,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this.opened)})}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{a(),o(),e.removeAttribute("tabindex")},a=this._renderer.listen(e,"blur",r),o=this._renderer.listen(e,"mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":bi(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,n){e&&n&&(this._openedVia=n);let r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,n,r){return e===this.opened?Promise.resolve(e?"open":"close"):(this._opened.set(e),this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",e),!e&&n&&this._restoreFocus(r),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(fi(1)).subscribe(o=>a(o?"open":"close"))}))}_setIsAnimating(e){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",e)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let n=this._elementRef.nativeElement,r=n.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,n)),r.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}_handleTransitionEvent=e=>{let n=this._elementRef.nativeElement;e.target===n&&this._ngZone.run(()=>{e.type==="transitionrun"?this._animationStarted.next(e):(e.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(e))})};static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-drawer"]],viewQuery:function(n,r){if(n&1&&lt(qne,5),n&2){let a;ve(a=ye())&&(r._content=a.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(n,r){n&2&&(Ge("align",null)("tabIndex",r.mode!=="side"?"-1":null),fn("visibility",!r._container&&!r.opened?"hidden":null),xe("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:v3,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,r){n&1&&(Ot(),P(0,"div",1,0),Qe(2),V())},dependencies:[Il],encapsulation:2,changeDetection:0})}return i})(),MS=(()=>{class i{_dir=g(Fi,{optional:!0});_element=g(Ce);_ngZone=g(Me);_changeDetectorRef=g(bt);_animationDisabled=Wt();_transitionsEnabled=!1;_allDrawers;_drawers=new Zo;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=ln(e)}_autosize=g(Zne);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:ln(e)}_backdropOverride;backdropClick=new Je;_start;_end;_left;_right;_destroyed=new ge;_doCheckSubject=new ge;_contentMargins={left:null,right:null};_contentMarginChanges=new ge;get scrollable(){return this._userContent||this._content}_injector=g($e);constructor(){let e=g(vt),n=g(aa);this._dir?.change.pipe(pt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),n.change().pipe(pt(this._destroyed)).subscribe(()=>this.updateContentMargins()),!this._animationDisabled&&e.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(Si(this._allDrawers),pt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Si(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(_o(10),pt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,n=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let r=this._left._getWidth();e+=r,n-=r}}if(this._right&&this._right.opened){if(this._right.mode=="side")n+=this._right._getWidth();else if(this._right.mode=="push"){let r=this._right._getWidth();n+=r,e-=r}}e=e||null,n=n||null,(e!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:e,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(pt(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(pt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e.onPositionChanged.pipe(pt(this._drawers.changes)).subscribe(()=>{bi({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(e){e._modeChanged.pipe(pt(Vi(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let n=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?n.add(r):n.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(n,r,a){if(n&1&&(ft(a,Hp,5),ft(a,RS,5)),n&2){let o;ve(o=ye())&&(r._content=o.first),ve(o=ye())&&(r._allDrawers=o)}},viewQuery:function(n,r){if(n&1&&lt(Hp,5),n&2){let a;ve(a=ye())&&(r._userContent=a.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,r){n&2&&xe("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Tt([{provide:y3,useExisting:i}])],ngContentSelectors:Xne,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,r){n&1&&(Ot(Kne),rt(0,Yne,1,2,"div",0),Qe(1),Qe(2,1),rt(3,Qne,2,0,"mat-drawer-content")),n&2&&(at(r.hasBackdrop?0:-1),B(3),at(r._content?-1:3))},dependencies:[Hp],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return i})();var Ry=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[ot,Ta,Ta,ot]})}return i})();var b3=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[ot,ot]})}return i})();var tre=["*"],ire=`.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mat-list-list-item-container-color, transparent);border-radius:var(--mat-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mat-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mat-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mat-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mat-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-leading-icon-size, 24px);height:var(--mat-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mat-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mat-list-list-item-leading-avatar-size, 40px);height:var(--mat-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mat-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mat-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mat-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mat-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mat-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-trailing-icon-size, 24px);height:var(--mat-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mat-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mat-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mat-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mat-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mat-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mat-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mat-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mat-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mat-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mat-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mat-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mat-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mat-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mat-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius: var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}
`,nre=["unscopedContent"],rre=["text"],are=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],ore=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var sre=new se("ListOption"),cre=(()=>{class i{_elementRef=g(Ce);constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return i})(),lre=(()=>{class i{_elementRef=g(Ce);constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return i})(),dre=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return i})(),w3=(()=>{class i{_listOption=g(sre,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,hostVars:4,hostBindings:function(n,r){n&2&&xe("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())}})}return i})(),ure=(()=>{class i extends w3{static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[dt]})}return i})(),hre=(()=>{class i extends w3{static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[dt]})}return i})(),fre=new se("MAT_LIST_CONFIG"),OS=(()=>{class i{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ln(e)}_disableRipple=!1;get disabled(){return this._disabled()}set disabled(e){this._disabled.set(ln(e))}_disabled=it(!1);_defaultOptions=g(fre,{optional:!0});static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,hostVars:1,hostBindings:function(n,r){n&2&&Ge("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return i})(),mre=(()=>{class i{_elementRef=g(Ce);_ngZone=g(Me);_listBase=g(OS,{optional:!0});_platform=g(vt);_hostElement;_isButtonElement;_noopAnimations=Wt();_avatars;_icons;set lines(e){this._explicitLines=Hr(e,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=ln(e)}_disableRipple=!1;get disabled(){return this._disabled()||!!this._listBase?.disabled}set disabled(e){this._disabled.set(ln(e))}_disabled=it(!1);_subscriptions=new Zi;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){g(ui).load(Jn);let e=g(ls,{optional:!0});this.rippleConfig=e||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Sl(this,this._ngZone,this._hostElement,this._platform,g($e)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(Vi(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let n=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",n===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",n===3),this._hasUnscopedTextContent){let a=this._titles.length===0&&n===1;r.classList.toggle("mdc-list-item__primary-text",a),r.classList.toggle("mdc-list-item__secondary-text",!a)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,contentQueries:function(n,r,a){if(n&1&&(ft(a,ure,4),ft(a,hre,4)),n&2){let o;ve(o=ye())&&(r._avatars=o),ve(o=ye())&&(r._icons=o)}},hostVars:4,hostBindings:function(n,r){n&2&&(Ge("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),xe("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return i})();var x3=(()=>{class i extends mre{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(e){this._activated=ln(e)}_activated=!1;_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275cmp=pe({type:i,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(n,r,a){if(n&1&&(ft(a,lre,5),ft(a,cre,5),ft(a,dre,5)),n&2){let o;ve(o=ye())&&(r._lines=o),ve(o=ye())&&(r._titles=o),ve(o=ye())&&(r._meta=o)}},viewQuery:function(n,r){if(n&1&&(lt(nre,5),lt(rre,5)),n&2){let a;ve(a=ye())&&(r._unscopedContent=a.first),ve(a=ye())&&(r._itemText=a.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(n,r){n&2&&(Ge("aria-current",r._getAriaCurrent()),xe("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",r._avatars.length!==0)("mdc-list-item--with-leading-icon",r._icons.length!==0)("mdc-list-item--with-trailing-meta",r._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",r._hasBothLeadingAndTrailing())("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[dt],ngContentSelectors:ore,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(n,r){if(n&1){let a=mt();Ot(are),Qe(0),P(1,"span",1),Qe(2,1),Qe(3,2),P(4,"span",2,0),fe("cdkObserveContent",function(){return Ae(a),Re(r._updateItemLines(!0))}),Qe(6,3),V()(),Qe(7,4),Qe(8,5),Ne(9,"div",3)}},dependencies:[sA],encapsulation:2,changeDetection:0})}return i})();var E3=(()=>{class i extends OS{_isNonInteractive=!1;static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(i)))(r||i)}})();static \u0275cmp=pe({type:i,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[Tt([{provide:OS,useExisting:i}]),dt],ngContentSelectors:tre,decls:1,vars:0,template:function(n,r){n&1&&(Ot(),Qe(0))},styles:[ire],encapsulation:2,changeDetection:0})}return i})();var My=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[tu,ot,Ca,Lv,b3]})}return i})();var gre=["*",[["mat-toolbar-row"]]],_re=["*","mat-toolbar-row"],vre=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return i})(),C3=(()=>{class i{_elementRef=g(Ce);_platform=g(vt);_document=g(et);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=pe({type:i,selectors:[["mat-toolbar"]],contentQueries:function(n,r,a){if(n&1&&ft(a,vre,5),n&2){let o;ve(o=ye())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(n,r){n&2&&(sn(r.color?"mat-"+r.color:""),xe("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:_re,decls:2,vars:0,template:function(n,r){n&1&&(Ot(gre),Qe(0),Qe(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return i})();var Oy=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Be({type:i});static \u0275inj=Ve({imports:[ot,ot]})}return i})();var bre=["drawer"];function wre(i,t){i&1&&(P(0,"a",9),Y(1,"Data Upload"),V())}function xre(i,t){i&1&&(P(0,"a",10),Y(1,"Exceedance Fractions"),V())}function Ere(i,t){i&1&&(P(0,"a",11),Y(1,"Exposure Groups"),V())}function Cre(i,t){i&1&&(P(0,"a",12),Y(1,"Agents"),V())}var Fy=class i{organizationService=g(Cn);drawer;toggle(){this.drawer?.toggle()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=pe({type:i,selectors:[["app-left-navigation"]],viewQuery:function(e,n){if(e&1&&lt(bre,5),e&2){let r;ve(r=ye())&&(n.drawer=r.first)}},decls:13,vars:4,consts:[["drawer",""],[1,"app-container"],["mode","side","opened","",1,"app-sidenav"],["mat-list-item","","routerLink","/org","routerLinkActive","mdc-list-item--activated"],["mat-list-item","","routerLink","/data","routerLinkActive","mdc-list-item--activated",4,"ngIf"],["mat-list-item","","routerLink","/exceedance-fraction","routerLinkActive","mdc-list-item--activated",4,"ngIf"],["mat-list-item","","routerLink","/exposure-groups","routerLinkActive","mdc-list-item--activated",4,"ngIf"],["mat-list-item","","routerLink","/agents","routerLinkActive","mdc-list-item--activated",4,"ngIf"],[1,"content"],["mat-list-item","","routerLink","/data","routerLinkActive","mdc-list-item--activated"],["mat-list-item","","routerLink","/exceedance-fraction","routerLinkActive","mdc-list-item--activated"],["mat-list-item","","routerLink","/exposure-groups","routerLinkActive","mdc-list-item--activated"],["mat-list-item","","routerLink","/agents","routerLinkActive","mdc-list-item--activated"]],template:function(e,n){if(e&1&&(P(0,"mat-drawer-container",1)(1,"mat-drawer",2,0)(3,"mat-nav-list")(4,"a",3),Y(5,"Org"),V(),ke(6,wre,2,0,"a",4)(7,xre,2,0,"a",5)(8,Ere,2,0,"a",6)(9,Cre,2,0,"a",7),V()(),P(10,"mat-drawer-content")(11,"div",8),Ne(12,"router-outlet"),V()()()),e&2){let r,a,o,s;B(6),Z("ngIf",(r=n.organizationService.orgStore.currentOrg())==null?null:r.Name),B(),Z("ngIf",(a=n.organizationService.orgStore.currentOrg())==null?null:a.Name),B(),Z("ngIf",(o=n.organizationService.orgStore.currentOrg())==null?null:o.Name),B(),Z("ngIf",(s=n.organizationService.orgStore.currentOrg())==null?null:s.Name)}},dependencies:[ni,Ki,Ry,RS,MS,Hp,My,E3,x3,Zd,mw,Af],styles:[".app-container[_ngcontent-%COMP%]{height:calc(100vh - 64px)}.app-sidenav[_ngcontent-%COMP%]{width:260px;padding:8px}.content[_ngcontent-%COMP%]{padding:16px 24px;max-width:1280px;margin:0 auto}"]})};var Py=class i{menuClick=new Je;organizationService=g(Cn);auth=g(Xi);router=g(xo);onMenuClick(){this.menuClick.emit()}logout(){return N(this,null,function*(){try{this.organizationService.clearCurrentOrg(),yield Av(this.auth)}catch{}})}goToOrg(){this.router.navigateByUrl("/org")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=pe({type:i,selectors:[["app-header"]],outputs:{menuClick:"menuClick"},decls:10,vars:1,consts:[["color","primary",1,"app-toolbar"],["mat-icon-button","","aria-label","Toggle navigation",3,"click"],[1,"app-title"],[1,"spacer"],[3,"orgClicked","org"],["mat-button","",3,"click"]],template:function(e,n){e&1&&(P(0,"mat-toolbar",0)(1,"button",1),fe("click",function(){return n.onMenuClick()}),P(2,"mat-icon"),Y(3,"menu"),V()(),P(4,"span",2),Y(5,"EZ Analyze"),V(),Ne(6,"span",3),P(7,"organization-circle",4),fe("orgClicked",function(){return n.goToOrg()}),V(),P(8,"button",5),fe("click",function(){return n.logout()}),Y(9,"Logout"),V()()),e&2&&(B(7),Z("org",n.organizationService.orgStore.currentOrg()))},dependencies:[ni,Oy,C3,li,vn,ra,_n,lr,Dh,Ah],styles:[".app-toolbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1000;padding:0 16px;display:flex;gap:8px}.app-title[_ngcontent-%COMP%]{font-weight:600}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]})};function Tre(i,t){i&1&&(P(0,"mat-icon",19),Y(1,"cloud_upload"),V())}function Sre(i,t){i&1&&(P(0,"mat-icon",19),Y(1,"calculate"),V())}function kre(i,t){i&1&&(P(0,"mat-icon",19),Y(1,"more_horiz"),V())}function Ire(i,t){if(i&1&&(P(0,"div",20),Y(1),V()),i&2){let e=ee().$implicit;B(),_t(e.detail)}}function Dre(i,t){if(i&1&&Ne(0,"mat-progress-bar",21),i&2){let e=ee().$implicit;Z("mode",e.indeterminate?"indeterminate":"determinate")("value",e.total?100*(e.done||0)/e.total:0)}}function Are(i,t){if(i&1){let e=mt();P(0,"div",11)(1,"div",12)(2,"div",13),ke(3,Tre,2,0,"mat-icon",14)(4,Sre,2,0,"mat-icon",14)(5,kre,2,0,"mat-icon",14),P(6,"span"),Y(7),V()(),P(8,"div",15),Y(9),V(),P(10,"button",16),fe("click",function(r){let a=Ae(e).$implicit,o=ee(4);return r.stopPropagation(),Re(o.remove(a.id))}),P(11,"mat-icon"),Y(12,"close"),V()()(),ke(13,Ire,2,1,"div",17)(14,Dre,1,2,"mat-progress-bar",18),V()}if(i&2){let e=t.$implicit;B(3),Z("ngIf",e.kind==="upload"),B(),Z("ngIf",e.kind==="compute"),B(),Z("ngIf",e.kind==="other"),B(2),_t(e.label),B(),xe("failed",e.status==="failed")("completed",e.status==="completed"),B(),jt(" ",e.status," "),B(),Ge("aria-label","Dismiss "+e.label),B(3),Z("ngIf",e.detail),B(),Z("ngIf",e.status==="running")}}function Rre(i,t){if(i&1&&(Bt(0),ke(1,Are,15,12,"div",10),Ut()),i&2){let e=t.ngIf,n=ee(3);B(),Z("ngForOf",e)("ngForTrackBy",n.trackById)}}function Mre(i,t){if(i&1&&(Bt(0),ke(1,Rre,2,2,"ng-container",9),Ut()),i&2){let e=ee(2);B(),Z("ngIf",e.tasks())}}function Ore(i,t){i&1&&(P(0,"div",22),Y(1,"No background activity."),V())}function Fre(i,t){if(i&1&&(P(0,"div",7),ke(1,Mre,2,1,"ng-container",8)(2,Ore,2,0,"ng-template",null,0,en),V()),i&2){let e=wi(3),n=ee();B(),Z("ngIf",n.tasks().length)("ngIfElse",e)}}var Ny=class i{svc=g(Th);collapsed=it(!1);tasks=this.svc.tasks;isShowing=Lt(()=>this.tasks().length>0);isCollapsed=Lt(()=>this.collapsed());toggle(){this.collapsed.set(!this.collapsed())}trackById(t,e){return e.id}remove(t){this.svc.removeTask(t)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=pe({type:i,selectors:[["app-background-status"]],decls:11,vars:6,consts:[["empty",""],[1,"bg-status"],[1,"header",3,"click"],[1,"title"],[1,"spacer"],["mat-icon-button","","aria-label","Toggle",3,"click"],["class","content",4,"ngIf"],[1,"content"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["class","task",4,"ngFor","ngForOf","ngForTrackBy"],[1,"task"],[1,"row"],[1,"label"],["class","kind",4,"ngIf"],[1,"state"],["mat-icon-button","",1,"dismiss",3,"click"],["class","detail",4,"ngIf"],[3,"mode","value",4,"ngIf"],[1,"kind"],[1,"detail"],[3,"mode","value"],[1,"empty"]],template:function(e,n){e&1&&(P(0,"div",1)(1,"div",2),fe("click",function(){return n.toggle()}),P(2,"mat-icon"),Y(3,"sync"),V(),P(4,"span",3),Y(5,"Background activity"),V(),Ne(6,"span",4),P(7,"button",5),fe("click",function(a){return a.stopPropagation(),n.toggle()}),P(8,"mat-icon"),Y(9),V()()(),ke(10,Fre,4,2,"div",6),V()),e&2&&(xe("isShowing",n.isShowing())("collapsed",n.isCollapsed()),B(9),_t(n.isCollapsed()?"expand_less":"expand_more"),B(),Z("ngIf",!n.isCollapsed()))},dependencies:[ni,Ys,Ki,_n,lr,yy,vy,li,ra],styles:[".bg-status[_ngcontent-%COMP%]{position:fixed;right:16px;bottom:16px;width:360px;max-height:50vh;background:#fff;color:#222;border-radius:8px;box-shadow:0 6px 24px #00000029;overflow:hidden;display:flex;flex-direction:column;z-index:1000}.bg-status.collapsed[_ngcontent-%COMP%]{height:44px}.header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 8px 8px 12px;background:#f5f5f5;border-bottom:1px solid rgba(0,0,0,.06);cursor:pointer}.title[_ngcontent-%COMP%]{font-weight:600}.spacer[_ngcontent-%COMP%]{flex:1}.content[_ngcontent-%COMP%]{padding:8px 12px 12px;overflow:auto}.dismiss[_ngcontent-%COMP%]{margin-left:4px}.task[_ngcontent-%COMP%]{margin-bottom:12px}.task[_ngcontent-%COMP%]:last-child{margin-bottom:0}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}.label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-weight:500}.kind[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px}.state[_ngcontent-%COMP%]{font-size:12px;opacity:.7;text-transform:capitalize}.state.failed[_ngcontent-%COMP%]{color:#c62828;opacity:1}.state.completed[_ngcontent-%COMP%]{color:#2e7d32;opacity:1}.detail[_ngcontent-%COMP%]{font-size:12px;opacity:.8;margin-bottom:6px}.empty[_ngcontent-%COMP%]{font-size:12px;opacity:.7}.bg-status[_ngcontent-%COMP%]{display:none}.bg-status.isShowing[_ngcontent-%COMP%]{display:block}"]})};var Pre=["leftNav"];function Nre(i,t){if(i&1){let e=mt();Bt(0),P(1,"app-header",3),fe("menuClick",function(){Ae(e);let r=wi(3);return Re(r==null?null:r.toggle())}),V(),Ne(2,"app-left-navigation",null,1),Ut()}}function Lre(i,t){if(i&1){let e=mt();P(0,"div",4)(1,"button",5),fe("click",function(){Ae(e);let r=ee();return Re(r.login())}),Y(2,"Login"),V()()}}var Ly=class i{title="EZAnalyze";organizationService=g(Cn);auth=g(Xi);user$=sh(this.auth);router=g(xo);leftNav;login(){return N(this,null,function*(){try{try{yield CP(this.auth)}catch{}try{yield TP(this.auth,new Iv)}catch{yield SP(this.auth,new Iv);return}}catch{}})}logout(){return N(this,null,function*(){try{this.organizationService.clearCurrentOrg(),yield Av(this.auth)}catch{}})}goToOrg(){this.router.navigateByUrl("/org")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=pe({type:i,selectors:[["app-root"]],viewQuery:function(e,n){if(e&1&&lt(Pre,5),e&2){let r;ve(r=ye())&&(n.leftNav=r.first)}},decls:5,vars:4,consts:[["loginScreen",""],["leftNav",""],[4,"ngIf","ngIfElse"],[3,"menuClick"],[1,"login-screen"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,n){if(e&1&&(ke(0,Nre,4,0,"ng-container",2),Kt(1,"async"),ke(2,Lre,3,0,"ng-template",null,0,en),Ne(4,"app-background-status")),e&2){let r=wi(3);Z("ngIf",Va(1,2,n.user$))("ngIfElse",r)}},dependencies:[ni,Ki,li,vn,Ry,My,Oy,_n,Dh,Fy,Py,Ny,ns],styles:["[_nghost-%COMP%]{display:block;height:100vh}.login-screen[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}"]})};Nb(Ly,_3).then(i=>{try{XP(i.injector)}catch{}}).catch(i=>console.error(i));
