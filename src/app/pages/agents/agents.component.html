<div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; gap:12px;">
    <h2 style="margin:0;">Agents</h2>
    <button mat-raised-button
            color="primary"
            (click)="addAgent()">
        <mat-icon>add</mat-icon>
        New Agent
    </button>
</div>

<ez-table [items]="(agents$ | async) ?? []"
          [summaryColumns]="[
            { Name: 'Name', DisplayName: 'Name' },
            { Name: 'OELNumber', DisplayName: 'OEL' },
            { Name: 'UsageCount', DisplayName: 'Usage' },
            { Name: 'Actions', DisplayName: '', Sortable: false }
          ]"
          [detailColumns]="[{ Name: 'ExposureGroup', DisplayName: 'Exposure Group' }]"
          [detailFor]="detailForAgent"
          defaultSortActive="Name"
          defaultSortDirection="asc">
    <ng-template #cell
                 let-item
                 let-col="column">
        <ng-container [ngSwitch]="col && (col.Name || col)">
            <ng-container *ngSwitchCase="'Actions'">
                <div style="text-align:right; width:100%;">
                    <button mat-button
                            (click)="editAgent(item)">Edit</button>
                    <button mat-button
                            color="warn"
                            (click)="deleteAgent(item)">Delete</button>
                </div>
            </ng-container>
            <ng-container *ngSwitchDefault>
                {{ (col?.Name ? item[col.Name] : item[col]) }}
            </ng-container>
        </ng-container>
    </ng-template>
        </ez-table>